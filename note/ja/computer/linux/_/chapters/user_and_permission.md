# 『ユーザと権限』ノート

（最終更新： 2023-03-12）


## 目次

1. [ユーザ](#ユーザ)
	1. [ユーザの作成](#ユーザの作成)
	1. [ユーザの変更](#ユーザの変更)
	1. [ユーザの削除](#ユーザの削除)
	1. [ユーザパスワードの変更](#ユーザパスワードの変更)
1. [グループ](#グループ)


## ユーザ

**ユーザ**は、Linuxシステムにログインしてシステムを使用するためのアカウント。各ユーザには一意のユーザ名が割り当てられており、各ユーザはそれぞれのホームディレクトリを持つ。ユーザはシステム上で一意のUIDが設定されている。

### ユーザの作成

`useradd` は、Linuxで新しいユーザを作成するためのコマンド。

コマンドの書式は以下の通り。

```
useradd [OPTION]... LOGIN
useradd -D
useradd -D [OPTION]...
```

例えば以下のコマンドを実行すると、新しいユーザアカウント `foo` を作成できる。

```sh
$ useradd foo
```

また、上記のコマンドを実行すると、 `/home/foo` ディレクトリが作成され、 `foo` ユーザがこのディレクトリを所有する。ただし、この時点ではパスワードが設定されていないため、ユーザはログインできない。パスワードを設定するには、以下のコマンドを実行する必要がある。

```sh
$ passwd foo
```

### ユーザの変更

`usermod` は、既存のユーザアカウントを変更するために使用されるコマンド。主に以下のようなユーザアカウント情報を変更するために使用される。

- ユーザ名
- ユーザパスワード
- ユーザの所属するグループ
- ユーザアカウントの有効期限

コマンドの書式は以下の通り。

```
usermod [OPTION]... LOGIN
```

例えば、ユーザ `foo` のホームディレクトリを `/home/bar` に変更する場合は、以下のコマンドを実行する。

```sh
$ usermod --home /home/bar foo
```

`usermod` コマンドはroot権限を持つユーザが実行する必要がある。

### ユーザの削除

`userdel` は、Linuxでユーザを削除するために使用されるコマンド。

コマンドの書式は以下の通り。

```
userdel [OPTION]... LOGIN
```

例えば、ユーザ名が `foo` のユーザを削除するには、以下のコマンドを実行する。

```sh
$ userdel foo
```

このコマンドの実行により、 `foo` はシステムから完全に削除されるが、ホームディレクトリやメールボックスといったユーザデータは削除されない。これらのデータを削除するには、 `-r` オプションを指定する。

`userdel` コマンドはroot権限を持つユーザが実行する必要がある。

### ユーザパスワードの変更

`passwd` は、Linuxでユーザのパスワードを変更するために使用されるコマンド。

コマンドの書式は以下の通り。

```
passwd [OPTION]... LOGIN
```

例えば、ユーザ名が `foo` のユーザのパスワードを変更するには、以下のコマンドを実行する。

```sh
$ passwd foo
```

`passwd` コマンドを実行すると、プロンプトでパスワードの入力が要求される。

`passwd` コマンドはroot権限を持つユーザが実行する必要がある。


## グループ

**グループ**は、複数のユーザをひとまとめにする機能で、アクセス権限の設定やファイルの所有権管理などに利用される。
