# 『基本コマンド』ノート

（最終更新： 2023-03-06）


## 目次

1. [コマンドの使い方](#コマンドの使い方)
	1. [マニュアル](#マニュアル)
	1. [ヘルプオプション](#ヘルプオプション)
1. [ファイル操作](#ファイル操作)
	1. [ファイルの一覧表示](#ファイルの一覧表示)
	1. [ファイルのコピー](#ファイルのコピー)
1. [ディレクトリ操作](#ディレクトリ操作)
	1. [カレントディレクトリの確認](#カレントディレクトリの確認)
	1. [ディレクトリの移動](#ディレクトリの移動)
	1. [ディレクトリの作成](#ディレクトリの作成)


## コマンドの使い方

コマンドの使い方がわからない場合、コマンドのマニュアルを確認したり、ヘルプオプションを利用して簡易的な説明を表示することができる。

### マニュアル

`man` は、コマンドのリファレンスマニュアルを表示するコマンド。マニュアルの種類にはセクション番号が振られており、番号を指定してマニュアルを調べることも可能。

| セクション番号 | 内容                                   |
| -------------- | :------------------------------------- |
| `1`            | Linuxコマンド                          |
| `2`            | システムコール（カーネル関数）         |
| `3`            | ライブラリコール（システム関数）       |
| `4`            | スペシャルファイル（デバイスファイル） |
| `5`            | ファイルのフォーマット                 |
| `6`            | ゲームやデモ                           |
| `7`            | マクロ                                 |
| `8`            | システム管理用のコマンド               |
| `9`            | カーネルルーチン                       |

コマンドの書式は以下の通り。

```
man [-acfhklw] [-C file] [-M path] [-m path] [-S subsection]
    [[-s] section] name ...
```

以下は、 `ls` コマンドのマニュアルを表示する例。

```sh
$ man ls
```

### ヘルプオプション

`--hlep | -h` は、多くのコマンドで用意されているオプションで、簡易的なコマンドの使用方法が確認できる。コマンドによっては、このオプションが用意されていない場合や、 `-h` が別の用途として用いられている場合があるので注意。

```sh
# manコマンドのヘルプ確認
$ man -h
usage: man [-acfhklw] [-C file] [-M path] [-m path] [-S subsection]
           [[-s] section] name ...
```


## ファイル操作

### ファイルの一覧表示

`ls` は、指定したディレクトリの中にあるファイルやディレクトリの一覧を取得するコマンド。ディレクトリを指定しなかった場合はカレントディレクトリ以下の一覧を取得する。

コマンドの書式は以下の通り。

```
ls [OPTION]... [FILE]...
```

以下はカレントディレクトリ、指定のディレクトリのファイル一覧を取得する例。

```sh
$ ls
repo  scripts  user  workspace

$ ls ./user
Desktop  Documents  Downloads  Music  Pictures  Public  Templates  Videos
```

利用可能なすべてのオプションについてはマニュアルに記載してある。よく使用されるオプションは以下の通り。

`-F` オプションを付与すると、ディレクトリの末尾には `/` が表示され、実行可能ファイルの末尾には `*` が表示され、シンボリックリンクの末尾には `@` が表示される。 `-a` オプションを付与すると、ドットファイル（ `.` から始まるファイル、隠しファイル）なども含めてすべて取得できる。 `-l` オプションを付与すると、詳細情報も含めた長い形式で結果を出力する。 `-t` オプションを付与すると、最終更新日時でソートして結果を出力する。 `-r` オプションを付与すると、逆順でソートして結果を出力する。

複数のオプションを組み合わせて指定することもできる。

```sh
$ ls user -latF
drwxr-xr-x 20 user user 4096 Mar  5 16:39 ../
drwxr-xr-x  2 user user 4096 Mar  5 16:19 Downloads/
drwxr-xr-x  2 user user 4096 Dec 17 16:39 Pictures/
drwxr-xr-x 10 user user 4096 Dec 11 14:29 ./
drwxr-xr-x  2 user user 4096 Aug 18  2022 Desktop/
drwxr-xr-x  2 user user 4096 Aug  7  2022 Documents/
drwxr-xr-x  2 user user 4096 Aug  7  2022 Music/
drwxr-xr-x  2 user user 4096 Aug  7  2022 Public/
drwxr-xr-x  2 user user 4096 Aug  7  2022 Templates/
drwxr-xr-x  2 user user 4096 Aug  7  2022 Videos/
```

`ls` コマンドでは、ワイルドカードとして `*` や `?` を用いることができる。 `*` は任意の文字列、 `?` は任意の位置文字を表すワイルドカード。

```sh
$ ls user/Pictures/*.png
sample_01.png  sample_02.png  sample_03.png

$ ls user/Pictures/sample_??.png
sample_01.png  sample_02.png  sample_03.png
```

### ファイルの作成

`touch` は、ファイルを作成するコマンド。正確には `touch` はファイルのタイムスタンプを変更するコマンドであるが、多くの場合はファイルの新規作成に用いられる。複数のファイルを同時に作成することもできる。

```sh
$ touch <filename>
$ touch <filename1> <filename2>
```

### ファイルの削除

`rm` は、ファイルを削除するコマンド。

### ファイルのコピー

`cp` は、ファイルを複製するコマンド。


## ディレクトリ操作

### カレントディレクトリの確認

`pwd` は、カレントディレクトリを表示するコマンド。

```sh
$ pwd
/home/user
```

### ディレクトリの移動

`cd` は、ディレクトリを移動するコマンド。

```sh一気に
$ cd <path>
```

### ディレクトリの作成

`mkdir` は、ディレクトリを作成するコマンド。 `-p` オプションを付与すると、2階層以上の深いパスを指定しても、必要に応じて親ディレクトリを作成する。

```sh
$ mkdir <directory>
```
