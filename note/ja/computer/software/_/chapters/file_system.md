# 『ファイルシステム』ノート

（最終更新： 2023-03-09）


## 目次

1. [ファイル](#ファイル)
	1. [レコード](#レコード)
	1. [フィールド](#フィールド)
	1. [実行ファイル](#実行ファイル)
	1. [データファイル](#データファイル)
	1. [テキストファイル](#テキストファイル)
	1. [バイナリファイル](#バイナリファイル)
	1. [ファイルフォーマット](#ファイルフォーマット)
	1. [拡張子](#拡張子)
	1. [ボリューム](#ボリューム)
1. [ディレクトリ](#ディレクトリ)
	1. [ツリー構造](#ツリー構造)
	1. [パス](#パス)
	1. [絶対パス](#絶対パス)
	1. [相対パス](#相対パス)
	1. [ルートディレクトリ](#ルートディレクトリ)
	1. [カレントディレクトリ](#カレントディレクトリ)
	1. [ホームディレクトリ](#ホームディレクトリ)
	1. [親ディレクトリ](#親ディレクトリ)
1. [ファイルシステム](#ファイルシステム)
	1. [パーティション](#パーティション)
	1. [マウント](#マウント)
	1. [アンマウント](#アンマウント)
	1. [仮想ファイルシステム](#仮想ファイルシステム)
	1. [FAT](#fat)
	1. [exFAT](#exfat)
	1. [NTFS](#ntfs)
	1. [HFS](#hfs)
	1. [APFS](#apfs)
	1. [XFS](#xfs)
	1. [ext4](#ext4)
	1. [BtrFS](#btrfs)
1. [エイリアス](#エイリアス)
1. [リンク](#リンク)
	1. [シンボリックリンク](#シンボリックリンク)
	1. [ハードリンク](#ハードリンク)


## ファイル

**ファイル**は、[コンピュータ](../../../_/chapters/computer.md#コンピュータ)がデータを取り扱う単位。

### レコード

**レコード**は、[ファイル](#ファイル)を構成する論理的な単位。

### フィールド

**フィールド**は、[レコード](#レコード)内の各項目。

### 実行ファイル

**実行ファイル**（**実行可能ファイル**）は、[コンピュータ](../../../_/chapters/computer.md#コンピュータ)がそのまま解釈して実行することができる[ファイル](#ファイル)。[プログラミング言語](../../../../programming/_/chapters/programming.md#プログラミング言語)によって書かれた[ソースコード](../../../../programming/_/chapters/programming.md#ソースコード)を[コンパイル](../../../../programming/_/chapters/programming.md#コンパイル)した結果得られる[ファイル](#ファイル)で、[コンピュータ](../../../_/chapters/computer.md#コンピュータ)にインストールされる[アプリケーション](./software.md#応用ソフトウェア)も実行可能ファイルとして提供される。[Windows](./operating_system.md#windows)では実行ファイルの[拡張子](#拡張子)として `.exe` が用いられる。

### データファイル

**データファイル**は、実行中の[プログラム](../../../../programming/_/chapters/programming.md#プログラム)によって解釈されることで[コンピュータ](../../../_/chapters/computer.md#コンピュータ)が処理できるようになる[ファイル](#ファイル)。[テキストファイル](#テキストファイル)や画像ファイル、サウンドファイルなどといった、[アプリケーション](./software.md#応用ソフトウェア)により処理される[ファイル](#ファイル)などはデータファイルである。

### テキストファイル

**テキストファイル**は、自然言語で記述された[ファイル](#ファイル)のことで、[テキストエディタ](../../../../programming/_/chapters/programming.md#プログラミングを始める)などの[ソフトウェア](./software.md#ソフトウェア)を使って人間が直接解釈したり編集したりできるもの。

### バイナリファイル

**バイナリファイル**は、データを生の[バイト](../../../../basics/_/chapters/computer_and_number.md#バイト)列として扱う[ファイル](#ファイル)。画像ファイルやサウンドファイルなどはバイナリファイルとして保存される。

### ファイルフォーマット

**ファイルフォーマット**は、[データファイル](#データファイル)を保存する際の形式。[アプリケーション](./software.md#応用ソフトウェア)ごとに独自の形式を定義されたものや、複数の[アプリケーション](./software.md#応用ソフトウェア)に対応できるような一般化されたファイルフォーマットがある。画像ファイルであればJPEGやPNG、GIFといったファイルフォーマットが一般的。

### 拡張子

**拡張子**は、[ファイル](#ファイル)がどのような[ファイルフォーマット](#ファイルフォーマット)で記述されているのかを[OS](./operating_system.md#オペレーティングシステム)やユーザが識別するために、[ファイル](#ファイル)名の末尾に付与される文字列。[ファイル](#ファイル)名本体とは `.` で区切られる（例えば、 `test.txt` であれば `test` が[ファイル](#ファイル)名本体で `.txt` が拡張子となる）。拡張子は、[ファイルフォーマット](#ファイルフォーマット)を識別するための判断材料とはなるが、本来の[ファイルフォーマット](#ファイルフォーマット)とは異なる形式を指す拡張子を付与することもできる。

### ボリューム

**ボリューム**は、[ファイル](#ファイル)を格納している装置のことで、[Windows](./operating_system.md#windows)では**ドライブ**と呼ばれる。


## ディレクトリ

**ディレクトリ**は、[ファイル](#ファイル)をまとめて管理するための仕組みで、ディレクトリの下にさらにディレクトリを作るといった[ツリー構造](#ツリー構造)にすることができる。[Linux](./operating_system.md#linux)ではディレクトリは[ファイル](#ファイル)の一種として扱われる。また、[Windows](./operating_system.md#windows)や[macOS](./operating_system.md#macos)においてはディレクトリにあたる機能のことを**フォルダ**と呼ぶ。

### ツリー構造

**ツリー構造**（**階層構造**）は、データを管理するための構造のひとつで、[ファイル](#ファイル)を[ディレクトリ](#ディレクトリ)により分類し、[ディレクトリ](#ディレクトリ)同士に親子関係をもたせた構造のこと。

### パス

**パス**は、[ファイル](#ファイル)や[ディレクトリ](#ディレクトリ)が[ディレクトリ](#ディレクトリ)階層の中のどの位置に存在しているかを指し示す情報のこと。[ディレクトリ](#ディレクトリ)と[ディレクトリ](#ディレクトリ)の区切りを `/` （**デリミタ**、[Windows](./operating_system.md#windows)では `\` ）で表す。同じ[コンピュータ](../../../_/chapters/computer.md#コンピュータ)上で同一のパスを持つ[ファイル](#ファイル)は存在しない。

### 絶対パス

**絶対パス**は、ある[ファイル](#ファイル)や[ディレクトリ](#ディレクトリ)の、[ルートディレクトリ](#ルートディレクトリ)からの[パス](#パス)。 [ルートディレクトリ](#ルートディレクトリ)を表す `/` から始まる[パス](#パス)で、 `/var/www/html/index.html` や `/home/user/document` のように表される。絶対パスは、[カレントディレクトリ](#カレントディレクトリ)に関わらず常に同じ[パス](#パス)で表すことができるという特徴がある。

### 相対パス

**相対パス**は、カレントディレクトリやあるファイルやディレクトリのパスを基準としたときの、対象のファイルやディレクトリのパス。絶対パスに比べて短く記述できる場合が多く、ディレクトリ構造が変わらなければ別のシステムなどにおいても同じパスで表すことができるという特徴がある。

### ルートディレクトリ

**ルートディレクトリ**は、ディレクトリ階層の最上位に位置するディレクトリのこと。ルートディレクトリのパスは `/` で表される。サーバとして外部に公開するディレクトリの最上位は**ドキュメントルート**（**仮想ルートディレクトリ**）と呼ばれる。

### カレントディレクトリ

**カレントディレクトリ**（**ワーキングディレクトリ**）は、現在ユーザが操作対象としているディレクトリのこと。カレントディレクトリのパスは `.` で表される。

### ホームディレクトリ

**ホームディレクトリ**は、コンピュータのユーザアカウントごとに割り当てられる個別のディレクトリのこと。Linuxでは `/home/<username>` 、Windowsでは `C:\Users\<username>` がホームディレクトリになる。ホームディレクトリのパスは `~` で表される。

### 親ディレクトリ

**親ディレクトリ**は、あるファイルやディレクトリから見てひとつ上の階層にあるディレクトリのこと。親ディレクトリのパスは `..` で表され、親ディレクトリの更に親ディレクトリは `../..` のように表される。

### サブディレクトリ

**サブディレクトリ**（**子ディレクトリ**）は、あるディレクトリの中に作られたディレクトリのこと。


## ファイルシステム

**ファイルシステム**は、ファイルが持つデータとそのファイルの名前やメタデータ（作成日や更新日、作成者といった属性など）を効率よく管理するためにOSが提供する機能。利用するファイルシステムの種類によってファイルにアクセスするときの速度や安全性が異なる。記憶装置上でデータが格納されている場所の管理も行っている。

### パーティション

**パーティション**は、記憶装置を仮想的に分割した領域のことで、記憶装置を複数のパーティションに分ける操作を**パーティショニング**という。パーティションを分けることで、複数のファイルシステムを1つのコンピュータ上に混在させたり、通常時に利用するファイルシステムとバックアップ用の領域を分けたりすることができる。

### マウント

**マウント**は、記憶装置のパーティション上に作成されたファイルシステムを、コンピュータ上のどこかのディレクトリに接続すること。

マウントされていないファイルシステムにはコンピュータ上からアクセスすることはできず、マウントすることで読み書き可能となる。ファイルシステムをマウントするディレクトリのことを**マウントポイント**という。

### アンマウント

**アンマウント**は、マウントされたファイルシステムをディレクトリから切断すること。

### 仮想ファイルシステム

**仮想ファイルシステム**(**VFS**: Virtual File System)は、ファイルシステムごとの違いを吸収して共通のインタフェースでファイル操作を行えるようにするための抽象化機能のこと。

### FAT

**FAT**(File Allocate Table)は、Windowsで使用されているファイルシステム。FAT12、FAT16と続いており、最新のFAT32は1つの領域に確保できる容量(2TB)や1ファイルの最大容量(4GB)が大容量であるという特徴がある。古くから利用されているが、現在ではNTFSが主流となっている。

### exFAT

**exFAT**は、FATの一種で、USBメモリやSDカードなどのフラッシュドライブ用に開発されたファイルシステム。WindowsとmacOSの両方に互換性があるのが特徴。内蔵ハードディスクには対応していない。

### NTFS

**NTFS**(NT File System)は、FATをさらに進化させたファイルシステム。Windows XP以降のWindowsに対応しており、現在主流となっている。ファイルの変更履歴を保存するジャーナリング機能、FATよりも堅牢なセキュリティ機能、ファイル単位の暗号化機能などを備えているのが大きな特徴。

### HFS

**HFS**(Hierarchical File System)は、macOSで使用されているファイルシステム。**HFS+** は、1つあたりのファイルの最大容量が8EBと大容量である特徴がある。現在、Apple製品のファイルシステムはAPFSへ移行されている。

### APFS

**APFS**は、Apple社の比較的新しいファイルシステム。ファイルのコピー速度の高速化、レスポンスの向上、情報を守る高度な暗号化機能が搭載されているのが特徴。

### XFS

**XFS**は、主にLinuxで使用されている歴史の古いファイルシステム。ファイル変更の記録が残るジャーナリングシステムに対応しており、セキュリティが強固であるという特徴がある。

### ext4

**ext4**(fourth extended file system)は、現在のLinuxにおけるデファクトスタンダードとなっているファイルシステム。ext3との下位互換性があり、最大ファイルサイズは16TB, 最大ボリュームサイズは1EBと非常に大きい。

### BtrFS

**BtrFS**(B-Tree File System)は、Linuxで用いられる高機能なファイルシステム。ドライブプーリング、スナップショット、オンラインデフラグ、透過的圧縮などの機能を備えている。


## エイリアス

**エイリアス**は、ファイルなどの実体を別の名前で参照するためのシンボル。エイリアスを削除してもファイルやディレクトリの実体にはなんの影響もなく、エイリアスはいくつでも作成することができる。Windowsでは**ショートカット**と呼ばれる。


## リンク

**リンク**は、ファイルをコピーしたり移動したりせずに別のディレクトリにあるかのように扱うための機能。これによりパスが長くなることを防いだり、システムの構成の変更に対応することができる。

### シンボリックリンク

**シンボリックリンク**（**ソフトリンク**）は、リンク先のファイルやディレクトリのパスを記憶する方法で、リンク先のファイルが削除されると無効なリンクとなる。ディレクトリに対するリンクや、別のファイルシステムに対するリンクを作成することができる。

### ハードリンク

**ハードリンク**は、ファイルの実体を直接指し示して共有するリンク。ファイルシステム上ではファイルのメタデータを**iノード**で管理しており、**iノード番号**という固有の番号で実体のデータと紐付けられている。ハードリンクは元のファイルと同じiノード番号を指す参照カウントとなっているため、リンク先のファイルが削除されても実体にアクセスできる。


## 参考文献

- [角谷一成.令和05年 基本情報技術者合格教本.株式会社技術評論社, 2022, 575](https://gihyo.jp/book/2022/978-4-297-13164-7)
- [瀬戸美月.徹底攻略 応用情報技術者教科書 令和4年度.株式会社インプレス, 2021, 814](https://book.impress.co.jp/books/1121101057)
