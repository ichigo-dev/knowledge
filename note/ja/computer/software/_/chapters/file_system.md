# 『ファイルシステム』ノート

（最終更新： 2023-05-21）


## 目次

1. [ファイル](#ファイル)
	1. [レコード](#レコード)
	1. [フィールド](#フィールド)
	1. [実行ファイル](#実行ファイル)
	1. [データファイル](#データファイル)
	1. [テキストファイル](#テキストファイル)
	1. [バイナリファイル](#バイナリファイル)
	1. [ファイルフォーマット](#ファイルフォーマット)
	1. [拡張子](#拡張子)
	1. [ボリューム](#ボリューム)
1. [ディレクトリ](#ディレクトリ)
	1. [ツリー構造](#ツリー構造)
	1. [パス](#パス)
	1. [絶対パス](#絶対パス)
	1. [相対パス](#相対パス)
	1. [ルートディレクトリ](#ルートディレクトリ)
	1. [ドキュメントルート](#ドキュメントルート)
	1. [カレントディレクトリ](#カレントディレクトリ)
	1. [ホームディレクトリ](#ホームディレクトリ)
	1. [親ディレクトリ](#親ディレクトリ)
1. [ファイルシステム](#ファイルシステム)
	1. [パーティション](#パーティション)
	1. [マウント](#マウント)
	1. [アンマウント](#アンマウント)
	1. [仮想ファイルシステム](#仮想ファイルシステム)
	1. [FAT](#fat)
	1. [exFAT](#exfat)
	1. [NTFS](#ntfs)
	1. [HFS](#hfs)
	1. [APFS](#apfs)
	1. [XFS](#xfs)
	1. [ext4](#ext4)
	1. [BtrFS](#btrfs)


## ファイル

**ファイル**は、[コンピュータ](../../../_/chapters/computer.md#コンピュータ)におけるデータの管理単位のひとつで、[ストレージ](../../../hardware/_/chapters/hardware.md#記憶装置)装置などにデータを記録する際にユーザや[OS](./operating_system.md#オペレーティングシステム)から見た最小の記録単位となる。ユーザが[コンピュータ](../../../_/chapters/computer.md#コンピュータ)を用いて[ストレージ](../../../hardware/_/chapters/hardware.md#記憶装置)にデータを保存、読み込み、移動、削除をする際にひとつのまとまりとしてデータの集合を表し、[ファイルシステム](#ファイルシステム)によって管理される。

### レコード

**レコード**は、[ファイル](#ファイル)を構成する論理的な単位。

### フィールド

**フィールド**は、[レコード](#レコード)内の各項目。

### 実行ファイル

**実行ファイル**（**実行可能ファイル**）は、[コンピュータ](../../../_/chapters/computer.md#コンピュータ)がそのまま解釈して実行することができる[ファイル](#ファイル)。[プログラミング言語](../../../../programming/_/chapters/programming.md#プログラミング言語)によって書かれた[ソースコード](../../../../programming/_/chapters/programming.md#ソースコード)を[コンパイル](../../../../programming/_/chapters/programming.md#コンパイル)した結果得られる[ファイル](#ファイル)で、[コンピュータ](../../../_/chapters/computer.md#コンピュータ)にインストールされる[アプリケーション](./software.md#応用ソフトウェア)も実行可能ファイルとして提供される。[Windows](./operating_system.md#windows)では実行ファイルの[拡張子](#拡張子)として `.exe` が用いられる。

### データファイル

**データファイル**は、実行中の[プログラム](../../../../programming/_/chapters/programming.md#プログラム)によって解釈されることで[コンピュータ](../../../_/chapters/computer.md#コンピュータ)が処理できるようになる[ファイル](#ファイル)。[テキストファイル](#テキストファイル)や画像ファイル、サウンドファイルなどといった、[アプリケーション](./software.md#応用ソフトウェア)により処理される[ファイル](#ファイル)などはデータファイルである。

### テキストファイル

**テキストファイル**は、自然言語で記述された[ファイル](#ファイル)のことで、[テキストエディタ](../../../../programming/_/chapters/programming.md#プログラミングを始める)などの[ソフトウェア](./software.md#ソフトウェア)を使って人間が直接解釈したり編集したりできるもの。

### バイナリファイル

**バイナリファイル**は、データを生の[バイト](../../../../basics/_/chapters/computer_and_number.md#バイト)列として扱う[ファイル](#ファイル)。画像ファイルやサウンドファイルなどはバイナリファイルとして保存される。

### ファイルフォーマット

**ファイルフォーマット**は、[データファイル](#データファイル)を保存する際の形式。[アプリケーション](./software.md#応用ソフトウェア)ごとに独自の形式を定義されたものや、複数の[アプリケーション](./software.md#応用ソフトウェア)に対応できるような一般化されたファイルフォーマットがある。画像ファイルであればJPEGやPNG、GIFといったファイルフォーマットが一般的。

### 拡張子

**拡張子**は、[ファイル](#ファイル)がどのような[ファイルフォーマット](#ファイルフォーマット)で記述されているのかを[OS](./operating_system.md#オペレーティングシステム)やユーザが識別するために、[ファイル](#ファイル)名の末尾に付与される文字列。[ファイル](#ファイル)名本体とは `.` で区切られる（例えば、 `test.txt` であれば `test` が[ファイル](#ファイル)名本体で `.txt` が拡張子となる）。拡張子は、[ファイルフォーマット](#ファイルフォーマット)を識別するための判断材料とはなるが、本来の[ファイルフォーマット](#ファイルフォーマット)とは異なる形式を指す拡張子を付与することもできる。

### ボリューム

**ボリューム**は、[ファイル](#ファイル)を格納している装置のことで、[Windows](./operating_system.md#windows)では**ドライブ**と呼ばれる。


## ディレクトリ

**ディレクトリ**は、[ファイル](#ファイル)をまとめて管理するための仕組みで、ディレクトリの下にさらにディレクトリを作るといった[ツリー構造](#ツリー構造)にすることができる。[Linux](./operating_system.md#linux)ではディレクトリは[ファイル](#ファイル)の一種として扱われる。また、[Windows](./operating_system.md#windows)や[macOS](./operating_system.md#macos)においてはディレクトリにあたる機能のことを**フォルダ**と呼ぶ。

### ツリー構造

**ツリー構造**（**階層構造**）は、データを管理するための構造のひとつで、[ファイル](#ファイル)を[ディレクトリ](#ディレクトリ)により分類し、[ディレクトリ](#ディレクトリ)同士に親子関係をもたせた構造。

### パス

**パス**は、[ファイル](#ファイル)や[ディレクトリ](#ディレクトリ)が[ディレクトリ](#ディレクトリ)階層の中のどの位置に存在しているかを指し示す情報。[ディレクトリ](#ディレクトリ)と[ディレクトリ](#ディレクトリ)の区切りを `/` （**デリミタ**、[Windows](./operating_system.md#windows)では `\` ）で表す。同じ[コンピュータ](../../../_/chapters/computer.md#コンピュータ)上で同一のパスを持つ[ファイル](#ファイル)は存在しない。

### 絶対パス

**絶対パス**は、ある[ファイル](#ファイル)や[ディレクトリ](#ディレクトリ)の、[ルートディレクトリ](#ルートディレクトリ)からの[パス](#パス)。 [ルートディレクトリ](#ルートディレクトリ)を表す `/` から始まる[パス](#パス)で、 `/var/www/html/index.html` や `/home/user/document` のように表される。絶対パスは、[カレントディレクトリ](#カレントディレクトリ)に関わらず常に同じ[パス](#パス)で表すことができるという特徴がある。

### 相対パス

**相対パス**は、[カレントディレクトリ](#カレントディレクトリ)やある[ファイル](#ファイル)や[ディレクトリ](#ディレクトリ)の[パス](#パス)を基準としたときの、対象の[ファイル](#ファイル)や[ディレクトリ](#ディレクトリ)の[パス](#パス)。[絶対パス](#絶対パス)に比べて短く記述できる場合が多く、[ディレクトリ](#ディレクトリ)構造が変わらなければ別のシステムなどにおいても同じ[パス](#パス)を用いることができるという特徴がある。

### ルートディレクトリ

**ルートディレクトリ**は、[ディレクトリ](#ディレクトリ)階層の最上位に位置する[ディレクトリ](#ディレクトリ)。ルートディレクトリのパスは `/` で表される。[サーバ](../../../_/chapters/computer.md#サーバ)として外部に公開する[ディレクトリ](#ディレクトリ)の最上位は**ドキュメントルート**（**仮想ルートディレクトリ**）と呼ばれる。

### ドキュメントルート

**ドキュメントルート**（**仮想ルートディレクトリ**）は、システムの最上位の[ディレクトリ](#ディレクトリ)を仮想的な[ルートディレクトリ](#ルートディレクトリ)とすることで、[パス](#パス)の記述を簡略化したり、[サーバ](../../../_/chapters/computer.md#サーバ)として外部に公開する[ディレクトリ](#ディレクトリ)を限定するために用いられる。

### カレントディレクトリ

**カレントディレクトリ**（**ワーキングディレクトリ**）は、実行中の[プロセス](#プロセス)が現在位置として指し示している[ディレクトリ](#ディレクトリ)。カレントディレクトリのパスは `.` で表される。

### ホームディレクトリ

**ホームディレクトリ**は、[コンピュータ](../../../_/chapters/computer.md#コンピュータ)のユーザアカウントごとに割り当てられる個別の[ディレクトリ](#ディレクトリ)。[Linux](./operating_system.md#linux)では `/home/<username>` 、[Windows](./operating_system.md#windows)では `C:\Users\<username>` がホームディレクトリになる。ホームディレクトリのパスは `~` で表される。

### 親ディレクトリ

**親ディレクトリ**は、ある[ファイル](#ファイル)や[ディレクトリ](#ディレクトリ)から見てひとつ上の階層にある[ディレクトリ](#ディレクトリ)。親ディレクトリの[パス](#パス)は `..` で表され、親ディレクトリの更に親ディレクトリは `../..` のように表される。

### サブディレクトリ

**サブディレクトリ**（**子ディレクトリ**）は、ある[ディレクトリ](#ディレクトリ)の中に作られた[ディレクトリ](#ディレクトリ)。


## ファイルシステム

**ファイルシステム**は、[ファイル](#ファイル)が持つデータとその[ファイル](#ファイル)の名前やメタデータ（作成日や更新日、作成者といった属性など）を効率よく管理するために[OS](./operating_system.md#オペレーティングシステム)が提供する機能。利用するファイルシステムの種類によって[ファイル](#ファイル)にアクセスするときの速度や安全性が異なる。[記憶装置](../../../hardware/_/chapters/hardware.md#記憶装置)上でデータが格納されている場所の管理も行っている。

### パーティション

**パーティション**は、[記憶装置](../../../hardware/_/chapters/hardware.md#記憶装置)を仮想的に分割した領域のことで、[記憶装置](../../../hardware/_/chapters/hardware.md#記憶装置)を複数のパーティションに分ける操作を**パーティショニング**という。パーティションを分けることで、複数の[ファイルシステム](#ファイルシステム)を1つの[コンピュータ](../../../_/chapters/computer.md#コンピュータ)上に混在させたり、通常時に利用する[ファイルシステム](#ファイルシステム)とバックアップ用の領域を分けたりすることができる。

### マウント

**マウント**は、[記憶装置](../../../hardware/_/chapters/hardware.md#記憶装置)の[パーティション](#パーティション)上に作成された[ファイルシステム](#ファイルシステム)を、[コンピュータ](../../../_/chapters/computer.md#コンピュータ)上のどこかの[ディレクトリ](#ディレクトリ)に接続する操作。

マウントされていない[ファイルシステム](#ファイルシステム)には[コンピュータ](../../../_/chapters/computer.md#コンピュータ)上からアクセスすることはできず、マウントすることで読み書き可能となる。[ファイルシステム](#ファイルシステム)をマウントする[ディレクトリ](#ディレクトリ)のことを**マウントポイント**という。

### アンマウント

**アンマウント**は、[マウント](#マウント)された[ファイルシステム](#ファイルシステム)を[ディレクトリ](#ディレクトリ)から切断する操作。

### 仮想ファイルシステム

**仮想ファイルシステム**(**VFS**: Virtual File System)は、[ファイルシステム](#ファイルシステム)ごとの違いを吸収して共通のインタフェースで[ファイル](#ファイル)操作を行えるようにするための抽象化機能。

### FAT

**FAT**(File Allocate Table)は、[Windows](./operating_system.md#windows)で使用されている[ファイルシステム](#ファイルシステム)。FAT12、FAT16と続いており、最新のFAT32は1つの領域に確保できる容量(2TB)や1[ファイル](#ファイル)の最大容量(4GB)が大容量であるという特徴がある。古くから利用されているが、現在では[NTFS](#ntfs)が主流となっている。

### exFAT

**exFAT**は、[FAT](#fat)の一種で、[USB](../../../hardware/_/chapters/bus.md#usb)[メモリ](../../../hardware/_/chapters/memory.md#メモリ)や[SDカード](../../../hardware/_/chapters/auxiliary_memory_unit.md#sdカード)などのフラッシュドライブ用に開発された[ファイルシステム](#ファイルシステム)。[Windows](./operating_system.md#windows)と[macOS](./operating_system.md#macos)の両方に互換性があるのが特徴。内蔵[ハードディスク](../../../hardware/_/chapters/auxiliary_memory_unit.md#ハードディスク)には対応していない。

### NTFS

**NTFS**(NT File System)は、[FAT](#fat)をさらに進化させた[ファイルシステム](#ファイルシステム)。Windows XP以降の[Windows](./operating_system.md#windows)に対応しており、現在主流となっている。[ファイル](#ファイル)の変更履歴を保存するジャーナリング機能、[FAT](#fat)よりも堅牢なセキュリティ機能、[ファイル](#ファイル)単位の暗号化機能などを備えているのが大きな特徴。

### HFS

**HFS**(Hierarchical File System)は、[macOS](./operating_system.md#macos)で使用されている[ファイルシステム](#ファイルシステム)。**HFS+** は、1つあたりの[ファイル](#ファイル)の最大容量が8EBと大容量である特徴がある。現在、Apple製品の[ファイルシステム](#ファイルシステム)は[APFS](#apfs)へ移行されている。

### APFS

**APFS**は、Apple社が開発する比較的新しい[ファイルシステム](#ファイルシステム)。[ファイル](#ファイル)のコピー速度の高速化、レスポンスの向上、情報を守る高度な暗号化機能が搭載されているのが特徴。

### XFS

**XFS**は、主に[Linux](./operating_system.md#linux)で使用されている歴史の古い[ファイルシステム](#ファイルシステム)。[ファイル](#ファイル)変更の記録が残るジャーナリングシステムに対応しており、セキュリティが強固であるという特徴がある。

### ext4

**ext4**(fourth extended file system)は、現在の[Linux](./operating_system.md#linux)におけるデファクトスタンダードとなっている[ファイルシステム](#ファイルシステム)。ext3との下位互換性があり、最大ファイルサイズは16TB, 最大ボリュームサイズは1EBと非常に大きい。

### BtrFS

**BtrFS**(B-Tree File System)は、[Linux](./operating_system.md#linux)で用いられる高機能な[ファイルシステム](#ファイルシステム)。ドライブプーリング、スナップショット、オンラインデフラグ、透過的圧縮などの機能を備えている。


## 参考文献

- [角谷一成.令和05年 基本情報技術者合格教本.株式会社技術評論社, 2022, 575](https://gihyo.jp/book/2022/978-4-297-13164-7)
- [瀬戸美月.徹底攻略 応用情報技術者教科書 令和4年度.株式会社インプレス, 2021, 814](https://book.impress.co.jp/books/1121101057)
