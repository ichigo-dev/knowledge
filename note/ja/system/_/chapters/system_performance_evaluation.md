# 『システムの性能評価』ノート

（最終更新： 2023-03-03）


## 目次

1. [システムの性能評価](#システムの性能評価)
	1. [レスポンスタイム](#レスポンスタイム)
	1. [ターンアラウンドタイム](#ターンアラウンドタイム)
	1. [ジッタ](#ジッタ)
	1. [スループット](#スループット)
	1. [オーバヘッド](#オーバヘッド)
	1. [ベンチマーク](#ベンチマーク)
	1. [レイテンシ](#レイテンシ)
1. [キャパシティブランニング](#キャパシティブランニング)
	1. [ワークロード](#ワークロード)
	1. [サイジング](#サイジング)
	1. [チューニング](#チューニング)
1. [RASとRASIS](#rasとrasis)
	1. [信頼性](#信頼性)
	1. [可用性](#可用性)
	1. [保守性](#保守性)
	1. [完全性・保全性](#完全性・保全性)
	1. [機密性](#機密性)
1. [信頼性指標](#信頼性指標)
	1. [MTBF](#mtbf)
	1. [MTTR](#mttr)
	1. [稼働率](#稼働率)
	1. [故障率](#故障率)
1. [性能向上の手法](#性能向上の手法)
	1. [スケールアップ](#スケールアップ)
	1. [スケールアウト](#スケールアウト)


## システムの性能評価

### レスポンスタイム

**レスポンスタイム**（**応答時間**）は、システムにデータを入力してからデータの応答が開始されるまでの時間。クライアントサーバシステムにおいては、クライアントが処理の要求をしてからサーバからのデータの到着が開始するまでの時間のことをレスポンスタイムという。

### ターンアラウンドタイム

**ターンアラウンドタイム**は、システムにデータを入力してからデータの応答が完了するまでの時間。クライアント・サーバシステムにおいては、クライアントが処理の要求をしてからサーバからのデータがすべて到着するまでの時間のことをターンアラウンドタイム（**ラウンドトリップタイム**、往復時間）という。

### ジッタ

**ジッタ**（**揺らぎ**）は、ラウンドトリップタイムの分散。

### レイテンシ

**レイテンシ**は、ユーザがサーバにデータを要求してから実際にデータが転送され始めるまでの通信の遅延時間のこと。レイテンシが小さいほどユーザエクスペリエンスが向上する。ラウンドトリップタイムと同様の意味で用いられる。

### スループット

**スループット**は、単位時間あたりにシステムが処理できる処理数のこと。

### オーバヘッド

**オーバヘッド**は、目的の処理以外のところでかかる時間のこと。

### ベンチマーク

**ベンチマーク**は、システムの処理速度を計測するための指標で、特定のプログラムを実行したときの実行結果をもとに性能を比較する。**TPC**（Transaction Processing Performance Council: トランザクション処理性能評議会）が作成している**TPC-C**(オンライントランザクション処理のベンチマーク）や、**SPEC**（Standard Performance Evaluation Corporation: 標準性能評価法人）が作成している**SPECfp**（浮動小数点演算の評価）などが有名。


## キャパシティブランニング

**キャパシティブランニング**は、システムに求められるサービスレベルから、システムに必要なリソースの処理能力や容量、数量などを見積もり、システム構成を計画すること。

### ワークロード

**ワークロード**は、コンピュータ資源の利用状況や負荷状況のこと。CPU利用率などで現行システムの測定を行い、ヒアリングなどで関係者の意見を聞くなどして見積もる。

### サイジング

**サイジング**は、システムに必要な規模や性能を見極めて構成要素を用意すること。サーバの台数やCPUの性能、ストレージの容量などを見積もる。

### チューニング

**チューニング**は、テスト環境などで、サイジングで用意したシステム構成要素が適切であるかどうかを評価し、必要に応じて拡張・縮小すること。ベンチマークを参考にしてチューニングする場合もある。


## RASとRASIS

**RAS**(Reliability, Availability and Serviceability)、**RASIS**(Reliability, Availability, Serviceability, Integrity, Security)はシステムの信頼性を総合的に評価する基準として用いられる概念。RASは1970年代にIBMが製品の特性を表す用語として用いたのが定着したもので、RASISは日本ではよく使われるものの海外では一般的ではない。

### 信頼性

**信頼性**(Reliability)は、障害の発生のしにくさのことで、システムやサービスが使用できなくなる頻度やその間隔を表す指標。信頼性はMTBFや故障率で表され、この数値が大きいほど信頼性の高いシステムであるといえる。

### 可用性

**可用性**(Availability)は、システムやサービスが継続して稼働できる能力のこと。システムの停止時間が少ないほど可用性が高く、ユーザが利用したい時に利用できる確率が高い。信頼性や耐障害性が高いシステムは可用性が高いといえる。可用性は稼働率で表される。

### 保守性

**保守性**(Serviceability)は、メンテナンスの容易さを表す概念。保守性はMTTRで表され、この数値が小さいほど保守性が高いシステムであるといえる。保守性が高いほど可用性が高く保たれる。

### 完全性・保全性

**完全性・保全性**(Integrity)は、情報が矛盾を起こさずに一貫性を保てる度合いを表す概念。データの処理や転送等に際して、目的となるデータが常に欠損なく存在することをデータの**インテグリティ**という。データに対する正規化や制約が不十分でデータ間の関係に矛盾が生じたり、装置の障害やソフトウェアのバグによってデータが欠損したり、外部からの攻撃によってデータが改ざんされたりするとデータのインテグリティが損なわれる。

### 機密性

**機密性**(Security)は情報の外部流失の起きにくさの度合いを表す概念。コンピュータやソフトウェアのデータ、通信路などを暗号化したり、アクセス制御を行うなどの対策によってセキュリティを向上させることができる。


## 信頼性指標

### MTBF

**MTBF**（**平均故障間隔**: Mean Time Between Failures）は、故障が復旧してから次の故障までにかかる時間の平均。 $MTBF = \frac{コンピュータが正常に稼働している時間の累計}{故障回数}$ で求めることができる。

### MTTR

**MTTR**（**平均修復時間**: Mean Time to Repair）は、故障したシステムが復旧にかかる時間の平均。 $MTTR = \frac{修理に要した時間の累計}{故障回数}$ で求めることができる。

### 稼働率

**稼働率**は、ある特定の時間にシステムが稼働している確率。 $稼働率 = \frac{コンピュータが正常に稼働した時間の累計}{コンピュータ通電時間の累計} = \frac{MTBF}{MTBF + MTTR}$ で求めることができる。

### 故障率

**故障率**は、稼働率の反対、もしくはある特定の時間にシステムが稼働していない確率。 $故障率 = 1 - 稼働率$ で求めることができ、この値を**不稼働率**とも呼ぶ。また、単位時間無いにどの程度の確率で故障するかを表したものは、 $故障率 = \frac{1}{MTBF}$ で求めることができる。


## 性能向上の手法

### スケールアップ

**スケールアップ**はサーバの性能を上げる方法のひとつで、サーバのハードウェアを物理的に性能の高いものに置き換えること。CPUを高性能なものにしたり、メモリの容量を大きくしたりする。

### スケールアウト

**スケールアウト**はサーバの性能を上げる方法のひとつで、サーバの数を増やすこと。スケールアップと比べても大幅にサーバへの負荷を減らすことができる。


## 参考文献

- [角谷一成.令和05年 基本情報技術者合格教本.株式会社技術評論社, 2022, 575](https://gihyo.jp/book/2022/978-4-297-13164-7)
- [瀬戸美月.徹底攻略 応用情報技術者教科書 令和4年度.株式会社インプレス, 2021, 814](https://book.impress.co.jp/books/1121101057)
