# 『リポジトリの作成』ノート

（最終更新： 2023-03-03）


## 目次

1. [リポジトリ](#リポジトリ)
	1. [ベアリポジトリ](#ベアリポジトリ)
	1. [ノンベアリポジトリ](#ノンベアリポジトリ)
1. [リポジトリの初期化](#リポジトリの初期化)
1. [クローン](#クローン)
1. [フォーク](#フォーク)


## リポジトリ

**リポジトリ**は、Gitの変更履歴を管理するディレクトリ、あるいはデータ構造のこと。リポジトリの配下のファイルやディレクトリは、履歴管理の対象となる。

開発チームや一般に公開されているサーバ上のリポジトリを**パブリックリポジトリ**（**リモートリポジトリ**）、ユーザの作業用コンピュータにコピーしたリポジトリを**ローカルリポジトリ**という。

### ベアリポジトリ

**ベアリポジトリ**は、ワーキングツリーを持たないリポジトリで、変更履歴の管理のみを行う。

### ノンベアリポジトリ

**ノンベアリポジトリ**は、ワーキングツリーを持つ、ユーザが作業を行うリポジトリ。


## リポジトリの初期化

`git init` は、コンピュータ内でGitの管理対象としたい任意のディレクトリを、リポジトリとして初期化するにはコマンド。

```sh
# 新たにプロジェクト用のディレクトリを作成
$ cd <path>
$ mkdir <project-name>
$ cd <project-name>

# Gitリポジトリとして初期化
$ git init
Initialized empty Git repository in /path/to/working_directory/<project-name>/.git/
```

初期化を行うと、ディレクトリ配下に `.git` ディレクトリが作成される。


## クローン

**クローン**は、リモートリポジトリの複製をローカルに作成する操作のこと。基本的にはプロジェクトに加わった際に、最初に1度だけ実行する操作であり、それ以降のリモートリポジトリからの差分の取得にはフェッチやプルを用いる。

クローン元となったリモートリポジトリは、ローカルリポジトリに `origin` というエイリアスで登録される。

リポジトリのクローンには、 `git clone` コマンドを用いる。

```sh
# クローンしたいディレクトリに移動
$ cd <path>

# Gitリポジトリをクローン
$ git clone <uri>

# Gitリポジトリを名前付きでクローン
$ git clone <uri> <name>

# クローンの例
$ git clone https://github.com/ichigo-dev/knowledge.git
```


## フォーク

**フォーク**は、リモートリポジトリの複製を別のリモートリポジトリとして作成する操作のこと。クローンはあるプロジェクトに参加する場合などに用いるのに対し、フォークはあるプロジェクトを元に別のプロジェクトを作成したい場合に用いる。

実際にはワークフローの違いだけであり、新規に作成したリモートリポジトリに対して `git clone` したリポジトリをプッシュすることで、リポジトリをフォークできる。
