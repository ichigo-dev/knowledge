# 『演算』

（最終更新： 2023-01-26）


## 目次

1. [演算](#演算)
1. [算術演算](#算術演算)
1. [比較演算](#比較演算)
1. [代入演算](#代入演算)
1. [論理演算](#論理演算)
1. [ビット演算](#ビット演算)
1. [インクリメント](#インクリメント)
1. [デクリメント](#デクリメント)
1. [三項演算](#三項演算)


## 演算

**演算**は、加算や減算、比較といった計算処理のこと。各種演算を表す記号・シンボルのことを**演算子**（**オペレータ**）、演算対象となるデータのことを**被演算子**（**オペランド**）という。各プログラミング言語で用いられる演算子は基本的に共通しているものが多い。


## 算術演算

**算術演算**は、加算や減算、乗算、除算、剰余（モジュロ演算）といった数学的な演算処理。算術演算の優先度に関するルールについては、通常の数学で用いられるものと同様である場合が多い。

| 演算                 | 演算子 |
|----------------------|--------|
| 加算                 | `+`    |
| 減算                 | `-`    |
| 乗算                 | `*`    |
| 除算                 | `/`    |
| 剰余（モジュロ演算） | `%`    |


## 比較演算

**比較演算**（**関係演算**）は、左右のオペランドを比較して、結果として真偽値を返却するような演算。プログラミング言語によっては、等価・非等価の演算は型の比較を行わず、曖昧な結果を返却する場合もある（文字型の `'1'` と整数型の `1` を同値として扱うなど）。このような言語では、型の比較も同時に行う厳密な等価・非等価の演算子として、 `===` および `!==` を用いることが一般的である。

| 演算                     | 演算子 |
|--------------------------|--------|
| 大なり                   | `>`    |
| 大なりイコール           | `>=`   |
| 小なり                   | `<`    |
| 小なりイコール           | `<=`   |
| イコール（同値）         | `==`   |
| ノットイコール（非同値） | `!=`   |


## 代入演算

**代入演算**は、左側のオペランドに対して右側のオペランドの値を代入する演算。また代入の際に、左側のオペランドの元の値と右側のオペランドの算術演算を行った結果の再代入を行う、**複合代入演算**をサポートするプログラミング言語もある。

| 演算         | 演算子 |
|--------------|--------|
| 代入         | `=`    |
| 加算して代入 | `+=`   |
| 減算して代入 | `-=`   |
| 乗算して代入 | `*=`   |
| 除算して代入 | `/=`   |
| 剰余を代入   | `%=`   |


## 論理演算

**論理演算**は、オペランドに真偽値をとり、複数の条件を組み合わせた新しい条件を評価する演算。論理演算子を組み合わせることで、複雑な条件を表現することができる。

| 演算        | 演算子 | 概要                                                            |
|-------------|--------|-----------------------------------------------------------------|
| 論理積(AND) | `&&`   | 左右のオペランドが両方 `true` であれば `true`                   |
| 論理和(OR)  | `||`   | 左右のオペランドの一方でも `true` であれば `true`               |
| 否定(NOT)   | `!`    | オペランドが `true` であれば `false` 、 `false` であれば `true` |


## ビット演算

**ビット演算**は、オペランドをビット列とみなして、ビット単位での演算を行う。

| 演算           | 演算子 | 概要                                                                                        |
|----------------|--------|---------------------------------------------------------------------------------------------|
| ビットAND      | `&`    | 左右のオペランドをビット列として比較し、両方1のビットのみを1にしたビット列を返す           |
| ビットOR       | `|`    | 左右のオペランドをビット列として比較し、どちらか一方が1のビットのみを1にしたビット列を返す |
| ビットXOR      | `^`    | 左右のオペランドをビット列として比較して、異なる値を持つビットのみを1にしたビット列を返す  |
| ビットNOT      | `~`    | オペランドをビット列として識別し、全てのビットを反転させたビット列を返す                   |
| 右ビットシフト | `>>`   | オペランドをビット列として識別し、全てのビットを右に1ビットずらしたビット列を返す          |
| 左ビットシフト | `<<`   | オペランドをビット列として識別し、全てのビットを左に1ビットずらしたビット列を返す          |

**右ビットシフト**は1ビットシフトするごとに値が元の1/2倍になり、**左ビットシフト**は1ビットシフトするごとに値が元の2倍になる。

**論理ビットシフト**では、シフト演算語の晃ビットを常に `0` で初期化する。**算術ビットシフト**では、右シフトを行った後の晃ビットを符号ビットで初期化する。

## インクリメント

**インクリメント**は、整数型のオペランドの値を1増加させる演算。カウンタ変数のカウントアップなどに用いられ、表記が非常にシンプルであるのが特徴。インクリメント演算子をサポートしていないプログラミング言語もある。

**前置インクリメント**は、データをインクリメントしてからその値を返却する。**後置インクリメント**は、データを返却してからインクリメントする。微妙な動作のずれに繋がるため注意が必要。

```c
// C言語

// 前置インクリメント
++x;

// 後置インクリメント
x++;
```


## デクリメント

**デクリメント**は、整数型のオペランドの値を1減少させる演算。カウンタ変数のカウントダウンなどに用いられ、表記が非常にシンプルであるのが特徴。デクリメント演算子をサポートしていないプログラミング言語もある。

**前置デクリメント**は、データをデクリメントしてからその値を返却する。**後置デクリメント**は、データを返却してからデクリメントする。微妙な動作のずれに繋がるため注意が必要。

```c
// C言語

// 前置デクリメント
--x;

// 後置デクリメント
x--;
```


## 三項演算

**三項演算**は、条件式に応じて返却する値を切り替えるような演算。通常の演算がオペランドを1つあるいは2つしかとらないのに対して、三項演算では3つのオペランドをとるのが特徴。

一般的には次のような記法を用いる。

```
<条件式> ? <真式> : <偽式>
```

```php
<?php

// PHP

// 代入演算子の右側のオペランドが三項演算で構成されているパターン
// $yが20以下なら$y + 5の結果が、20より大きければ20が$xに代入される
$y = $_POST["input_num"];
$x = $y <= 20 ? $y + 5 : 20;

?>
```

三項演算子をサポートしていないプログラミング言語もある。
