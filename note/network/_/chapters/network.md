# 『ネットワーク』ノート

（最終更新： 2023-09-09）


## 目次

1. [ネットワーク](#ネットワーク)
	1. [LAN](#lan)
	1. [MAN](#man)
	1. [WAN](#wan)
	1. [キャリア](#キャリア)
	1. [ISP](#isp)
	1. [NIC](#nic)
1. [通信信号](#通信信号)
	1. [帯域](#帯域)
1. [回線交換](#回線交換)
1. [パケット交換](#パケット交換)
	1. [パケット](#パケット)
1. [ネットワークトポロジ](#ネットワークトポロジ)
	1. [半二重通信](#半二重通信)
	1. [全二重通信](#全二重通信)
	1. [媒体共有型](#媒体共有型)
	1. [媒体非共有型](#媒体非共有型)
	1. [ポイントツーポイント方式](#ポイントツーポイント方式)
	1. [バス型](#バス型)
	1. [スター型](#スター型)
	1. [ツリー型](#スター型)
	1. [リング型](#リング型)
1. [アクセス制御方式](#アクセス制御方式)
	1. [衝突](#衝突)
	1. [CSMA方式](#csma方式)
	1. [CSMA/CD方式](#csmacd方式)
	1. [CSMA/CA方式](#csmaca方式)
	1. [トークンパッシング方式](#トークンパッシング方式)
	1. [TDMA方式](#tdma方式)
1. [フレーム転送方式](#フレーム転送方式)
	1. [ストア&フォワード方式](#ストアフォワード方式)
	1. [カットスルー方式](#カットスルー方式)
1. [ネットワークループの回避](#ネットワークループの回避)
	1. [メルトダウン](#メルトダウン)
	1. [スパニングツリー方式](#スパニングツリー方式)
1. [イーサネット](#イーサネット)
1. [無線LAN](#無線lan)
	1. [アクセスポイント](#アクセスポイント)
	1. [Wi-Fi](#wi-fi)
	1. [ESSID](#essid)
	1. [アドホックモード](#アドホックモード)
	1. [インフラストラクチャモード](#インフラストラクチャモード)
	1. [ステルス機能](#ステルス機能)
	1. [WPA](#wpa)
1. [ノード](#ノード)
	1. [ホスト](#ホスト)
	1. [ルータ](#ルータ)
	1. [エンドノード](#エンドノード)
1. [ネットワークの構成](#ネットワークの構成)
	1. [バックボーン](#バックボーン)
	1. [エッジ](#エッジ)
	1. [アグリゲーション](#アグリゲーション)
	1. [アドレス](#アドレス)
1. [携帯端末による通信](#携帯端末による通信)
	1. [基地局](#基地局)
	1. [局舎](#局舎)
	1. [ローミング](#ローミング)
	1. [SIM](#sim)
1. [データセンタ](#データセンタ)
1. [インターネット](#インターネット)
	1. [イントラネット](#イントラネット)
1. [インターネットの構造](#インターネットの構造)
	1. [バックボーン](#バックボーン)
	1. [スタブ](#スタブ)
	1. [NOC](#noc)
	1. [IX](#ix)
1. [通信の確立方式](#通信の確立方式)
	1. [コネクション](#コネクション)
	1. [コネクション型](#コネクション型)
	1. [コネクションレス型](#コネクションレス型)
1. [通信相手の数による通信方式の分類](#通信相手の数による通信方式の分類)
	1. [ユニキャスト](#ユニキャスト)
	1. [ブロードキャスト](#ブロードキャスト)
	1. [マルチキャスト](#マルチキャスト)
	1. [エニーキャスト](#エニーキャスト)
1. [IoT](#iot)
1. [5G](#5g)


## ネットワーク

**ネットワーク**（**コンピュータネットワーク**）は、通信機能を有する複数の[パソコン](../../../computer/_/chapters/computer.md#パーソナルコンピュータ)やモバイル端末などを接続し、情報のやり取りを行うための仕組み。

### LAN

**LAN**(Local Area Network)は、企業内や学校、家庭内といった、同一敷地内や同一建造物内などの比較的狭い範囲で[コンピュータ](../../../computer/_/chapters/computer.md#コンピュータ)機器を接続した[ネットワーク](#ネットワーク)。

### MAN

**MAN**(Metropolitan Area Network)は、都市レベルの[ネットワーク](#ネットワーク)。

### WAN

**WAN**(Wide Area Network)は、[電気通信事業者](#キャリア)が提供する通信回線などを利用して、敷地外にある[コンピュータ](../../../computer/_/chapters/computer.md#コンピュータ)や遠方の[コンピュータ](../../../computer/_/chapters/computer.md#コンピュータ)同士、あるいは[LAN](#lan)同士を接続する広域[ネットワーク](#ネットワーク)。

### キャリア

**キャリア**（電気通信事業者）は、通信サービスを提供する企業。

### ISP

**ISP**(Internet Service Provider)は、通信回線を通じて[インターネット](#インターネット)に接続するサービスを提供する事業者。[コンピュータ](../../../computer/_/chapters/computer.md#コンピュータ)を[インターネット](#isp)に接続するときには、回線事業者とは別にISPと契約する必要がある。

### NIC

**NIC**(Network Interface Card)は、[コンピュータ](../../../computer/_/chapters/computer.md#コンピュータ)を[ネットワーク](#ネットワーク)に接続するときに使う部品で、[MACアドレス](./address_on_network.md#macアドレス)が焼き付けられている。


## 通信信号

### 帯域

**帯域**は、電気信号などの通信に使用される周波数における、最も高い周波数と最も低い周波数の範囲。帯域が広いと一度に送信できる[情報量](../../../basics/information_theory/_/chapters/information_theory.md#情報量)が多くなり、狭いと少なくなる。


## 回線交換

**回線交換**は、固定電話の回線などで使用されている方式で、[帯域](#帯域)を使用する端末を交換機で切り替えることで、その[帯域](#帯域)を占有して使用する仕組み。


## パケット交換

**パケット交換**は、[ネットワーク](#ネットワーク)を流れるデータを分割してやり取りする方式で、[帯域](#帯域)を占有することなく共有して使用する仕組み。[インターネット](#インターネット)ではパケット交換が用いられており、通信速度は状況によって変わる。

### パケット

**パケット**は、[パケット交換](#パケット交換)においてやり取りされるデータのまとまり。大きなデータを分割したデータのことで、**データグラム**もパケットと同じ意味で用いられる場合が多い。

### ヘッダー

**ヘッダー**は、[パケット](#パケット)自体に関する制御情報やメタデータを含む部分。各[レイヤ](./network_architecture.md#レイヤ)の処理に必要な情報が含まれており、上位の[レイヤ](./network_architecture.md#レイヤ)のヘッダーは下位の[レイヤ](./network_architecture.md#レイヤ)の[パケット](#パケット)の[ペイロード](#ペイロード)に含まれている。

### ペイロード

**ペイロード**は、[パケット](#パケット)の本体部分であり、実際に転送されるデータを含む。下位の[レイヤ](./network_architecture.md#レイヤ)のペイロードには、上位の[レイヤ](./network_architecture.md#レイヤ)の[パケット](#パケット)（[ヘッダー](#ヘッダー)とペイロード）が含まれており、[アプリケーション層](./network_architecture.md#アプリケーション層)のペイロードにはユーザデータやアプリケーションデータ、ファイル、動画、メッセージなど特定の[プロトコル](./network_architecture.md#プロトコル)や[アプリケーション](../../../computer/software/_/chapters/software.md#応用ソフトウェア)で処理されるデータが含まれる。


## ネットワークトポロジ

**ネットワークトポロジ**は、[ネットワーク](#ネットワーク)の接続形態や構成形態のこと。

### 半二重通信

**半二重通信**は、送信と受信を同時に行えない通信。

### 全二重通信

**全二重通信**は、送信と受信を同時に行える通信。

### 媒体共有型

**媒体共有型**の[ネットワーク](#ネットワーク)は、通信媒体を複数のノードで共有する方式で、[半二重通信](#半二重通信)となる。同じ通信路を用いてデータの送受信を制御する仕組みが必要となる。

### 媒体非共有型

**媒体非共有型**の[ネットワーク](#ネットワーク)は、通信媒体を共有せずに占有する方式で、[全二重通信](#全二重通信)となる。中央装置である[ハブ](../../../computer/hardware/_/chapters/bus.md#ハブ)に高度な機能を持たせることで、仮想的な[ネットワーク](#ネットワーク)の構築やデータ流量の制御なども可能になる。

### ポイントツーポイント方式

**ポイントツーポイント方式**は、2つの機器を物理的または論理的に直接つなげる接続形態。

### バス型

**バス型**は、1本の伝送路に多数のノードを接続する接続形態。配線のコストが小さく、あるノードが故障しても他のノードに与える影響が小さい。バス型は、[媒体共有型](#媒体共有型)の[ネットワーク](#ネットワーク)である。

### スター型

**スター型**は、個々のノードを中央となる制御局（[ハブ](../../../computer/hardware/_/chapters/bus.md#ハブ)）に接続した形態。ノードに障害が発生した場合に検出が容易であるが、[ハブ](../../../computer/hardware/_/chapters/bus.md#ハブ)に障害が発生すると全体がダウンする。スター型は、[媒体非共有型](#媒体非共有型)の[ネットワーク](#ネットワーク)である。

### ツリー型

**ツリー型**は、[ハブ](../../../computer/hardware/_/chapters/bus.md#ハブ)を使用した[スター型](#スター型)の接続を多段階にした形態。このような接続を**カスケード接続**という。

### リング型

**リング型**は、両隣のノードを接続して、全体としてループ状に構成した形態。伝送路に障害が発生した場合に備えてリングを二重化しておくのが一般的。リング型は、[媒体共有型](#媒体共有型)の[ネットワーク](#ネットワーク)である。


## アクセス制御方式

**アクセス制御方式**は、複数の端末が接続された[媒体共有型](#媒体共有型)の通信路において、[衝突](#衝突)を回避するための仕組み。

### 衝突

**衝突**（**コリジョン**）は、複数の端末が接続された[媒体共有型](#媒体共有型)の通信路において、ある端末がデータを伝送中に、別の端末からのデータの伝送が行われることで、データが破損する障害。

### CSMA方式

**CSMA方式**（**コンテンション方式**: Carrier Sense Multiple Access）は、主に[バス型](#バス型)の[LAN](#lan)に採用される[アクセス制御方式](#アクセス制御方式)。複数のノードが同時に伝送路にデータを送出してしまうと、[衝突](#衝突)が発生してデータが破壊される。

### CSMA/CD方式

**CSMA/CD方式**(CSMA with Collision Detection)は、[CSMA方式](#csma方式)を改良したもので、[イーサネット](#イーサネット)[LAN](#lan)で採用されている。データを送信する際は伝送路に、他に送信中の端末がないことを確認する。[衝突](#衝突)が起こるとすぐにデータの送信を停止し、再度[衝突](#衝突)が発生しないように乱数時間待ってからデータを再送する。回線が混雑すると、[衝突](#衝突)と待ちが繰り返され、[スループット](../../../system/_/chapters/system_performance_evaluation.md#スループット)が急激に低下する。

### CSMA/CA方式

**CSMA/CA方式**(CSMA with Collision Avoidance)は、[CSMA方式](#csma方式)を改良したもので、[無線LAN](#無線lan)で採用されている。データを送信する際は、伝送路に、他の送信中の端末がないことを確認する。無線ではデータの[衝突](#衝突)を検出できないため、受信側の端末から受信が成功したことを送信側に通知する仕組みとなっている。通知がなかった場合は、通信障害が発生したものとみなして、データを再送する。

### トークンパッシング方式

**トークンパッシング方式**は、主に[リング型](#リング型)の[LAN](#lan)に採用されている[アクセス制御方式](#アクセス制御方式)。伝送路上に**トークン**と呼ぶ特別な[フレーム](./datalink_layer.md#フレーム)を巡回させ、トークンを保有しているノードだけに送信権を与えるという仕組み。通信路が混雑していない場合には伝送路の使用効率が悪くなってしまう。

どのノードも送信要求を行っていない状態のとき、ただ巡回しているだけのトークンを**フリートークン**という。ノードがフリートークンを捕まえてデータの送信を行っている状態のとき、このトークのことを**ビジートークン**という。宛先のノードがビジートークンを受け取り、再び送信元に戻ると、送信元はフリートークンを送出して送信が完了する。

### TDMA方式

**TDMA方式**は、時間を**タイムスロット**に分割して、各端末に送信権を与える[アクセス制御方式](#アクセス制御方式)。2つの端末に同じタイムスロットを与えることで、[ポイントツーポイント通信](#ポイントツーポイント方式)が可能になる。


## フレーム転送方式

### ストア&フォワード方式

**ストア&フォワード方式**は、すべての[フレーム](./datalink_layer.md#フレーム)を受信して、全体を一度読み込んだ後に転送する方式。[フレーム](./datalink_layer.md#フレーム)をすべて読み込むため、[FCS](./datalink_layer.md#イーサネットのフレームフォーマット)によるエラーチェックが行えるので信頼性のある通信ができる一方で、遅延が発生するというデメリットもある。

### カットスルー方式

**カットスルー方式**は、[フレーム](./datalink_layer.md#フレーム)の先頭に記された[MACアドレス](./address_on_network.md#macアドレス)を受信後、すぐにその[アドレス](./address_on_network.md#macアドレス)に対して[フレーム](./datalink_layer.md#フレーム)の転送を開始する方式。高速な転送が行える一方で、エラーチェックができない。


## ネットワークループの回避

[ブリッジ](./network_architecture.md#ブリッジ)で[ネットワーク](#ネットワーク)を接続する際にループが発生すると、最悪の場合には[フレーム](./datalink_layer.md#フレーム)がループ内を巡回し続けることで[ネットワーク](#ネットワーク)が[メルトダウン](#メルトダウン)してしまう。

### メルトダウン

**メルトダウン**は、[ネットワーク](#ネットワーク)内を異常な[パケット](#パケット)が埋め尽くして、通信不能な状態になる現象。

### スパニングツリー方式

**スパニングツリー方式**は、各[ブリッジ](./network_architecture.md#ブリッジ)が定期的に**BPDU**(Bridge Protocol Data Unit)と呼ばれる[パケット](#パケット)を交換し、使用する[ポート](./address_on_network.md#ポート番号)と使用しない[ポート](./address_on_network.md#ポート番号)を切り替える方式。これにより、通信路が自動的に切り替わり、ループの発生を防ぐことができる。

スパニングツリー方式を改良したものとして、**RSTP**(Rapid Spanning Tree Protocol)や、**リンクアグリゲーション**、**LLDP**(Link Layer Discovery Protocol)といった方式がある。


## イーサネット

**イーサネット**は、[コンピュータ](../../../computer/_/chapters/computer.md#コンピュータ)などの機器を有線接続する際の通信規格のひとつ。イーサネットの普及当初は、複数の端末を1本の同軸ケーブルで繋いだ[媒体共有型](#媒体共有型)の接続が一般的であったが、現在では接続する機器の処理能力向上や転送速度の高速化により、端末と[スイッチ](./network_architecture.md#スイッチ)を占有のツイストペアケーブルなどで繋いだ[媒体非共有型](#媒体非共有型)の接続に置き換わっている。


## 無線LAN

**無線LAN**(Wireless LAN)は、電波や赤外線を用いた、物理的な配線を機器に直接接続しない[LAN](#lan)。環境の構築が手軽で、移動しながらでも[ネットワーク](#ネットワーク)に接続できるというメリットがある。

無線LANが利用する電波は有限で、複数の端末が同じ周波数帯を共有する必要がある[媒体共有型](#媒体共有型)の[ネットワーク](#ネットワーク)である。

### アクセスポイント

**アクセスポイント**（基地局）は、[無線LAN](#無線lan)を通じて各機器を[ネットワーク](#ネットワーク)に接続するための機器。

### Wi-Fi

**Wi-Fi**は、[無線LAN](#無線lan)の相互接続性の検証を行っている団体が、互換性を確認した製品の証明。

### ESSID

**ESSID**(Extended Service Set Identifier)は、[無線LAN](#無線lan)を識別するための[ネットワーク](#ネットワーク)識別子。

### アドホックモード

**アドホックモード**は、無線端末同士が直接通信する方式。

### インフラストラクチャモード

**インフラストラクチャモード**は、[ネットワーク](#ネットワーク)型の[アクセスポイント](#アクセスポイント)を経由して無線接続する方式。

### ステルス機能

**ステルス機能**は、[アクセスポイント](#アクセスポイント)が発信する[ESSID](#essid)の情報を端末から読み取れないようにする機能。これにより、接続が許可されている端末だけが[ネットワーク](#ネットワーク)に接続できるようになる。

### WPA

**WPA**(Wi-Fi Protected Access)は、[無線LAN](#無線lan)においてデータの盗聴を防止するために、送信するデータを暗号化する方式。


## ノード

**ノード**は、[ネットワーク](#ネットワーク)に接続された機器や[コンピュータ](../../../computer/_/chapters/computer.md#コンピュータ)。これは、[ホスト](#ホスト)や[ルータ](#ルータ)を区別せずに扱いたい場合に用いられる。

### ホスト

**ホスト**は、[経路制御](./internet_layer.md#ルーティング)を行わない[ノード](#ノード)。

### ルータ

**ルータ**は、[経路制御](./internet_layer.md#ルーティング)を行う[ノード](#ノード)。

### エンドノード

**エンドノード**（**終点ノード**）は、通信を行う目的で[ネットワーク](#ネットワーク)の末端に接続される装置。


## ネットワークの構成

### バックボーン

**バックボーン**は、大量のデータを高速に送受信することを目的に構築された根幹[ネットワーク](#ネットワーク)。異なるエリアの[ネットワーク](#ネットワーク)をつなぐ役割を果たしている。

### エッジ

**エッジ**は、[バックボーン](#バックボーン)と、あるエリアの[ネットワーク](#ネットワーク)をつなぐ部分。エッジでは多機能[ルータ](#ルータ)などが利用されている。

### アグリゲーション

**アグリゲーション**（**アクセス**）は、エリア内の[ネットワーク](#ネットワーク)のうち[エッジ](#エッジ)に接続されている部分。[LAN](#lan)や[ルータ](#ルータ)で集約された回線はアグリゲーションに接続され、[エッジ](#エッジ)や[バックボーン](#バックボーン)を経て通信相手へと接続される。

### アドレス

**アドレス**は、通信相手の唯一性を保証する識別子。[TCP/IP](./communication_protocol.md#tcpip)においては、[IPアドレス](./address_on_network.md#ipアドレス)や[MACアドレス](./address_on_network.md#macアドレス)、[ポート番号](./address_on_network.md#ポート番号)が用いられている。


## 携帯端末による通信

### 基地局

**基地局**は、モバイルオペレータ（携帯電話提供会社）のアンテナが設置されており、[ネットワーク](#ネットワーク)の[アグリゲーション](#アグリゲーション)としての役割を持っている。携帯端末の電源を入れると、自動的に基地局に電波が発信され、最寄りの基地局と通信が行われる。

### 局舎

**局舎**は、[基地局](#基地局)に集められた情報を集約するポイントで、[ネットワーク](#ネットワーク)の[エッジ](#エッジ)としての役割を持っている。局舎は[バックボーン](#バックボーン)に接続されている。

### ローミング

**ローミング**は、携帯端末が物理的に移動した際に、自動的に[基地局](#基地局)間で情報を交換して、接続を引き継いていく仕組み。乗り物などで移動しているユーザが、継続して[インターネット](#インターネット)を利用できるのはローミングのおかげ。

### SIM

**SIM**(Subscriber Identity Module)は、[キャリア](#キャリア)が発行する、電話番号や通信事業者などの様々なデータが記録されたもの。カード上のSIMを携帯端末に差し込むことで、音声通話や[インターネット](#インターネット)接続が可能となる。


## データセンタ

**データセンタ**は、[サーバ](../../../computer/_/chapters/computer.md#サーバ)や[ストレージ](../../../computer/hardware/_/chapters/hardware.md#記憶装置)、高速な通信回線などを備えた施設。また、大規模なデータセンタは直接[バックボーン](#バックボーン)に接続されている。

SNSサイトなどにおいては世界中の大量のトラフィックを瞬時に処理する必要があるため、多くの[ストレージ](../../../computer/hardware/_/chapters/hardware.md#記憶装置)機器や[サーバ](../../../computer/_/chapters/computer.md#サーバ)を複数個所のデータセンタに設置し、高速な[ネットワーク](#ネットワーク)で接続する必要がある。


## インターネット

**インターネット**(Internet)は、[ARPANET](./history.md#arpanetの誕生)から発展した、全世界を接続している[コンピュータ](../../../computer/_/chapters/computer.md#コンピュータ)[ネットワーク](#ネットワーク)を指す言葉。[プロトコル](./network_architecture.md#プロトコル)群として[TCP/IP](./communication_protocol.md#tcpip)を用いる。

### イントラネット

**イントラネット**(Intranet)は、[インターネット](#インターネット)の対比として、会社などの組織内部の閉じた通信サービスのための[ネットワーク](#ネットワーク)を指す言葉。


## インターネットの構造

### バックボーン

**バックボーン**は、[インターネット](#インターネット)の階層構造における基幹[ネットワーク](#ネットワーク)。

### スタブ

**スタブ**は、[インターネット](#インターネット)の階層構造における末端[ネットワーク](#ネットワーク)。

### NOC

**NOC**(Network Operation Center)は、[ネットワーク](#ネットワーク)と[ネットワーク](#ネットワーク)を接続するポイント。

### IX

**IX**(Internet Exchange)は、[ネットワーク](#ネットワーク)の運用者や運用方針、利用方針などが異なる[ネットワーク](#ネットワーク)を対等に接続するポイント。[インターネット](#インターネット)は、異なる組織の[ネットワーク](#ネットワーク)がIXによって相互に接続された巨大な[ネットワーク](#ネットワーク)といえる。


## 通信の確立方式

### コネクション

**コネクション**は、通信を行う機器や[ソフトウェア](../../../computer/software/_/chapters/software.md#ソフトウェア)の間に確立された仮想的な専用通信路。**バーチャルサーキット**（**仮想回線**）とも呼ばれる。

### コネクション型

**コネクション型**は、通信をする前に[コネクション](#コネクション)を確立する方式。通信相手が確実にわかっている状態となるので、通信の信頼性が担保される一方で、無駄な[パケット](#パケット)のやり取りが発生するため、リアルタイム性を重視する通信には向いていない。

### コネクションレス型

**コネクションレス型**は、相手がいるかどうかを確認せずに送信者の都合でデータを送りつける方式。通信の信頼性は[コネクション型](#コネクション型)に劣るが、不特定多数に対する配信やリアルタイム性を重視する通信に向いている。


## 通信相手の数による通信方式の分類

### ユニキャスト

**ユニキャスト**は、2つの[コンピュータ](../../../computer/_/chapters/computer.md#コンピュータ)間の一対一の通信。1を意味する「Uni」と、投げるを意味する「Cast」を組み合わせた言葉。従来の電話が代表例。

### ブロードキャスト

**ブロードキャスト**は、ある範囲内のすべての[ホスト](#ホスト)を対象としてデータを送信するような通信。不特定多数に向かって一斉配信を行うテレビ放送が代表例。

### マルチキャスト

**マルチキャスト**は、特定のグループ内での通信。限定された複数の[ホスト](#ホスト)が接続するビデオ会議が代表例。

### エニーキャスト

**エニーキャスト**は、特定のグループ内のいずれか1つの機器との通信。[ネットワーク](#ネットワーク)上で、条件を満たした[ホスト](#ホスト)の中からどれか1つとの通信を行う。


## IoT

**IoT**(Internet of Things)は、[コンピュータ](../../../computer/_/chapters/computer.md#コンピュータ)だけでなく車や家庭用電化製品などの様々なオブジェクトやデバイスが、[インターネット](#インターネット)を通じてデータを収集したり通信したりする技術や仕組み。日本語では「モノのインターネット」と呼ばれ、大量のデータを共有・分析してサービスへの付加価値を発見し、最適なフィードバックを行うことができる。


## 5G

**5G**（5th Generation: 第5世代移動通信システム）は、従来の4Gを大幅に上回る性能を持つ通信規格で、高速大容量、超低遅延、多数同時接続といった特徴を持つ。通信速度に関しては4Gの約20倍〜100倍で、動画や大容量ファイルのダウンロード速度などが大幅に向上する。5Gはこれらの特徴から[IoT](#iot)の普及にも大きく影響している。
