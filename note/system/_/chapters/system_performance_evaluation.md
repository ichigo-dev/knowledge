# 『システムの性能評価』ノート

（最終更新： 2023-06-27）


## 目次

1. [システムの性能評価](#システムの性能評価)
	1. [レスポンスタイム](#レスポンスタイム)
	1. [ターンアラウンドタイム](#ターンアラウンドタイム)
	1. [ジッタ](#ジッタ)
	1. [スループット](#スループット)
	1. [オーバヘッド](#オーバヘッド)
	1. [ベンチマーク](#ベンチマーク)
	1. [レイテンシ](#レイテンシ)
1. [キャパシティブランニング](#キャパシティブランニング)
	1. [ワークロード](#ワークロード)
	1. [サイジング](#サイジング)
	1. [チューニング](#チューニング)
1. [RASとRASIS](#rasとrasis)
	1. [信頼性](#信頼性)
	1. [可用性](#可用性)
	1. [保守性](#保守性)
	1. [完全性・保全性](#完全性・保全性)
	1. [機密性](#機密性)
1. [信頼性指標](#信頼性指標)
	1. [MTBF](#mtbf)
	1. [MTTR](#mttr)
	1. [稼働率](#稼働率)
	1. [故障率](#故障率)
1. [性能向上の手法](#性能向上の手法)
	1. [スケールアップ](#スケールアップ)
	1. [スケールアウト](#スケールアウト)
	1. [スケールイン](#スケールイン)


## システムの性能評価

### レスポンスタイム

**レスポンスタイム**（**応答時間**）は、[システム](./system.md#システム)にデータを入力してからデータの応答が開始されるまでの時間。[クライアントサーバシステム](./system_processing_model.md#クライアントサーバシステム)においては、[クライアント](./system_processing_model.md#クライアントサーバシステム)が処理の要求をしてから[サーバ](./system_processing_model.md#クライアントサーバシステム)からのデータの到着が開始するまでの時間のことをレスポンスタイムという。

### ターンアラウンドタイム

**ターンアラウンドタイム**（**ラウンドトリップタイム**、往復時間）は、[システム](./system.md#システム)にデータを入力してからデータの応答が完了するまでの時間。[クライアントサーバシステム](./system_processing_model.md#クライアントサーバシステム)においては、[クライアント](./system_processing_model.md#クライアントサーバシステム)が処理の要求をしてから[サーバ](./system_processing_model.md#クライアントサーバシステム)からのデータがすべて到着するまでの時間のことをターンアラウンドタイムという。

### ジッタ

**ジッタ**（**揺らぎ**）は、[ラウンドトリップタイム](#ターンアラウンドタイム)の[分散](../../../basics/applied_mathematics/_/chapters/probability_and_statistics.md#分散)。

### レイテンシ

**レイテンシ**は、ユーザが[サーバ](./system_processing_model.md#クライアントサーバシステム)にデータを要求してから実際にデータが転送され始めるまでの通信の遅延時間。レイテンシが小さいほど[ユーザエクスペリエンス](../../../computer/software/_/chapters/software.md#ux)が向上する。[ラウンドトリップタイム](#ターンアラウンドタイム)と同様の意味で用いられる。

### スループット

**スループット**は、単位時間あたりに[システム](./system.md#システム)が処理できる処理数。

### オーバヘッド

**オーバヘッド**は、目的の処理以外のところでかかる時間。

### ベンチマーク

**ベンチマーク**は、[システム](./system.md#システム)の処理速度を計測するための指標で、特定の[プログラム](../../../programming/_/chapters/programming.md#プログラム)を実行したときの実行結果をもとに性能を比較する。**TPC**（Transaction Processing Performance Council: トランザクション処理性能評議会）が作成している**TPC-C**(オンライントランザクション処理のベンチマーク）や、**SPEC**（Standard Performance Evaluation Corporation: 標準性能評価法人）が作成している**SPECfp**（浮動小数点演算の評価）などが有名。


## キャパシティブランニング

**キャパシティブランニング**は、[システム](./system.md#システム)に求められるサービスレベルから、[システム](./system.md#システム)に必要なリソースの処理能力や容量、数量などを見積もり、[システム](./system.md#システム)構成を計画すること。

### ワークロード

**ワークロード**は、[コンピュータ](../../../computer/_/chapters/computer.md#コンピュータ)資源の利用状況や負荷状況。[CPU](../../../computer/hardware/_/chapters/processor.md#cpu)利用率などで現行[システム](./system.md#システム)の測定を行い、ヒアリングなどで関係者の意見を聞くなどして見積もる。

### サイジング

**サイジング**は、[システム](./system.md#システム)に必要な規模や性能を見極めて構成要素を用意する工程。[サーバ](./system_processing_model.md#クライアントサーバシステム)の台数や[CPU](../../../computer/hardware/_/chapters/processor.md#cpu)の性能、[ストレージ](../../../computer/hardware/_/chapters/hardware.md#記憶装置)の容量などを見積もる。

### チューニング

**チューニング**は、テスト環境などで、[サイジング](#サイジング)で用意した[システム](./system.md#システム)構成要素が適切であるかどうかを評価し、必要に応じて拡張・縮小すること。[ベンチマーク](#ベンチマーク)を参考にしてチューニングする場合もある。


## RASとRASIS

**RAS**(Reliability, Availability and Serviceability)、**RASIS**(Reliability, Availability, Serviceability, Integrity, Security)は[システム](./system.md#システム)の信頼性を総合的に評価する基準として用いられる概念。RASは1970年代にIBMが製品の特性を表す用語として用いたのが定着したもので、RASISは日本ではよく使われるものの海外では一般的ではない。

### 信頼性

**信頼性**(Reliability)は、障害の発生のしにくさのことで、[システム](./system.md#システム)やサービスが使用できなくなる頻度やその間隔を表す指標。信頼性は[MTBF](#mtbf)や[故障率](#故障率)で表され、この数値が大きいほど信頼性の高い[システム](./system.md#システム)であるといえる。

### 可用性

**可用性**(Availability)は、[システム](./system.md#システム)やサービスが継続して稼働できる能力。[システム](./system.md#システム)の停止時間が少ないほど可用性が高く、ユーザが利用したい時に利用できる確率が高い。[信頼性](#信頼性)や[耐障害性](./reliability_design.md#フォールトトレランス)が高い[システム](./system.md#システム)は可用性が高いといえる。可用性は[稼働率](#稼働率)で表される。

### 保守性

**保守性**(Serviceability)は、メンテナンスの容易さを表す概念。保守性は[MTTR](#mttr)で表され、この数値が小さいほど保守性が高い[システム](./system.md#システム)であるといえる。保守性が高いほど可用性が高く保たれる。

### 完全性・保全性

**完全性・保全性**(Integrity)は、情報が矛盾を起こさずに一貫性を保てる度合いを表す概念。データの処理や転送等に際して、目的となるデータが常に欠損なく存在することをデータの**インテグリティ**という。データに対する正規化や制約が不十分でデータ間の関係に矛盾が生じたり、装置の障害や[ソフトウェア](../../../computer/software/_/chapters/software.md#ソフトウェア)の[バグ](../../../programming/_/chapters/programming.md#バグ)によってデータが欠損したり、外部からの攻撃によってデータが改ざんされたりするとデータのインテグリティが損なわれる。

### 機密性

**機密性**(Security)は情報の外部流失の起きにくさの度合いを表す概念。[コンピュータ](../../../computer/_/chapters/computer.md#コンピュータ)や[ソフトウェア](../../../computer/software/_/chapters/software.md#ソフトウェア)のデータ、通信路などを暗号化したり、アクセス制御を行うなどの対策によってセキュリティを向上させることができる。


## 信頼性指標

### MTBF

**MTBF**（**平均故障間隔**: Mean Time Between Failures）は、故障が復旧してから次の故障までにかかる時間の平均。 $MTBF = \frac{コンピュータが正常に稼働している時間の累計}{故障回数}$ で求めることができる。

### MTTR

**MTTR**（**平均修復時間**: Mean Time to Repair）は、故障した[システム](./system.md#システム)が復旧にかかる時間の平均。 $MTTR = \frac{修理に要した時間の累計}{故障回数}$ で求めることができる。

### 稼働率

**稼働率**は、ある特定の時間に[システム](./system.md#システム)が稼働している[確率](../../../basics/applied_mathematics/_/chapters/probability_and_statistics.md#確率)。 $稼働率 = \frac{コンピュータが正常に稼働した時間の累計}{コンピュータ通電時間の累計} = \frac{MTBF}{MTBF + MTTR}$ で求めることができる。

### 故障率

**故障率**は、[稼働率](#稼働率)の反対、もしくはある特定の時間に[システム](./system.md#システム)が稼働していない[確率](../../../basics/applied_mathematics/_/chapters/probability_and_statistics.md#確率)。 $故障率 = 1 - 稼働率$ で求めることができ、この値を**不稼働率**とも呼ぶ。また、単位時間内にどの程度の[確率](../../../basics/applied_mathematics/_/chapters/probability_and_statistics.md#確率)で故障するかを指す場合の故障率は、 $故障率 = \frac{1}{MTBF}$ で求めることができる。


## 性能向上の手法

### スケールアップ

**スケールアップ**は、[サーバ](./system_processing_model.md#クライアントサーバシステム)の性能を上げる方法のひとつで、[サーバ](./system_processing_model.md#クライアントサーバシステム)の[ハードウェア](../../../computer/hardware/_/chapters/hardware.md#ハードウェア)を物理的に性能の高いものに置き換えるという方法。[CPU](../../../computer/hardware/_/chapters/processor.md#cpu)を高性能なものにしたり、[メモリ](../../../computer/hardware/_/chapters/memory.md#メモリ)の容量を大きくしたりする。

### スケールアウト

**スケールアウト**は、[サーバ](./system_processing_model.md#クライアントサーバシステム)の性能を上げる方法のひとつで、[サーバ](./system_processing_model.md#クライアントサーバシステム)の数を増やすという方法。[スケールアップ](#スケールアップ)と比べても大幅に[サーバ](./system_processing_model.md#クライアントサーバシステム)への負荷を減らすことができる。

### スケールイン

**スケールイン**は、[システム](./system.md#システム)を構成する[サーバ](./system_processing_model.md#クライアントサーバシステム)の数を減らすことで、リソースの無駄を減らす方法。[スケールアウト](#スケールアウト)とは反対の操作となる。


## 参考文献

- [角谷一成.令和05年 基本情報技術者合格教本.株式会社技術評論社, 2022, 575](https://gihyo.jp/book/2022/978-4-297-13164-7)
- [瀬戸美月.徹底攻略 応用情報技術者教科書 令和4年度.株式会社インプレス, 2021, 814](https://book.impress.co.jp/books/1121101057)
