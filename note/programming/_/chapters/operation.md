# 『演算』ノート

（最終更新： 2023-03-03）


## 目次

1. [演算](#演算)
1. [算術演算](#算術演算)
1. [比較演算](#比較演算)
1. [代入演算](#代入演算)
1. [論理演算](#論理演算)
1. [ビット演算](#ビット演算)
1. [インクリメント](#インクリメント)
1. [デクリメント](#デクリメント)
1. [三項演算](#三項演算)


## 演算

**演算**は、加算や減算、比較といった計算処理。各種演算を表す記号・シンボルのことを**演算子**（**オペレータ**）、演算対象となるデータのことを**被演算子**（**オペランド**）という。各[プログラミング言語](./programming.md#プログラミング言語)で用いられる演算子は基本的に共通しているものが多い。


## 算術演算

**算術演算**は、加算や減算、乗算、除算、剰余（モジュロ演算）といった数学的な[演算](#演算)処理。算術演算の優先度に関するルールについては、通常の数学で用いられるものと同様である場合が多い。

| 演算                 | 演算子 |
|----------------------|--------|
| 加算                 | `+`    |
| 減算                 | `-`    |
| 乗算                 | `*`    |
| 除算                 | `/`    |
| 剰余（モジュロ演算） | `%`    |


## 比較演算

**比較演算**（**関係演算**）は、左右の[オペランド](#演算)を比較して、結果として[真偽値](../../../basics/discrete_mathematics/_/chapters/set_and_proposition.md#真偽値)を返却するような[演算](#演算)。[プログラミング言語](./programming.md#プログラミング言語)によっては、等価・非等価の[演算](#演算)は[型](./data_type.md#型)の比較を行わず、曖昧な結果を返却する場合もある（[文字型](./data_type.md#文字型)の `'1'` と[整数型](./data_type.md#整数型)の `1` を同値として扱うなど）。このような言語では、[型](./data_type.md#型)の比較も同時に行う厳密な等価・非等価の[演算子](#演算)として、 `===` および `!==` を用いることが一般的である。

| 演算                     | 演算子 |
|--------------------------|--------|
| 大なり                   | `>`    |
| 大なりイコール           | `>=`   |
| 小なり                   | `<`    |
| 小なりイコール           | `<=`   |
| イコール（同値）         | `==`   |
| ノットイコール（非同値） | `!=`   |


## 代入演算

**代入演算**は、左側の[オペランド](#演算)に対して右側の[オペランド](#演算)の値を代入する[演算](#演算)。また[代入](./variable.md#代入)の際に、左側の[オペランド](#演算)の元の値と右側の[オペランド](#演算)の[算術演算](#算術演算)を行った結果の[再代入](./variable.md#代入)を行う、**複合代入演算**をサポートする[プログラミング言語](./programming.md#プログラミング言語)もある。

| 演算         | 演算子 |
|--------------|--------|
| 代入         | `=`    |
| 加算して代入 | `+=`   |
| 減算して代入 | `-=`   |
| 乗算して代入 | `*=`   |
| 除算して代入 | `/=`   |
| 剰余を代入   | `%=`   |


## 論理演算

**論理演算**は、[オペランド](#演算)に[真偽値](../../../basics/discrete_mathematics/_/chapters/set_and_proposition.md#真偽値)をとり、複数の条件を組み合わせた新しい条件を評価する[演算](#演算)。論理演算子を組み合わせることで、複雑な条件を表現することができる。

| 演算        | 演算子 | 概要                                                            |
|-------------|--------|-----------------------------------------------------------------|
| 論理積(AND) | `&&`   | 左右のオペランドが両方 `true` であれば `true`                   |
| 論理和(OR)  | `||`   | 左右のオペランドの一方でも `true` であれば `true`               |
| 否定(NOT)   | `!`    | オペランドが `true` であれば `false` 、 `false` であれば `true` |


## ビット演算

**ビット演算**は、[オペランド](#演算)を[ビット](../../../basics/_/chapters/computer_and_number.md#ビット)列とみなして、[ビット](../../../basics/_/chapters/computer_and_number.md#ビット)単位での[演算](#演算)を行う。

| 演算           | 演算子 | 概要                                                                                        |
|----------------|--------|---------------------------------------------------------------------------------------------|
| ビットAND      | `&`    | 左右のオペランドをビット列として比較し、両方1のビットのみを1にしたビット列を返す           |
| ビットOR       | `|`    | 左右のオペランドをビット列として比較し、どちらか一方が1のビットのみを1にしたビット列を返す |
| ビットXOR      | `^`    | 左右のオペランドをビット列として比較して、異なる値を持つビットのみを1にしたビット列を返す  |
| ビットNOT      | `~`    | オペランドをビット列として識別し、全てのビットを反転させたビット列を返す                   |
| 右ビットシフト | `>>`   | オペランドをビット列として識別し、全てのビットを右に1ビットずらしたビット列を返す          |
| 左ビットシフト | `<<`   | オペランドをビット列として識別し、全てのビットを左に1ビットずらしたビット列を返す          |

**右ビットシフト**は1[ビット](../../../basics/_/chapters/computer_and_number.md#ビット)[シフト](../../../basics/discrete_mathematics/_/chapters/arithmetic_operation_and_precision.md#シフト演算)するごとに値が元の $1/2$ 倍になり、**左ビットシフト**は1[ビット](../../../basics/_/chapters/computer_and_number.md#ビット)[シフト](../../../basics/discrete_mathematics/_/chapters/arithmetic_operation_and_precision.md#シフト演算)するごとに値が元の $2$ 倍になる。

**論理ビットシフト**では、[シフト](../../../basics/discrete_mathematics/_/chapters/arithmetic_operation_and_precision.md#シフト演算)演算後の空き[ビット](../../../basics/_/chapters/computer_and_number.md#ビット)を常に `0` で初期化する。**算術ビットシフト**では、右[シフト](../../../basics/_/chapters/computer_and_number.md#ビット)を行った後の空き[ビット](../../../basics/_/chapters/computer_and_number.md#ビット)を[符号ビット](../../../basics/discrete_mathematics/_/chapters/numeric_representation.md#符号ビット)で初期化する。

## インクリメント

**インクリメント**は、[整数型](./data_type.md#整数型)の[オペランド](#演算)の値を1増加させる[演算](#演算)。カウンタ[変数](./variable.md#変数)のカウントアップなどに用いられ、表記が非常にシンプルであるのが特徴。インクリメント演算子をサポートしていない[プログラミング言語](./programming.md#プログラミングン言語)もある。

**前置インクリメント**は、データをインクリメントしてからその値を返却する。**後置インクリメント**は、データを返却してからインクリメントする。微妙な動作のずれに繋がるため注意が必要。

```c
// C言語

// 前置インクリメント
++x;

// 後置インクリメント
x++;
```


## デクリメント

**デクリメント**は、[整数型](./data_type.md#整数型)の[オペランド](#演算)の値を1減少させる[演算](#演算)。カウンタ[変数](./variable.md#変数)のカウントダウンなどに用いられ、表記が非常にシンプルであるのが特徴。デクリメント演算子をサポートしていない[プログラミング言語](./programming.md#プログラミング言語)もある。

**前置デクリメント**は、データをデクリメントしてからその値を返却する。**後置デクリメント**は、データを返却してからデクリメントする。微妙な動作のずれに繋がるため注意が必要。

```c
// C言語

// 前置デクリメント
--x;

// 後置デクリメント
x--;
```


## 三項演算

**三項演算**は、条件式に応じて返却する値を切り替えるような[演算](#演算)。通常の[演算](#演算)が[オペランド](#演算)を1つあるいは2つしかとらないのに対して、三項演算では3つの[オペランド](#演算)をとるのが特徴。

一般的には次のような記法を用いる。

```
<条件式> ? <真式> : <偽式>
```

```php
<?php

// PHP

// 代入演算子の右側のオペランドが三項演算で構成されているパターン
// $yが20以下なら$y + 5の結果が、20より大きければ20が$xに代入される
$y = $_POST["input_num"];
$x = $y <= 20 ? $y + 5 : 20;

?>
```

三項演算子をサポートしていない[プログラミング言語](./programming.md#プログラミング言語)もある。
