# 『プログラミングの基礎知識』

（最終更新： 2023-01-20）


## 目次

1. [プログラミング](#プログラミング)
	1. [ソースコード](#ソースコード)
1. [機械語](#機械語)
1. [プログラムのメモリ管理](#プログラムのメモリ管理)


## プログラミング

**プログラミング**は、コンピュータが処理を行う手順や内容を示したもの。プログラムを書く人のことを**プログラマ**、プログラムを実装することを**プログラミング**という。プログラムを記述する際には様々な**プログラミング言語**が用いられる。

プログラマには、世の中の様々なタスクや問題をプログラミングによって解決するという役割がある。毎日の単純作業のくり返しを減らしたり（表計算ソフトなど）、ミスが許されない場面で正確に動作することが保証されたシステムを利用したり（銀行のシステムや信号機など）、さらに人間には難しいタスクの解決を行ったり（AIによる異常検知など）と、プログラミングスキルの応用範囲は多岐にわたる。

### ソースコード

**ソースコード**（**ソース**、**コード**）は、プログラミング言語で書かれたプログラムのこと。


## 機械語

**機械語**（**マシン語**）は、コンピュータが直接解釈できるプログラムで、2進数の羅列からなる。機械語は次の例のようなプログラムとなっており、人間が記述したり内容を理解するのには適していない。そのため、人間が理解しやすいようにプログラミング言語を用いてソースコードを作成し、専用のプログラムによってソースコードを機械技の変換するのが一般的。

```
0111 1111 0100 0101 0100 1100 0100 0101 0000 0010 0000 0001 0000 0001 0000 0000
0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000
0000 0010 0000 0000 0011 1110 0000 0000 0000 0001 0000 0000 0000 0000 0000 0000
0000 0000 0000 0000 0000 0100 0100 0000 0000 0000 0000 0000 0000 0000 0000 0000

...(以下略)
```


## プログラムのメモリ管理

プログラム中で用いられる変数や関数は、プログラムに割り当てられたメモリ領域内に格納される。グローバル変数は静的領域に、関数内で使用されるローカル変数はスタック領域に、配列やオブジェクトといった可変長のデータの実体はヒープ領域に格納される。

### ヒープ領域の確保と解放

スタック領域に格納された変数は、関数の実行が完了すると自動的に解放されるが、ヒープ領域に格納したデータは別の手段により解放する必要がある。ヒープ領域のデータを解放する手段はプログラミング言語によって異なる。C言語やC++では、プログラマが明示的にソースコード中でヒープ領域の確保・解放を宣言する必要があり、そのほかのほとんどのプログラミング言語ではガベージコレクションを用いる。また、Rust言語ではガベージコレクションを用いずにメモリの解放に関する一定のルールを設けることで、プログラマがメモリ管理に関する責任を負わなくてよいようにしている。

### メモリリーク

**メモリリーク**は、プログラムが使い終わったメモリの解放を忘れることで、使用できなくなるメモリ領域ができてしまうこと。メモリ管理に関するバグの一種。

### ダブルフリー

**ダブルフリー**（メモリの二重解放）は、既に解放されたヒープ領域のメモリを、再度解放しようとすること。メモリ管理に関するバグの一種。

### ダングリングポインタ

**ダングリングポインタ**は、ヒープ領域に格納されたデータのアドレスを格納したスタック領域のポインタにおいて、既に解放されたヒープ領域を指し示すポインタのこと。メモリ管理に関するバグの一種。

### ガベージコレクション

**ガベージコレクション**（**GC**）は、ヒープ領域のデータを定期的に確認し、不要になったデータを解放するプログラム。ガベージコレクションを用いる場合、ソースコード中でヒープ領域の解放を明示する必要はない。

メモリリークやダブルフリー、ダングリングポインタといったメモリに関するバグを回避するこおとができる。ただし、プログラマ自身がメモリ管理をするプログラミング言語に比べてパフォーマンスは低く、プログラムの実行に関係のないソフトウェア（ガベージコレクション）を動作させる必要があるというデメリットがある。また、ガベージコレクションが動くタイミングでソフトウェアの動作が遅くなる可能性がある。
