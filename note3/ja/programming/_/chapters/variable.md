# 『変数』

（最終更新： 2023-01-25）


## 目次

1. [変数](#変数)
	1. [グローバル変数](#グローバル変数)
	1. [ローカル変数](#ローカル変数)
1. [変数の操作](#変数の操作)
	1. [宣言](#宣言)
	1. [代入](#代入)
	1. [初期化](#初期化)
	1. [参照](#参照)
1. [定数](#定数)


## 変数

**変数**は、プログラム中で用いるデータに固有の名前をつけたもの。物理的にはデータはメモリに格納されており、メモリ上のデータにはアドレスを使ってアクセスすることができる。しかし、メモリアドレスはただの数値の羅列であり、人間にはわかりずらいため、ソースコード中では格納しているデータの性質や役割を表す識別子をつけた変数を用いる。

### グローバル変数

**グローバル変数**は、グローバルスコープに宣言された変数のこと。

### ローカル変数

**ローカル変数**（**自動変数**）は、ローカルスコープに宣言された変数のこと。

同じ識別子の変数を複数回宣言できないプログラミング言語においても、スコープが異なれば同じ識別子を用いることができる。


## 変数の操作

```c
// C言語

int main()
{
    int x;               // 宣言
    int y = 5;           // 初期化
    x = 3;               // 代入
    printf("%d\n", x);   // 参照

    return 0;
}
```

```php
<?php

// PHP

$x = 5;     // 宣言、初期化、代入
echo($x);   // 参照

?>
```

```javascript
// JavaScript

let x;            // 宣言
let y = 5;        // 初期化
x = 3;            // 代入
console.log(x);   // 参照
```

### 宣言

**宣言**では、プログラム中で用いる変数の名前を明示する。静的型付け言語の多くは、宣言時に変数の型も指定する必要がある。

プログラミング言語によっては、同じ変数名を複数回宣言しようとするとエラーとなる。一方で、新しい変数で前の変数を上書きする（**シャドーイング**）仕様のプログラミング言語もある。

### 代入

**代入**では、宣言した変数に対してデータを関連付ける。既にデータが紐づけられている変数に対して別のデータを紐づけることもでき、これを**再代入**という。代入のための演算子としては `=` が用いられる場合が多い（数学的な意味では `=` は「等価」であるが、多くのプログラミング言語では等価は `==` で表される）。

変数名に対してデータを関連付けるように、何かに対して別の何かを紐づけることを、プログラミングでは**束縛**（**バインド**）という。

### 初期化

**初期化**では、変数の宣言と同時に代入を行う。定数のような、後から変更することを許可しない変数を宣言したい場合は、初期化が必須となる。

### 参照

**参照**では、変数名に紐づくデータを取り出す。データが代入されていない変数（**未初期化状態**の変数）を参照することは不正な操作となり、プログラミング言語によっては未定義動作となる。


## 定数

**定数**は、初期化した後に別のデータを再代入できない変数。変数は後からデータを紐づけることができるが、定数はできないので、必ず初期化する必要がある。定数の初期化には `const` キーワードが用いられる場合が多い。プログラム中で変更されてはいけないデータや、数学的・物理的な定数に用いられるのが一般的。

```c
// C言語

// 変数の初期化時にconstキーワードをつけることで定数にすることができる
const int max_num = 1000;
const float pi = 3.14159;
```

```javascript
// JavaScript

// letの代わりにconstを用いることで定数を初期化する
const max_num = 1000;
const pi = 3.14159;
```

定数は紐づくデータは変わらないが、ポインタ経由などでデータ自体を書き換えることができてしまうため、必ずしも参照した中身が一致するとは限らない点に注意が必要である。

また `const` 定数と似たような使われ方をする機能として、 `define` を利用できるプログラミング言語もある。これは一般的には、ソースコード中の文字列をコンパイル時に別の値に置き替える機能のことを指す。

```c
// C言語

// defineマクロを用いて値を定義する
#define MAX_NUM 1000
#define PI 3.14159
```

```php
<?php

// PHP

// define関数を用いて値を定義する
define("MAX_NUM", 1000);
define("PI", 3.14159);

?>
```
