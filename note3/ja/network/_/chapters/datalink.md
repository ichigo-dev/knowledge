# 『データリンク』

（最終更新： 2023-02-05）


## 目次

1. [データリンク](#データリンク)
	1. [フレーム](#フレーム)
1. [MACアドレス](#macアドレス)
1. [ネットワークトポロジ](#ネットワークトポロジ)
	1. [半二重通信](#半二重通信)
	1. [全二重通信](#全二重通信)
	1. [媒体共有型](#媒体共有型)
	1. [媒体非共有型](#媒体非共有型)
	1. [ポイントツーポイント方式](#ポイントツーポイント方式)
	1. [バス型](#バス型)
	1. [スター型](#スター型)
	1. [ツリー型](#スター型)
	1. [リング型](#リング型)
1. [アクセス制御方式](#アクセス制御方式)
	1. [衝突](#衝突)
	1. [パケット](#パケット)
	1. [回線交換](#回線交換)
	1. [パケット交換](#パケット交換)
	1. [CSMA方式](#csma方式)
	1. [CSMA/CD方式](#csma-cd方式)
	1. [CSMA/CA方式](#csma-ca方式)
	1. [トークンパッシング方式](#トークンパッシング方式)
	1. [TDMA方式](#TDMA方式)
1. [フレーム転送方式](#フレーム転送方式)
	1. [ストア&フォワード方式](#ストア&フォワード方式)
	1. [カットスルー方式](#カットスルー方式)
1. [ネットワークループの回避](#ネットワークループの回避)
	1. [メルトダウン](#メルトダウン)
	1. [スパニングツリー方式](#スパニングツリー方式)
1. [イーサネット](#イーサネット)
	1. [イーサネットのフレームフォーマット](#イーサネットのフレームフォーマット)
1. [無線LAN](#無線lan)
	1. [アクセスポイント](#アクセスポイント)
	1. [Wi-Fi](#wi-fi)
	1. [ESSID](#essid)
	1. [アドホックモード](#アドホックモード)
	1. [インフラストラクチャモード](#インフラストラクチャモード)
	1. [ステルス機能](#ステルス機能)
	1. [WPA](#wpa)
1. [VLAN](#vlan)
1. [PPP](#ppp)
1. [ATM](#atm)
1. [POS](#pos)
1. [VPN](#vpn)
	1. [トンネリング](#トンネリング)
	1. [カプセル化](#カプセル化)
	1. [広域イーサネット](#広域イーサネット)
1. [その他のチェックポイント](#その他のチェックポイント)


## データリンク

**データリンク**では、物理層の通信媒体の電圧の高低や光の点滅を、コンピュータで処理できるように0と1の羅列に変換し、それをフレームという意味のあるかたまりとして相手に届ける。

### フレーム

**フレーム**は、データリンクにおけるデータのまとまり。


## MACアドレス

**MACアドレス**は、データリンクに接続しているノードを識別する際に利用される識別子で、48ビットの長さを持つ。イーサネットや無線LANでは、IEEEによって規格化されたMACアドレスが用いられている。

一般的なNICでは、MACアドレスはROMに焼き込まれており、同じMACアドレスを持つNICは世界中にひとつしかない。MACアドレスには、NICの製造メーカを特定する**ベンダ識別子**と、メーカが決定するビット列が含まれている。ベンダ識別子はIEEEが割り当てる番号で、従来は**OUI**(Organizationally Unique Identifier)と呼ばれていたが、**MA-L**(MAC Address Block Large)に改称された。


## ネットワークトポロジ

**ネットワークトポロジ**は、ネットワークの接続形態や構成形態のこと。

### 半二重通信

**半二重通信**は、送信と受信を同時に行えないような通信のこと。

### 全二重通信

**全二重通信**は、送信と受信を同時に行えるような通信のこと。

### 媒体共有型

**媒体共有型**のネットワークは、通信媒体を複数のノードで共有する方式で、半二重通信となる。同じ通信路を用いてデータの送受信を制御する仕組みが必要となる。

### 媒体非共有型

**媒体非共有型**のネットワークは、通信媒体を共有せずに占有する方式で、全二重通信となる。中央装置であるハブに高度な機能をもたせることで、仮想的なネットワークの構築やデータ流量の制御なども可能になる。

### ポイントツーポイント方式

**ポイントツーポイント方式**は、2つの危機が物理的または論理的に直接つなげる接続形態。

### バス型

**バス型**は、1本の伝送路に多数のノードを接続する接続形態。配線のコストが小さく、あるノードが故障しても他のノードに与える影響が小さい。バス型は、媒体共有型のネットワークである。

### スター型

**スター型**は、個々のノードを中央となる制御局（ハブ）に接続した形態。ノードに障害が発生した場合に検出が容易であるが、ハブに障害が発生すると全体がダウンする。スター型は、媒体非共有型のネットワークである。

### ツリー型

**ツリー型**は、ハブを称したスター型の接続を多段階にした形態。

### リング型

**リング型**は、両隣のノードを接続して、全体としてループ上に構成した形態。伝送路に障害が発生した場合に備えてリングを二重化にしておくのが一般的。リング型は、媒体共有型のネットワークである。


## アクセス制御方式

**アクセス制御方式**は、複数の端末が接続された通信路において、衝突を回避するための仕組み。

### 衝突

**衝突**（**コリジョン**）は、複数の端末が接続された通信路において、ある端末がデータを伝送中に、別の端末からのデータの伝送が行われてしまうこと。

### パケット

**パケット**は、ネットワークを通じて送信するデータを小さく分割した単位。

### 回線交換

**回線交換**は、データ送信の際に通信路を占有してコネクションを確立する方式。

### パケット交換

**パケット交換**は、データをパケットに分割して伝送する方式。

### CSMA方式

**CSMA方式**（**コンテンション方式**、Carrier Sense Multiple Access）は、主にバス型のLANに採用されるアクセス制御方式。複数のノードが同時に伝送路にデータを送出してしまうと、衝突が発生してデータが破壊される。

### CSMA/CD方式

**CSMA/CD方式**(CSMA with Collision Detection)は、CSMA方式を改良したもので、イーサネットLANで採用されている。データを送信する際は、伝送路に、他に送信中の端末がないことを確認する。衝突が起こるとすぐにデータの送信を停止し、再度衝突が発生しないように乱数時間待ってからデータを再送する。回線が混雑すると、衝突と待ちが繰り返され、スループットが急激に低下する。

### CSMA/CA方式

**CSMA/CA方式**(CSMA with Collision Avoidance)は、CSMA方式を改良したもので、無線LANで採用されている。データを送信する際は、伝送路に、他の送信中の端末がないことを確認する。無線ではデータの衝突を検出できないため、受信側の端末から受信が成功したことを送信側に通知する仕組みとなっている。通知がなかった場合は、通信障害が発生したものとみなして、データを再送する。

### トークンパッシング方式

**トークンパッシング方式**は、主にリング型のLANに採用されているアクセス制御方式。伝送路上に**トークン**と呼ぶ特別なフレームを巡回させ、トークンを保有しているノードだけが送信権を持つという仕組み。通信路が混雑していない場合には伝送路の仕様効率が悪くなってしまう。

どのノードも送信要求を行っていない状態のとき、ただ巡回しているだけのトークンを**フリートークン**という。ノードがフリートークンを捕まえてデータの送信を行っている状態では、トークのことを**ビジートークン**という。宛先のノードがビジートークンを受け取り、再び送信元に戻ると、送信元はフリートークンを送出して送信が完了する。

### TDMA方式

**TDMA方式**は、時間を**タイムスロット**に分割して、各端末に送信権を与えるアクセス方式。2つの端末に同じタイムスロットを与えることで、ポイントツーポイント通信が可能になる。


## フレーム転送方式

### ストア&フォワード方式

**ストア&フォワード方式**は、すべてのフレームを受信して読み込んだ後にフレームを転送する。フレームをすべて読み込むため、FCSによるエラーチェックが行えるので信頼性のある通信ができが、遅延が発生するというデメリットもある。

### カットスルー方式

**カットスル➖方式**は、フレームの先頭に記されたMACアドレスを受信後、すぐにそのアドレスに対してフレームの転送を開始する。高速で転送が行える一方で、エラーチェックができない。


## ネットワークループの回避

ブリッジでネットワークを接続する際にループが発生すると、最悪の場合にはフレームがループ内を巡回し続けることでネットワークがメルトダウンしてしまう。

### メルトダウン

**メルトダウン**は、ネットワーク内を異常なパケットが埋め尽くして、通信不能な状態になること。

### スパニングツリー方式

**スパニングツリー方式**は、各ブリッジが定期的に**BPDU**(Bridge Protocol Data Unit)と呼ばれるパケットを交換し、使用するポートと使用しないポートを切り替える。これにより、通信路が自動的に切り替わり、ループの発生を防ぐことができる。

スパニングツリー方式を改良したものとして、**RSTP**(Rapid Spanning Tree Protocol)や、**リンクアグリゲーション**、**LLDP**(Link Layer Discovery Protocol)といった方式がある。


## イーサネット

**イーサネット**は、コンピュータなどの機器を有線接続する際の通信規格のひとつ。イーサネットの普及当初は、複数の端末を1本の同軸ケーブルで繋いだ媒体共有型の接続が一般的であったが、現在では接続する機器の処理能力向上や転送速度の高速化により、端末とスイッチを占有のツイストペアケーブルなどで繋いだ媒体非共有型の接続に置き換わっている。

### イーサネットのフレームフォーマット

イーサネットのフレームの先頭には、フレーム本体の開始位置を表すために、1と0を交互に並べた**プリアンブル**と呼ばれるフィールドが付けられる。IEEE仕様のフレームでは、プリアンブルの末尾は**SFD**(Start Frame Delimiter)という「11」のフィールドで終わり、それ以降がイーサネットフレーム本体として扱われる。

最後の**FCS**(Frame Check Sequence)は、フレームが壊れていないかを確かめるためのフィールド。


## 無線LAN

**無線LAN**(Wireless LAN)は、電波や赤外線を用いた、物理的な配線を機器に直接接続しないLAN。環境の構築が手軽で、移動しながらでもネットワークに接続できるというメリットがある。

無線LANが利用する電波は有限で、複数の端末が同じ周波数帯を共有する必要がある媒体共有型のネットワークである。

### アクセスポイント

**アクセスポイント**（基地局）は、無線LANを通じて各機器をネットワークに接続するための機器。

### Wi-Fi

**Wi-Fi**は、無線LANの相互接続性の検証を行っている団体が、互換性を確認した製品の証明。

### ESSID

**ESSID**(Extended Service Set Identifier)は、無線LANを識別するためのネットワーク識別子。

### アドホックモード

**アドホックモード**は、無線端末同士が直接通信する方式。

### インフラストラクチャモード

**インフラストラクチャモード**は、ネットワーク型のアクセスポイントを経由して無線接続する方式。

### ステルス機能

**ステルス機能**は、アクセスポイントが発信するESSIDの情報を端末から読み取れないようにする機能。これにより、接続が許可されている端末だけがネットワークに接続できるようになる。

### WPA

**WPA**(Wi-Fi Protected Access)は、無線LANにおいてデータの盗聴を防止するために、送信するデータを暗号化する方式。


## VLAN

**VLAN**(Virtual LAN)は、ネットワークを仮想化するスイッチの機能。これを利用することで、ネットワークの配線を変えずに構成を変えるといったことが可能となる。VLANは、スイッチのポートごとにセグメントを分けることで、ブロードキャストのトラフィックが流れる範囲を区切ることができる。


## PPP

**PPP**(Point-to-Point Protocol)は、1対1でコンピュータを接続するためのプロトコル。従来は電話回線や専用回線などを利用していたが、近年はインターネット接続を利用した**PPPoE**（PPP over Ethernet）としての利用が増えてきた。


## ATM

**ATM**(Asynchronous Transfer Mode)は、コネクション型のデータリンクで、「ヘッダ5オクテット + データ48オクテット」の**セル**と呼ばれる単位でデータを処理する。ATMは**AAL**(ATM Adaption Layer)とともに利用される。

ATMはセルが1つでも失われると最大192個のセルを再送しなければいけなくなるという問題がある。


## POS

**POS**(Packet over SDH/SONET)は、デジタル信号を光ファイバーでやり取りするための規格。**SDH**(Synchronous Digital Hierarchy)は電話回線や専用線などで信頼性の高い光伝送ネットワークとして広く利用されている。


## VPN

**VPN**(Virtual Private Network)は、インターネットのような公開された回線上で、安全にパケットをやり取りするための専用回線を擬似的に設ける技術。

### トンネリング

**トンネリング**は、不特定多数が使うような回線上で、データを互いにやり取りするための隔絶されたコネクションを設けること。

### カプセル化

**カプセル化**は、VPN上でやり取りされるデータを暗号化し、外部から隠蔽するための技術。

### 広域イーサネット

**広域イーサネット**は、通信事業者が独自に用意した閉域網を利用するVPN接続サービス。


## その他のチェックポイント

- [WiMAX](https://ja.wikipedia.org/wiki/WiMAX)
- [Bluetooth](https://ja.wikipedia.org/wiki/Bluetooth)
- [ZigBee](https://ja.wikipedia.org/wiki/ZigBee)
- [LPWA（Low Power, Wide Area）](https://ja.wikipedia.org/wiki/LPWA_(%E7%84%A1%E7%B7%9A))
- [LCP（Link Control Protocol）](https://ja.wikipedia.org/wiki/Link_Control_Protocol)
- [NCP（Network Control Protocol）](https://ja.wikipedia.org/wiki/Network_Control_Protocol)
- [PAP（Password Authentication Protocol）](https://ja.wikipedia.org/wiki/Password_Authentication_Protocol)
- [CHAP（Challenge Handshake Authentication Protocol）](https://ja.wikipedia.org/wiki/Challenge-Handshake_Authentication_Protocol)
- [ファイバーチャネル](https://ja.wikipedia.org/wiki/%E3%83%95%E3%82%A1%E3%82%A4%E3%83%90%E3%83%BC%E3%83%81%E3%83%A3%E3%83%8D%E3%83%AB)
- [iSCSI](https://ja.wikipedia.org/wiki/ISCSI)
- [InfiniBand](https://ja.wikipedia.org/wiki/InfiniBand)
- [HDMI](https://ja.wikipedia.org/wiki/HDMI)
- [DOCSIS](https://ja.wikipedia.org/wiki/Data_Over_Cable_Service_Interface_Specifications)
- [高速PLC](https://ja.wikipedia.org/wiki/%E9%9B%BB%E5%8A%9B%E7%B7%9A%E6%90%AC%E9%80%81%E9%80%9A%E4%BF%A1)
- [アナログ電話回線](https://ja.wikipedia.org/wiki/%E9%9B%BB%E8%A9%B1%E5%9B%9E%E7%B7%9A)
- [モバイル通信サービス](https://ja.wikipedia.org/wiki/%E7%A7%BB%E5%8B%95%E4%BD%93%E9%80%9A%E4%BF%A1)
- [ADSL](https://ja.wikipedia.org/wiki/ADSL)
- [FTTH](https://ja.wikipedia.org/wiki/FTTH)
    - [ダークファイバー](https://ja.wikipedia.org/wiki/%E3%83%80%E3%83%BC%E3%82%AF%E3%83%95%E3%82%A1%E3%82%A4%E3%83%90)
- [ケーブルテレビ](https://ja.wikipedia.org/wiki/%E3%82%B1%E3%83%BC%E3%83%96%E3%83%AB%E3%83%86%E3%83%AC%E3%83%93)
- [専用回線](https://ja.wikipedia.org/wiki/%E5%B0%82%E7%94%A8%E7%B7%9A)
- [公衆無線LAN](https://ja.wikipedia.org/wiki/%E5%85%AC%E8%A1%86%E7%84%A1%E7%B7%9ALAN)
    - [ホットスポット](https://ja.wikipedia.org/wiki/%E3%83%9B%E3%83%83%E3%83%88%E3%82%B9%E3%83%9D%E3%83%83%E3%83%88_(NTT))
