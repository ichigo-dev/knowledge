# 『メモリ』

（最終更新： 2023-01-15）


## 目次

1. [メモリ](#メモリ)
1. [主記憶装置の種類](#主記憶装置の種類)
	1. [RAM](#ram)
	1. [ROM](#rom)
1. [キャッシュメモリ](#キャッシュメモリ)
	1. [ヒット率](#ヒット率)
	1. [実行アクセス時間](#実行アクセス時間)
	1. [ダイレクトマップ方式](#ダイレクトマップ方式)
	1. [フルアソシアティブ方式](#フルアソシアティブ方式)
	1. [セットアソシアティブ方式](#セットアソシアティブ方式)
	1. [ライトスルー方式](#ライトスルー方式)
	1. [ライトバック方式](#ライトバック方式)
1. [メモリインタリーブ](#メモリインタリーブ)
1. [記憶領域の管理方式](#記憶領域の管理方式)
	1. [ファーストフィット方式](#ファーストフィット方式)
	1. [ベストフィット方式](#ベストフィット方式)


## メモリ

**メモリ**とは、コンピュータ上でデータを保持しておくための記憶装置。


## 主記憶装置の種類

### RAM

**RAM**(Random Access Memory)とは、読み書きが可能なメモリ。電源の供給がなくなると内容が消えてしまうという性質から、**揮発性メモリ**とも呼ばれる。

**DRAM**(Dynamic RAM)とは、一定時間たつとデータが消失してしまうという性質を持っており、低速で高消費電力である代わりに、安価で大容量である。現在ではほとんどの場合、システムのバスと同期して動作する**SDRAM**(Synchronous DRAM)となっている。

**SRAM**(Static RAM)とは、電源を切らない限り内容を保持し続けるという性質を持っており、高速で低消費電力である代わりに、高価で少容量である。キャッシュメモリとして用いられる。

### ROM

**ROM**(Read Only Memory)とは、読み出し専用のメモリ。種類によっては全消去や書き込み、追記が可能なものもある。電源の供給がなくても記憶を保持することが可能であるという性質から、**不揮発性メモリ**とも呼ばれる。

**フラッシュメモリ**は代表的なROMで、ブロック単位での消去や書き込みができる。USBメモリやSSDに利用されているが、本来はROMであるため、何度も書き換えを行うと劣化してしまう。


## キャッシュメモリ

**キャッシュメモリ**とは、プロセッサとメモリの性能差を埋めるために両者の間で用いられるメモリ。高速である必要があり、CPUのチップに内蔵されることが一般的。また、キャッシュメモリを多段構成にして、CPUから近い順に1次キャッシュ、2次キャッシュとするものもある。

### ヒット率

**ヒット率**とは、キャッシュメモリを用いてCPUとメモリがやり取りをするときに、データがキャッシュメモリ上にある確率のこと。ヒット率が高いほどキャッシュメモリが使用される確率が高く、高速な処理が可能となる。

### 実行アクセス時間

**実行アクセス時間**とは、キャッシュメモリにデータが存在する場合と存在しない場合を含めた平均的なデータへのアクセス時間を求めることができる。

```math
実行アクセス時間 = キャッシュメモリへのアクセス時間 \times ヒット率 + メモリへのアクセス時間 \times (1 - ヒット率)
```

### ダイレクトマップ方式

**ダイレクトマップ方式**とはキャッシュメモリにおけるデータの格納方法のひとつで、メモリのアドレスごとにキャッシュメモリの格納場所がひとつに決まる。データの検索が高速であるが、衝突が起こりやすくなりヒット率が下がる。

### フルアソシアティブ方式

**フルアソシアティブ方式**とはキャッシュメモリにおけるデータの格納方法のひとつで、キャッシュメモリの空いているブロックにメモリのデータを格納する。衝突は少ないものの、データの使用時に毎回検索が必要になるので低速。

**連想メモリ**(**CAM**: Content Addressable Memory)を使用することで検索を高速化している。

### セットアソシアティブ方式

**セットアソシアティブ方式**とはキャッシュメモリにおけるデータの格納方法のひとつで、キャッシュメモリを複数のグループに分け、そのグループ内ならどこでも使えるようにしたもの。

フルアソシアティブ方式と同様[連想メモリ](#フルアソシアティブ方式)によって検索を高速化している。

### ライトスルー方式

**ライトスルー方式**とはキャッシュメモリにおけるデータの更新方法のひとつで、プロセッサがキャシュメモリに書き込みを行った場合に、同時にメモリにもその内容を転送する。スループットは下がるが、**コヒーレント**（データの一貫性）は保たれる。

### ライトバック方式

**ライトバック方式**とはキャッシュメモリにおけるデータの更新方法のひとつで、プロセッサがキャシュメモリに書き込みを行った場合に、すぐにはメモリにその内容を転送しない。条件を満たした場合にのみメモリに書き込まれるため、スループットは上がるが、コヒーレントが保たれないことがある。


## メモリインタリーブ

**メモリインタリーブ**とは、CPUとメモリのデータ転送を高速化するための技術のひとつで、データを服薄のメモリバンクに順番に分割して配置しておく方法。データを読み出すときに複数のメモリバンクにほぼ同時にアクセスすることで、効率よくデータを取り出すことができる。


## 記憶領域の管理方式

### ファーストフィット方式

**ファーストフィット方式**とは記憶領域を管理するアルゴリズムのひとつで、記憶領域の空き領域をアドレスの下位から順番に検索して最初に見つかった空き領域を割り当てる。

### ベストフィット方式

**ベストフィット方式**とは記憶領域を管理するアルゴリズムのひとつで、空き領域のうち要求されたサイズを満たす最小のものを割り当てる。


## 参考文献

- [角谷一成.令和05年 基本情報技術者合格教本.株式会社技術評論社, 2022, 575](https://gihyo.jp/book/2022/978-4-297-13164-7)
- [瀬戸美月.徹底攻略 応用情報技術者教科書 令和4年度.株式会社インプレス, 2021, 814](https://book.impress.co.jp/books/1121101057)
