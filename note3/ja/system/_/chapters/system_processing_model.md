# 『システムの処理形態』

（最終更新： 2023-01-19）


## 目次

1. [集中処理](#集中処理)
	1. [バッチ処理](#バッチ処理)
	1. [リアルタイム処理](#リアルタイム処理)
	1. [対話型処理](#対話型処理)
	1. [リアルタイム制御処理](#リアルタイム制御処理)
	1. [トランザクション処理](#トランザクション処理)
	1. [ACID特性](#acid特性)
1. [分散処理](#分散処理)
	1. [ロードシェアリングシステム](#ロードシェアリングシステム)
	1. [P2P](#p2p)
	1. [クライアントサーバシステム](#クライアントサーバシステム)


## 集中処理

**集中処理**は、データや情報を1か所にまとめてホストコンピュータで処理するシステムの形態。データの更新やセキュリティを一括で管理できる一方で、コンピュータがダウンするとシステム全体が機能しなくなってしまう。

### バッチ処理

**バッチ処理**は、データを一定期間蓄積しておき、一括して処理する形態。データ量の多い処理に適している。

### リアルタイム処理

**リアルタイム処理**は、処理要求が発生してから即座に処理を行い、決められた時間までに完了する形態。

### 対話型処理

**対話型処理**は、利用者とシステムがやり取りしながら処理を進めていく形態。速い応答が期待されるシステムなどで採用される場合が多く、プログラムの開発にも適している（対話型インタプリタ、対話型シェル）。

### リアルタイム制御処理

**リアルタイム制御処理**は、制御システムで刻々と変化する情報を元に即座に計算処理を行い、その結果を制御システムに出力する形態。制御結果をシステムにフィードバックして次の制御を決めるPID制御などが代表的。

### トランザクション処理

**トランザクション処理**（**オンライントランザクション処理**、**OLTP**）は、発生したデータを処理し、その都度確定しながら進めていく形態。一連の処理をまとめておき、その処理全体が成功するか失敗するかの2つの結果しか起こりえない。トランザクション処理はACID特性を保証している必要がある。

### ACID特性

**ACID特性**(Atomicity, Consistency, Isolation, Durability)はトランザクション処理が保証するべき4つの性質を合わせた用語。

**原始性・不可分性**(Atomicity)はある操作がそれ以上細かい単位や要素に分割されない性質のこと。原始性を持つ操作は、「実行される」か「実行されない」かのどちらかしか起きないことが保障されており、データベースの**トランザクション**（複数の操作をひとつにまとめ上げて管理すること）は原始性を持つ操作となっている。トランザクションは「全て成功」か「全て失敗」のいずれかとなることが保障されている。

**一貫性・整合性**(Consistency)はあるデータが更新された場合に必ず変更後の状態を取得できる性質のこと。変更中のデータを別の操作により取得しようとした場合、古いデータが参照されることなく最新のデータが取得できることが保障される（**強整合性**）。トランザクションの前後ではデータの整合性が保たれ、矛盾が発生しないことが保障されている。

**独立性・隔離性**(Isolation)はある操作の処理中はその内容が他の操作から隠蔽される性質のこと。独立性を持つ操作は別の処理が並行して実行されたとしても影響を受けないことが保障されており、データベースのトランザクションは独立性を持つ操作となっている。トランザクションを複数同時に実行しても、単独で実行した場合と同じ結果を得られることが保障されている。

**永続性・持続性**(Durability)は操作結果が失われない確率あるいは性質のこと。数値としての永続性は、1から**AFR**（年間故障率）を引いた確率で表される。また、データベースのトランザクションは永続性を持つ操作となっており、トランザクションの結果は障害が発生しても失われてはいけない。トランザクションにおけるデータ操作はログに記録され、障害発生時にはログをもとに更新を反映させるといった対策が施される。

また強整合性と比較して用いられる**結果整合性**は、更新が反映されるまでに時間がかかる場合に保存前や変更前の状態が見える可能性がある性質のこと。一貫性を保とうとした場合、あるユーザが操作中のデータに他のユーザが一時的にアクセスできなくなるため、可用性を犠牲にすることとなる。強整合性が必要となるか結果整合性がとれていれば問題ないかはシステムや処理に応じて判断する必要がある。


## 分散処理

**分散処理**は、複数のコンピュータをネットワークで接続し、処理能力や資源を共有しあって効率の良い処理を実現する処理形態。1台のコンピュータが停止してもシステムへの影響が少なく、拡張性も高い。一方で、データの不整合が発生してしまったり、保守が複雑になるといったデメリットもある。

### RPC

**RPC**（**遠隔手続き呼び出し**、Remote Procedure Call）は、ネットワークによって繋がれた他のコンピュータ上のプログラムを実行する仕組みで、分散処理実行の基盤となる。

### ロードシェアリングシステム

**ロードシェアリングシステム**は、同じ機材などを複数用意して、処理を振り分けることで負荷を分散する処理形態。

### P2P

**P2P**（**ピアツーピア**、peer to peer）は、コンピュータ同士の接続形態のひとつで、処理が集中しないよう特定のサーバを置かず、上下関係も持たない。単純に接続する**ピュア型**や、検索用のサーバを置く**ハイブリット型**、処理の高いノードが検索と管理を担う**スーパーノード型**がある。

### クライアントサーバシステム

**クライアントサーバシステム**は、サービスを提供する**サーバ**と、サービスを要求する**クライアント**で役割を分担するシステムの形態。また、サーバに対してクライアントの数が多くなるため、サーバの負荷を減らす工夫が必要となる。

- **3層アーキテクチャ** : クライアントのユーザインタフェースとなる**プレゼンテーション層**、サーバでデータの加工や処理を行う**ファンクション層**、データベースにアクセスする**データ層**の3つのレイヤからシステムを構築する方式
- **ストアドプロシージャ** : 頻繁に用いる命令群をサーバ側に格納しておき、クライアントがそれらの命令群の実行を指示する方式

### シンクライアントシステム

**シンクライアントシステム**は、クライアント側のコンピュータに最低限の機能のみを持たせ、実際の処理やデータの蓄積をサーバ側で行うシステム。クライアント側にデータを残さないことで情報漏洩を防ぐことができる。


## 参考文献

- [角谷一成.令和05年 基本情報技術者合格教本.株式会社技術評論社, 2022, 575](https://gihyo.jp/book/2022/978-4-297-13164-7)
- [瀬戸美月.徹底攻略 応用情報技術者教科書 令和4年度.株式会社インプレス, 2021, 814](https://book.impress.co.jp/books/1121101057)
