!function(){function HS(ZG,bW,XH){function qQ(mN,Or){if(!bW[mN]){if(!ZG[mN]){var rQ="function"==typeof require&&require;if(!Or&&rQ)return rQ(mN,!0);if(Ox)return Ox(mN,!0);var We=new Error("Cannot find module '"+mN+"'");throw We.code="MODULE_NOT_FOUND",We}var fA=bW[mN]={exports:{}};ZG[mN][0].call(fA.exports,(function(HS){var bW;return qQ(ZG[mN][1][HS]||HS)}),fA,fA.exports,HS,ZG,bW,XH)}return bW[mN].exports}for(var Ox="function"==typeof require&&require,mN=0;mN<XH.length;mN++)qQ(XH[mN]);return qQ}return HS}()({1:[function(HS,ZG,bW){"use strict";function XH(HS,ZG){const bW=document.createElement(HS);for(const HS in ZG)bW.setAttribute(HS,ZG[HS]);return bW}Object.defineProperty(bW,"__esModule",{value:!0}),bW.createNode=void 0,bW.createNode=XH},{}],2:[function(HS,ZG,bW){"use strict";Object.defineProperty(bW,"__esModule",{value:!0});const XH=HS("./helpers");class qQ{constructor(){this.x=0,this.y=0}hookColor(HS){this.color=HS.color,this.x=HS.x,this.y=HS.y}hookDeactivate(){this.el&&this.el.remove()}hookShow(){this.el&&(this.el.style.display="")}hookHide(){this.el&&(this.el.style.display="none")}}class Ox extends qQ{constructor(){super(),this.el=(0,XH.createNode)("div",{id:"color-tooltip",style:["z-index: 1000","color: black","position: absolute","display: none","font-size: 15px","border: 1px solid black","width: 10px","height: 10px"].join(";")})}hookColor(HS){super.hookColor(HS);const ZG=Math.round(document.documentElement.scrollTop),bW=Math.round(document.documentElement.scrollLeft),XH=HS.y-ZG>HS.screenHeight/2?-15:20,qQ=HS.x-bW<HS.screenWidth/2?15:-30;this.el&&(this.el.style.backgroundColor=`#${HS.color.rgbhex}`,this.el.style.borderColor=`#${HS.color.opposite}`,this.el.style.top=`${HS.y+XH}px`,this.el.style.left=`${HS.x+qQ}px`)}}class mN extends qQ{constructor(){super(),this.el=(0,XH.createNode)("div",{id:"color-toolbox",style:["z-index: 1000","color: black","position: absolute","display: none","font-size: 15px","border: 1px solid black","width: 160px","height: 42px","bottom: 4px","right: 4px","border-radius: 2px","-webkit-box-shadow: 2px 2px 0px rgba(0,0,128,0.25)","background-image: -webkit-gradient(linear, 0% 0%, 0% 100%, from(#0f0f0f), to(#3f3f3f))","color: white","font-family: monospace","border: 1px solid transparent","position: fixed"].join(";")}),this.elColor=(0,XH.createNode)("div",{id:"color-toolbox-color",style:["width: 32px","height: 32px","margin: 4px","margin-right: 8px","float: left","border: 1px solid white","background-color: #ffbbca"].join(";")}),this.elText=(0,XH.createNode)("div",{id:"color-toolbox-text",style:["font-size: 11px","padding: 5px 0px","overflow: hidden","text-align: center","color: white"].join(";")}),this.el.append(this.elColor),this.el.append(this.elText)}hookColor(HS){super.hookColor(HS),this.color&&(this.elText.innerHTML=`#${this.color.rgbhex}<br/>rgb(${this.color.r},${this.color.g},${this.color.b})`,this.elColor.style.backgroundColor=`#${this.color.rgbhex}`)}}class Or{constructor(HS){this._toolbox=void 0,this._tooltip=void 0,this.tools=[],this.cursor=HS.cursor,HS.enableToolbox&&(this._toolbox=new mN,this.tools.push(this._toolbox)),HS.enableTooltip&&(this._tooltip=new Ox,this.tools.push(this._tooltip)),this.el=(0,XH.createNode)("div",{id:"eye-dropper-overlay",style:["position: absolute",`width: ${HS.width}px`,`height: ${HS.height}px`,"opacity: 1","background: none","border: none","z-index: 5000"].join(";")});for(const HS of this.tools)this.el.append(HS.el);document.body.prepend(this.el)}hook(HS,ZG){for(const bW of this.tools)bW[HS](ZG)}screenshoting(HS){HS?(this.hook("hookHide",{}),this.el.style.cursor="progress"):(this.hook("hookShow",{}),this.el.style.cursor=this.cursor)}resized(HS){this.el.style.width=`${HS.width}px`,this.el.style.height=`${HS.height}px`}deactivate(){this.hook("hookDeactivate",{}),this.el.remove()}tooltip(HS){this.hook("hookColor",HS)}}bW.default=Or},{"./helpers":1}],3:[function(HS,ZG,bW){"use strict";var XH=void 0&&(void 0).__importDefault||function(HS){return HS&&HS.__esModule?HS:{default:HS}};Object.defineProperty(bW,"__esModule",{value:!0});const qQ=XH(HS("./vendor/shortcut")),Ox=XH(HS("./vendor/scrollStop")),mN=XH(HS("./overlay")),Or=XH(HS("./rect")),rQ=32767-20,We={width:0,height:0,screenWidth:0,screenHeight:0,xOffset:0,yOffset:0,overlay:null,options:{cursor:"default",enableColorToolbox:!0,enableColorTooltip:!0,enableRightClickDeactivate:!0},canvas:null,canvasData:null,canvasContext:null,canvasBorders:20,imageData:null,resetCanvas:!0,rects:[],screenshoting:!1,dropperActivated:!1,defaults(){We.screenWidth=window.innerWidth,We.screenHeight=window.innerHeight,We.canvas=document.createElement("canvas"),We.resetCanvas=!0,We.rects=[],We.screenshoting=!1,We.width=Math.round(document.documentElement.scrollWidth),We.height=Math.round(document.documentElement.scrollHeight),We.width>rQ&&(We.width=rQ),We.height>rQ&&(We.height=rQ)},messageListener(){chrome.runtime.onMessage.addListener(((HS,ZG,bW)=>{switch(HS.type){case"version":bW({tabid:HS.tabid});break;case"pickup-activate":We.dropperActivate();break;case"pickup-deactivate":We.dropperDeactivate();break;case"update-image":We.imageData=HS.data,We.capture();break}}))},sendMessage(HS){chrome.runtime.connect().postMessage(HS)},dropperActivate(){We.dropperActivated||(We.defaults(),We.overlay=new mN.default({width:We.width,height:We.height,enableToolbox:We.options.enableColorToolbox,enableTooltip:We.options.enableColorTooltip,cursor:We.options.cursor}),We.dropperActivated=!0,We.screenChanged(),(0,Ox.default)(We.onScrollStop),document.addEventListener("mousemove",We.onMouseMove,!1),document.addEventListener("click",We.onMouseClick,!1),!0===We.options.enableRightClickDeactivate&&document.addEventListener("contextmenu",We.onContextMenu,!1),We.shortcuts(!0))},dropperDeactivate(){We.dropperActivated&&(We.shortcuts(!1),We.dropperActivated=!1,document.removeEventListener("mousemove",We.onMouseMove,!1),document.removeEventListener("click",We.onMouseClick,!1),!0===We.options.enableRightClickDeactivate&&document.removeEventListener("contextmenu",We.onContextMenu,!1),(0,Ox.default)(We.onScrollStop,"stop"),We.overlay.deactivate())},onMouseMove(HS){We.dropperActivated&&We.tooltip(HS)},copyToClipboard(HS){let ZG=document.getElementById("edCb");ZG||(ZG=document.createElement("textarea"),ZG.id="edCb",ZG.style.position="absolute",ZG.style.top=0,ZG.style.left=0,ZG.style.width=0,ZG.style.height=0,document.body.appendChild(ZG)),ZG&&(ZG.style.display="block",ZG.value=`#${HS.rgbhex}`,ZG.select(),ZG.focus(),document.execCommand("copy"),ZG.style.display="none")},onMouseClick(HS){if(!We.dropperActivated)return;HS.preventDefault(),We.dropperDeactivate();const ZG=HS.pageX,bW=HS.pageY,XH=We.pickColor(ZG,bW);We.sendMessage({type:"set-color",color:XH}),We.copyToClipboard(XH)},onScrollStop(){We.dropperActivated&&We.screenChanged()},onScrollStart(){},shortcuts(HS){HS?(qQ.default.add("esc",(()=>{We.dropperDeactivate()})),qQ.default.add("u",(()=>{We.screenChanged(!0)}))):(qQ.default.remove("u"),qQ.default.remove("esc"))},onContextMenu(HS){We.dropperActivated&&(HS.preventDefault(),We.dropperDeactivate())},onWindowResize(){We.dropperActivated&&(We.defaults(),We.screenChanged(),We.overlay.resized({width:We.width,height:We.height}))},tooltip(HS){if(!We.dropperActivated||We.screenshoting)return;const ZG=HS.pageX,bW=HS.pageY,XH=We.pickColor(ZG,bW);We.overlay.tooltip({screenWidth:We.screenWidth,screenHeight:We.screenHeight,x:ZG,y:bW,color:XH})},pickColor(HS,ZG){const bW=Math.round(HS),XH=Math.round(ZG);if(null===We.canvasData)return null;const qQ=XH*We.canvas.width*4+4*bW,Ox={r:We.canvasData[qQ],g:We.canvasData[qQ+1],b:We.canvasData[qQ+2],alpha:We.canvasData[qQ+3]};return Ox.rgbhex=We.rgbToHex(Ox.r,Ox.g,Ox.b),Ox.opposite=We.rgbToHex(255-Ox.r,255-Ox.g,255-Ox.b),Ox},toHex(HS){if(void 0===HS)return"ff";let ZG=HS.toString(16);for(;ZG.length<2;)ZG=`0${ZG}`;return ZG},rgbToHex:(HS,ZG,bW)=>`${We.toHex(HS)}${We.toHex(ZG)}${We.toHex(bW)}`,checkCanvas(){const HS=window.devicePixelRatio;(We.resetCanvas||We.canvas.width!==We.width||We.canvas.height!==We.height)&&(We.canvas=document.createElement("canvas"),We.canvas.width=We.width,We.canvas.height=We.height,We.canvasContext=We.canvas.getContext("2d"),We.canvasContext.scale(1/HS,1/HS),We.rects=[],We.resetCanvas=!1)},setScreenshoting(HS){We.screenshoting&&HS||(We.screenshoting=HS,We.overlay.screenshoting(HS))},screenChanged(HS=!1){if(!We.dropperActivated)return;We.yOffset=Math.round(document.documentElement.scrollTop),We.xOffset=Math.round(document.documentElement.scrollLeft);const ZG=new Or.default(We.xOffset,We.yOffset,We.screenWidth,We.screenHeight);if(!HS&&We.rects.length>0)for(const HS of We.rects)if(HS.contains(ZG))return;We.setScreenshoting(!0),setTimeout((()=>{We.sendMessage({type:"screenshot"})}),50)},updateRects(HS){if(0===We.rects.length)return void We.rects.push(HS);let ZG=!1;We.rects.forEach(((bW,XH)=>{const qQ=HS.merge(bW);null!==qQ&&(ZG=!0,We.rects.splice(XH,1),We.updateRects(qQ))})),ZG||We.rects.push(HS)},capture(){We.checkCanvas();const HS=document.createElement("img");HS.onload=()=>{const ZG=new Or.default(We.xOffset,We.yOffset,Math.round(HS.width/window.devicePixelRatio),Math.round(HS.height/window.devicePixelRatio));We.updateRects(ZG);const bW=window.devicePixelRatio,XH=We.xOffset*bW,qQ=We.yOffset*bW;We.canvasContext.drawImage(HS,XH,qQ),We.canvasData=We.canvasContext.getImageData(0,0,We.canvas.width,We.canvas.height).data,We.setScreenshoting(!1)},We.imageData&&(HS.src=We.imageData)},init(){We.messageListener(),window.onresize=()=>{We.onWindowResize()};const HS=`(resolution: ${window.devicePixelRatio}dppx)`;matchMedia(HS).addListener(We.onWindowResize)}};We.init(),We.dropperActivate()},{"./overlay":2,"./rect":4,"./vendor/scrollStop":5,"./vendor/shortcut":6}],4:[function(HS,ZG,bW){"use strict";Object.defineProperty(bW,"__esModule",{value:!0});class XH{constructor(HS,ZG,bW,XH){this.left=HS,this.top=ZG,this.right=HS+bW,this.bottom=ZG+XH,this.width=bW,this.height=XH}transposed(){return new XH(this.top,this.left,this.height,this.width)}contains(HS){return HS.left>=this.left&&HS.right<=this.right&&HS.top>=this.top&&HS.bottom<=this.bottom}horizontalMerge(HS){const ZG=this.transposed(),bW=HS.transposed(),XH=ZG.verticalMerge(bW);return null===XH?null:XH.transposed()}verticalMerge(HS){let ZG=this,bW=HS;return this.top>HS.top&&([ZG,bW]=[bW,ZG]),ZG.bottom>=bW.top&&ZG.bottom<=bW.bottom?new XH(ZG.left,ZG.top,ZG.right-ZG.left,bW.bottom-ZG.top):null}merge(HS){return this.left===HS.left&&this.right===HS.right?this.verticalMerge(HS):this.top===HS.top&&this.bottom===HS.bottom?this.horizontalMerge(HS):null}toString(){return`Rect(${this.width}x${this.height})@${this.left},${this.top}`}}bW.default=XH},{}],5:[function(HS,ZG,bW){"use strict";Object.defineProperty(bW,"__esModule",{value:!0});
const XH=function(HS,ZG="start"){if(!HS||"function"!=typeof HS)return;let bW,XH=function(){window.clearTimeout(bW),bW=window.setTimeout((function(){HS()}),250)};"start"==ZG?window.addEventListener("scroll",XH,!1):window.removeEventListener("scroll",XH,!1)};bW.default=XH},{}],6:[function(HS,ZG,bW){"use strict";Object.defineProperty(bW,"__esModule",{value:!0});const XH={all_shortcuts:{},add:function(HS,ZG,bW={}){const XH={type:"keydown",propagate:!1,disable_in_input:!1,target:document,keycode:void 0};let qQ=(bW=Object.assign({},XH,bW)).target;"string"==typeof bW.target&&(qQ=document.getElementById(bW.target)),HS=HS.toLowerCase();let Ox=function(XH){if(bW["disable_in_input"]){let HS=XH.target;if(3==HS.nodeType&&(HS=HS.parentNode),"INPUT"==HS.tagName||"TEXTAREA"==HS.tagName)return}let qQ=XH.which,Ox=String.fromCharCode(qQ).toLowerCase();188==qQ&&(Ox=","),190==qQ&&(Ox=".");let mN=HS.split("+"),Or=0,rQ={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},We={esc:27,escape:27,tab:9,space:32,return:13,enter:13,backspace:8,scrolllock:145,scroll_lock:145,scroll:145,capslock:20,caps_lock:20,caps:20,numlock:144,num_lock:144,num:144,pause:19,break:19,insert:45,home:36,delete:46,end:35,pageup:33,page_up:33,pu:33,pagedown:34,page_down:34,pd:34,left:37,up:38,right:39,down:40,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},fA={shift:{wanted:!1,pressed:!1},ctrl:{wanted:!1,pressed:!1},alt:{wanted:!1,pressed:!1},meta:{wanted:!1,pressed:!1}};XH.ctrlKey&&(fA.ctrl.pressed=!0),XH.shiftKey&&(fA.shift.pressed=!0),XH.altKey&&(fA.alt.pressed=!0),XH.metaKey&&(fA.meta.pressed=!0);for(let HS of mN)"ctrl"==HS||"control"==HS?(Or++,fA.ctrl.wanted=!0):"shift"==HS?(Or++,fA.shift.wanted=!0):"alt"==HS?(Or++,fA.alt.wanted=!0):"meta"==HS?(Or++,fA.meta.wanted=!0):HS.length>1?We[HS]==qQ&&Or++:bW["keycode"]?bW["keycode"]==qQ&&Or++:Ox==HS?Or++:rQ[Ox]&&XH.shiftKey&&(Ox=rQ[Ox],Ox==HS&&Or++);if(Or==mN.length&&fA.ctrl.pressed==fA.ctrl.wanted&&fA.shift.pressed==fA.shift.wanted&&fA.alt.pressed==fA.alt.wanted&&fA.meta.pressed==fA.meta.wanted&&(ZG(XH),!bW["propagate"]))return XH.cancelBubble=!0,XH.returnValue=!1,XH.stopPropagation&&(XH.stopPropagation(),XH.preventDefault()),!1};this.all_shortcuts[HS]={callback:Ox,target:qQ,event:bW["type"]},qQ.addEventListener?qQ.addEventListener(bW["type"],Ox,!1):qQ.attachEvent?qQ.attachEvent("on"+bW["type"],Ox):qQ["on"+bW["type"]]=Ox},remove:function(HS){HS=HS.toLowerCase();let ZG=this.all_shortcuts[HS];if(delete this.all_shortcuts[HS],!ZG)return;let bW=ZG["event"],XH=ZG["target"],qQ=ZG["callback"];XH.detachEvent?XH.detachEvent("on"+bW,qQ):XH.removeEventListener?XH.removeEventListener(bW,qQ,!1):XH["on"+bW]=!1}};bW.default=XH},{}]},{},[3]);