"use strict";!function(){var i,m,c,d,n,g,p,u,s,r,l,h,f,b,v=window,_=v.location,o=document,e="undefined"!=typeof chrome&&chrome||{};function w(){var e=_.pathname.indexOf("/amp/");return-1!==e&&e<10}function L(){var e=new URLSearchParams(_.search),t=e.get("q"),a=e.get("tbm");"finance"===u&&(e=e.get("kptab"),v.parent.postMessage({bm_method:"gwsReflectFinanceTab",bm_value:e},d)),!0!==l||w()||(l=!1,v.parent.postMessage({bm_method:"gwsCloseAmp"},d)),s===t&&r===a||(s=t,r=a,v.parent.postMessage({bm_method:"gwsUpdateQuery",bm_value:{q:t,tbm:a}},d))}function y(e){v.parent.postMessage({bm_method:"gwsOpenUrl",bm_value:e},d)}function t(e){var t,a,s,n,r,o=function(e){if("closest"in Element.prototype)return e.closest("a");for(var t=e;t;){if("A"===t.tagName)return t;t=t.parentNode}return null}(e.target);o&&(t=o.origin,"undefined"!=typeof URLSearchParams&&/^https:\/\/[a-z]+\.app\.goo\.gl$/.test(t)&&(a=new URLSearchParams(o.search),o.href=a.get("link")||a.get("afl"),t=o.origin),a=e[g]||1===e.button,o.dataset.amp||o.dataset.ampTitle?(n=(s=o).dataset.ampCur||s.href,a?y(n):(v.parent.postMessage({bm_method:"gwsOpenAmp",bm_value:{label:s.dataset.ampTitle,url:n,vid:s.dataset.ampVgi}},d),setTimeout(function(){w()&&(l=!0)},200))):t&&(t===m&&i===c&&(t=o.origin=c),n=o.pathname,o.origin===i&&-1!==h.indexOf(n)&&(n=o.pathname="/m"),"covid19"===u&&t===i&&n.startsWith("/covid19-map")&&v.parent.postMessage({bm_method:"gwsOpenCovidMap"},d),t===i&&n.startsWith("/shopping/product/")||(o.classList.contains("sh-cb__back")&&(e.preventDefault(),_.reload()),a||t!==i||-1===f.indexOf(n)?(y(o.href),e.stopPropagation(),e.preventDefault()):(r=new URLSearchParams(o.search),b.forEach(function(e){var t=p.get(e);t&&r.set(e,t)}),"finance"===u?r.delete("tbm"):"search"===u&&p.get("adtest-useragent")&&"isch"===r.get("tbm")&&(r.set("adtest-useragent","Opera/12.02 (Android 4.1; Linux; Opera Mobi/ADR-1111101157; U; en-US) Presto/2.9.201 Version/12.02"),r.set("bm_cid","gws-images")),o.search=r,setTimeout(L)))))}function a(){var e;(e=o.querySelector("base"))&&i===c&&(e.href=c+"/"),o.body.addEventListener("contextmenu",function(e){e.stopPropagation()})}v.top!==v.self&&(i=_.origin,c="https://maps.google.com",i===(m="https://www.google.com")||i===c)&&(d=e.runtime.getURL("PATH/").replace("/PATH/",""),"object"!=typeof(e=_.ancestorOrigins)||1===e.length&&e[0]===d)&&(n=d.startsWith("moz-extension://"),g=-1!==navigator.platform.toLowerCase().indexOf("mac")?"metaKey":"ctrlKey",p=new URLSearchParams(_.search),u=p.get("bm_pid"),l=!1,h=["/search","/mobile","/images"],f=["/","/m","/imgres","/finance"],b=["bm_cid","bm_pid","bm_iid","bm_wiz","ie","oe","authuser","fg","gws_rd","nord","adtest","adtest-useragent","igu","hl"],o.addEventListener("click",t,!0),o.addEventListener("auxclick",function(e){1===e.button&&t(e)},!0),v.addEventListener("message",function(e){var t,a,s;e.origin===d&&(e.isTrusted||n)&&("gwsToggleFilterMenu"===(a=(t=e.data||{}).bm_method)?(s=o.getElementById("hdtb-tls"))&&s.click():"gwsGoBack"===a?(v.history.back(),setTimeout(L),setTimeout(L,500)):"gwsGetUrl"===a&&e.source.postMessage({bm_request:t.bm_request,bm_value:_.href},d))}),L(),"complete"===o.readyState||"loaded"===o.readyState||"interactive"===o.readyState?a():v.addEventListener("DOMContentLoaded",a))}();