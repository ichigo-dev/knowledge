"use strict";!function(){function E(e){return e&&"all"!==e&&"entertainment"!==e?e:null}function O(e){return"kids"===e?"/store/apps/category/FAMILY":(e=E(e))?"/store/"+e:"/store"}cjce.registerTemplate("bm-p-play",function(e,i){var o,l,r,m,p,n,d,a,s="https://play.google.com",c=!cjBasics.webRequest.wrifSupported,t=cjBasics.uniqueId.generate(),h="string"==typeof cjBasics.lang.current&&"en"===cjBasics.lang.current.split("-")[0].split("_")[0]&&!1,b=h?"all":"apps",u="home",_="",j=cjBasics.lang.i18n("cj_i18n_00325","Loadingâ€¦"),g=cjBasics.lang.i18n("cj_i18n_00107","All"),y=cjBasics.lang.i18n("cj_i18n_01697","Entertainment"),f=i.darkMode?"#fff":"#212121",v=f,B="",w=i.account.onlyAccount?null:i.account.authuser,T=(w&&"0"!==i.account.authuser&&(B+="?authuser="+w),{bm_cid:"play",bm_cst:"2",bm_wiz:"1",bm_iid:t,hl:cjBasics.lang.current}),k={home:{iconName:"__mdi:home",label:cjBasics.lang.i18n("cj_i18n_00291","Home"),pathname:"/store",newTabUrl:!0},account:{iconName:"__mdi:account_circle",label:cjBasics.lang.i18n("cj_i18n_00481","Account"),pathname:"/store/account",newTabUrl:!0},paymentmethods:{iconName:"__mdi:payment",label:cjBasics.lang.i18n("cj_i18n_01517","Payment methods"),pathname:"/store/paymentmethods",newTabUrl:!0},subscriptions:{iconName:"__mdi:autorenew",label:cjBasics.lang.i18n("cj_i18n_01089","Subscriptions"),pathname:"/store/account/subscriptions",newTabUrl:!0},wishlist:{iconName:"__mdi:cjg_wishlist",label:cjBasics.lang.i18n("cj_i18n_00550","Wishlist"),pathname:"/wishlist",newTabUrl:!0},playActivity:{iconName:"__mdi:rate_review",label:cjBasics.lang.i18n("cj_i18n_01696","My Play activity"),pathname:"/store/myplayactivity",newTabUrl:!0},settings:{iconName:"__mdi:settings",label:cjBasics.lang.i18n("cj_i18n_00298","Settings"),pathname:"/settings",newTabUrl:!0},appsHeader:{header:!0,label:cjBasics.lang.i18n("cj_i18n_00216","Apps")},movies:{label:cjBasics.lang.i18n("cj_i18n_01725","Play Movies & TV"),iconName:"__mdi:play_movies",color:"#ea4335",pathname:"/movies",newTabUrl:!0,colorIcon:!0},books:{label:cjBasics.lang.i18n("cj_i18n_00285","Play Books"),iconName:"__mdi:play_books",color:"#03a9f4",pathname:"/books",newTabUrl:!0,colorIcon:!0},linksHeader:{header:!0,label:cjBasics.lang.i18n("cj_i18n_00047","More")},redeem:{iconName:"__mdi:redeem",label:cjBasics.lang.i18n("cj_i18n_01677","Redeem code"),pathname:"/store",urlParams:{code:""},newTabUrl:!0,external:!c},giftcard:{iconName:"__mdi:card_giftcard",label:cjBasics.lang.i18n("cj_i18n_01694","Buy gift card"),pathname:"/about/giftcards/",newTabUrl:!0,external:!c},help:{iconName:"__mdi:help_outline",label:cjBasics.lang.i18n("cj_i18n_00438","Help"),newTabUrl:"https://support.google.com/googleplay"+B,external:!c},parentGuide:{iconName:"__mdi:supervisor_account",label:cjBasics.lang.i18n("cj_i18n_01695","Parent guide"),newTabUrl:"https://support.google.com/googleplay/answer/6209547"+B,external:!c}},S={games:{searchType:"apps",label:cjBasics.lang.i18n("cj_i18n_00217","Games"),pathname:"/store/games",iconName:"__mdi:play_games",newTabUrl:!0,color:"#34a853"},apps:{searchType:"apps",label:cjBasics.lang.i18n("cj_i18n_00216","Apps"),pathname:"/store/apps",iconName:"__mdi:cj_play_android",newTabUrl:!0,color:"#34a853"},movies:{searchType:"movies",label:cjBasics.lang.i18n("cj_i18n_00480","Movies"),pathname:"/store/movies",iconName:"__mdi:play_movies",newTabUrl:!0,color:"#ea4335"},books:{searchType:"books",label:cjBasics.lang.i18n("cj_i18n_00218","Books"),pathname:"/store/books",iconName:"__mdi:play_books",newTabUrl:!0,color:"#03a9f4"},kids:{label:cjBasics.lang.i18n("cj_i18n_07188","Kids"),pathname:"/store/apps/category/FAMILY",iconName:"__mdi:people",newTabUrl:!0,color:f}};function N(e,a){var c="";return e&&(c+=e),c=cjBasics.urlParams.attach(c,T),c=a?cjBasics.urlParams.attach(c,a):c}function C(e,a,c){e=N(e,a);c?n.src=s+e:n.cjceSendFrameCommand({method:"bmCstUpdateState",value:e},s)}function U(e,a){u="home",C(O(b=e),null,a)}function P(e,a){e=cjBasics.urlParams.attach(s+"/store/search",{q:e,c:E(a),authuser:w});i.openTab(e)}function I(e){C("/store/search",{q:_=e,c:E(b)})}function A(){n.cjceGetCleanUrl(s).then(function(e){i.openTab(e||s+"/store")})}function M(e){var a,e=k[e]||S[e],c=e.newTabUrl;!0===e.newTabUrl&&((a=e.urlParams||{}).authuser=w,c=cjBasics.urlParams.attach(s+e.pathname,a)),i.openTab(c)}function x(e,a){var c,n=a.searchType&&l.value;n?P(n,a.searchType):(n=a.newTabUrl,!0===a.newTabUrl&&((c=a.urlParams||{}).authuser=w,n=cjBasics.urlParams.attach(s+a.pathname,c)),i.openTab(n))}function L(){n.cjceSendFrameCommand({method:"bmCstNavigateBack"},s)}h||delete S.all,c?(o=cjce.createElement("bm-ogb",{serviceIcon:"play",serviceLabel:cjBasics.lang.i18n("cj_i18n_00430","Play Store"),pageLabel:cjBasics.lang.i18n("cj_i18n_01167","Links"),searchbox:{onSubmit:P,submitInNewTab:!0},bmApis:i,onNewTab:function(){M("home")}}),e.appendChild(o),l=o.cjceSearchboxEl,i.setOnPageDisplayHandler(function(){l.select()}),B=cjce.createElement("cjmd-container",{scrollable:!0,shadow:"thinOnScroll"}),e.appendChild(B),c=Object.keys(S).map(function(e){return S[e]}),a=["appsHeader","movies","books","linksHeader","account","subscriptions","wishlist","playActivity","redeem","giftcard","parentGuide","settings","help"].map(function(e){var a=k[e];return a.id=e,a}),c=c.concat(a),d=cjce.createElement("bm-navlist",{items:c,onClick:function(e,a){"movies"===e||"books"===e?i.pageManager.navigate(e):x(0,a)},onNewTab:x}),B.appendChild(d)):(o=cjce.createElement("bm-ogb",{loading:f,drawer:{color:f},searchbox:{color:f,onClear:function(){o.cjceSetNavigatorCollapseState("search"===u),setTimeout(function(){o.cjceSetNavigatorCollapseState("search"===u)})},onSubmit:I,onMetaSubmit:function(e){P(e,b)}},serviceIcon:"play",serviceLabel:cjBasics.lang.i18n("cj_i18n_00430","Play Store"),pageLabel:cjBasics.lang.i18n("cj_i18n_00291","Home"),bmApis:i,onNewTab:A,onBack:function(){var e;"search"===u?(_="",l.value="",e=b,b=-1!==["games","apps","movies","books","kids"].indexOf(e)?e:h?"all":"apps",C(O(m.cjceSelectedId=b))):L()}}),e.appendChild(o),a=o.cjceDrawerEl,l=o.cjceSearchboxEl,i.setOnPageDisplayHandler(function(e){e.typeId&&setTimeout(function(){U(e.typeId,!0)}),l.select()}),d=cjce.createElement("bm-navlist",{isSelector:!0,items:k,selectedId:u,onChange:function(e){"movies"===e||"books"===e?(i.pageManager.navigate(e),d.cjceSelectedId=u):C((k[e]||{}).pathname)},onNewTab:M}),a.appendChild(d),(r=cjce.createElement("ccbm-iconbutton",{iconName:"__mdi:search",onClick:function(){C("/store/search",{q:_,c:E(b)}),o.cjceSetBackState(!0),o.cjceSetNavigatorCollapseState(!0),l.hidden=!1,r.hidden=!0,l.select()}})).hidden=!0,o.cjceAppendChild(r),a=O(b),a=s+N(a),p=cjce.createElement("cjmd-appbar",{secondary:!0}),v=S[b]&&S[b].color||f,m=cjce.createElement("ccbm-tabs",{color:v,items:S,onChange:function(e){v=S[e].color,m.style.setProperty("--ccc-accent-color",v),"search"===u?C("/store/search",{q:_,c:E(b=e)}):U(e)},onActiveClick:function(e){"search"!==u&&U(e)},onMetaClick:M,selectedId:b}),p.appendChild(m),o.appendChild(p),cjBasics.webRequest.handleIframeHeaders([s+"/*bm_iid="+t+"*"],{handleFirefoxInject:!0,useMobileUserAgent:!0}),n=cjce.createElement("bm-iframe",{src:a,solid:"#fff",shadow:!0,onMessage:function(e){var a,c,n,s,t=e.bm_method,e=e.bm_value;"playPageTitle"===t?(j=e,u||o.cjceSetPageLabel(j)):"playViewData"===t?(s=(a=e).pathname).startsWith("/movies")?(L(),i.pageManager.navigate("movies")):s.startsWith("/books")?(L(),i.pageManager.navigate("books")):(n=c=null,s.startsWith("/store/apps/category/FAMILY")?n="kids":s.startsWith("/store/apps")||s.startsWith("/apps")?n="apps":s.startsWith("/store/games")?n="games":s.startsWith("/store/movies")?n="movies":s.startsWith("/store/books")?n="books":"/store"===s?n="all":"/store/account"===s?c="account":"/store/account/subscriptions"===s?c="subscriptions":"/settings"===s?c="settings":"/wishlist"===s?c="wishlist":"/store/people/details"===s&&-1!==a.search.indexOf(i.account.obfuscatedId)?c="playActivity":s.startsWith("/store/search")&&(c="search",n="all",-1!==a.search.indexOf("c=books")?n="books":-1!==a.search.indexOf("c=apps")?n="apps":-1!==a.search.indexOf("c=movies")&&(n="movies")),(a=m.querySelector('[data-id="all"]'))&&(a.textContent="search"===c?g:y),a="home"!==(c=-1!==["/store","/store/games","/store/apps","/store/movies","/store/books","/store/apps/category/FAMILY"].indexOf(s)?"home":c)&&"search"!==c,p.hidden=!n||"search"===c,m.cjceSelectedId=n,v=S[n]&&S[n].color||f,m.style.setProperty("--ccc-accent-color",v),d.cjceSelectedId=c,s=k[c],"search"!==c&&(s=s&&s.label||j,o.cjceSetPageLabel(s)),o.cjceSetBackState("home"!==c),o.cjceSetNavigatorCollapseState("search"===c),l.hidden=a,r.hidden=!a,u=c,b=n):"bmCstOpenUrl"===t&&(s=cjBasics.cleanBmUrl(e),i.openTab(s))},onLoad:function(){o.cjceSetLoading(!1)}}),e.appendChild(n))})}();