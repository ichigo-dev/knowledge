"use strict";cjce.registerTemplate("bm-p-scholar",function(e,a){var n,i,l,r="",s=0,t="https://scholar.google.com",o=t+"/scholar",u=location.origin,d="0"===a.account.authuser?null:a.account.authuser,c=d?"?authuser="+d:"",h=d?"&authuser="+d:"",h={home:{iconName:"__mdi:home",label:cjBasics.lang.i18n("cj_i18n_00291","Home"),shortcutId:"125"},citations:{iconName:"__mdi:school",label:cjBasics.lang.i18n("cj_i18n_01481","My profile"),newTabUrl:t+"/citations"+c,external:!0},scilib:{iconName:"__mdi:star_outline",label:cjBasics.lang.i18n("cj_i18n_00807","My library"),newTabUrl:t+"/scholar?scilib=1"+h,external:!0},metrics:{iconName:"__mdi:assessment",label:cjBasics.lang.i18n("cj_i18n_01483","Metrics"),newTabUrl:t+"/citations?view_op=top_venues"+h,external:!0},alerts:{iconName:"__mdi:email",label:cjBasics.lang.i18n("cj_i18n_01484","Alerts"),newTabUrl:t+"/scholar_alerts?view_op=list_alerts"+h,external:!0},settings:{iconName:"__mdi:settings",label:cjBasics.lang.i18n("cj_i18n_00298","Settings"),newTabUrl:t+"/scholar_settings"+c,external:!0,divider:!0},patents:{iconName:"__mdi:cj_patents",label:cjBasics.lang.i18n("cj_i18n_01485","Patents search"),shortcutId:"115"}};function m(e){l.textContent="";var t,c=!(r=e);l.hidden=c,i.hidden=!c,e&&(n.cjceSetLoading(!0),t=++s,c={q:e},c=cjBasics.urlParams.attach(o,{authuser:d,q:c.q,hl:cjBasics.lang.current}),cjBasics.ajax(c).then(function(e){e=e.split('id="gs_res_ccl_mid"')[1].replace('">',"blackMenuSplitHere").split("blackMenuSplitHere")[1].split('</div><div id="gs_res_ccl_bot"')[0];return(new DOMParser).parseFromString(e,"text/html")}).then(function(e){for(var t=[],c=e.body.children,a=0;a<c.length;a++){var n=c[a];"DIV"===n.tagName&&n.querySelector("h3")&&t.push({url:n.querySelector("h3 a")&&n.querySelector("h3 a").href.replace(u,"https://scholar.google.com"),title:n.querySelector("h3").textContent,subTitle:n.querySelector(".gs_a")&&n.querySelector(".gs_a").textContent,description:n.querySelector(".gs_rs")&&n.querySelector(".gs_rs").textContent})}return t}).then(function(e){t===s&&(e.forEach(function(e){t=e,e=cjce.createElement("cjmd-card",{withPadding:!0,onClick:t.url&&function(){a.openTab(t.url)}}),c=cjce.createElement("cjmd-title",{label:t.title}),e.appendChild(c),t.subTitle&&(c=cjce.createElement("cjmd-secondarytext",{label:t.subTitle}),e.appendChild(c)),t.description&&((c=document.createElement("article")).textContent=t.description,e.appendChild(c));var t,c=e;l.appendChild(c)}),n.cjceSetLoading(!1))}))}n=cjce.createElement("bm-ogb",{loading:!1,drawer:!0,serviceLabel:cjBasics.lang.i18n("cj_i18n_00433","Scholar"),pageLabel:cjBasics.lang.i18n("cj_i18n_00291","Home"),serviceIcon:"scholar",searchbox:{onSubmit:m,onMetaSubmit:function(e){e=cjBasics.urlParams.attach(o,{q:e,authuser:a.account.authuser});a.openTab(e)}},bmApis:a,onNewTab:function(){var e={},e=("0"!==a.account.authuser&&(e.authuser=a.account.authuser),""!==r&&(e.q=r),cjBasics.urlParams.attach(o,e));a.openTab(e)}}),e.appendChild(n),a.setOnPageDisplayHandler(n.cjceSearchboxEl.select),t=n.cjceDrawerEl,c=cjce.createElement("bm-navlist",{selectedId:"home",items:h,onClick:function(e){"patents"===e&&a.pageManager.navigate("patents")},onNewTab:function(e,t){t=t.newTabUrl||cjgShortcuts.getUrl(t.shortcutId,a.account);a.openTab(t)}}),t.appendChild(c),t=cjce.createElement("cjmd-container",{shadow:"thin"}),c=cjce.createElement("cjmd-emptystate",{iconName:"__mdi:search",subLabel:cjBasics.lang.i18n("cj_i18n_00046","Please enter a search query")}),t.appendChild(c),c={citations:h.citations,scilib:h.scilib,metrics:h.metrics},c=cjce.createElement("ccbm-biglinks",{bottom:!0,items:c,onClick:function(e,t){t=t.newTabUrl;a.openTab(t)}}),t.appendChild(c),i=t,e.appendChild(i),(l=cjce.createElement("cjmd-container",{shadow:"thinOnScroll",scrollable:!0})).hidden=!0,e.appendChild(l)});