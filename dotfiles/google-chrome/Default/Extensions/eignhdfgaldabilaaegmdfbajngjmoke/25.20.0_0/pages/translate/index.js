"use strict";!function(){var C="undefined"!=typeof chrome&&chrome||{},I=browserStorage.sync.getItem("bm_pref__translate__defaultsl");cjce.registerTemplate("bm-p-translate",function(n,i){var t,u,c,s,e=!cjBasics.webRequest.wrifSupported,r=null,l="home",b="https://consent.google.com",o="https://translate.google.com",a="/",v=("0"!==i.account.authuser&&(a+="u/"+i.account.authuser+"/",r=i.account.authuser),o+a),m=cjBasics.uniqueId.generate(),d={bm_cid:"translate",bm_iid:m,bm_cst:"2",bm_wiz:"1",bm_udm:i.darkMode?"1":null,hl:cjBasics.lang.current},h={home:{iconName:"__mdi:home",label:cjBasics.lang.i18n("cj_i18n_00291","Home"),newTabUrl:""},history:{iconName:"__mdi:history",label:cjBasics.lang.i18n("cj_i18n_00155","History"),newTabUrl:"history"},saved:{iconName:"__mdi:star",label:cjBasics.lang.i18n("cj_i18n_01355","Saved"),newTabUrl:"saved"},contribute:{iconName:"__mdi:supervisor_account",label:cjBasics.lang.i18n("cj_i18n_00353","Contribute"),newTabUrl:"contribute",divider:!0},docupload:{iconName:"__mdi:drive_file",label:cjBasics.lang.i18n("cj_i18n_01777","Documents"),newTabUrl:"?op=docs",external:!e},website:{iconName:"__mdi:language",label:cjBasics.lang.i18n("cj_i18n_00112","Sites"),newTabUrl:"?op=websites",external:!e,divider:!0}},g=[{value:"bm_lastused",label:cjBasics.lang.i18n("cj_i18n_07181","Last used")},{value:"auto",label:cjBasics.lang.i18n("cj_i18n_07182","Detect language")},{value:"af",label:"Afrikaans"},{value:"sq",label:"Albanian"},{value:"am",label:"Amharic"},{value:"ar",label:"Arabic"},{value:"hy",label:"Armenian"},{value:"as",label:"Assamese"},{value:"ay",label:"Aymara"},{value:"az",label:"Azerbaijani"},{value:"bm",label:"Bambara"},{value:"eu",label:"Basque"},{value:"be",label:"Belarusian"},{value:"bn",label:"Bengali"},{value:"bho",label:"Bhojpuri"},{value:"bs",label:"Bosnian"},{value:"bg",label:"Bulgarian"},{value:"ca",label:"Catalan"},{value:"ceb",label:"Cebuano"},{value:"ny",label:"Chichewa"},{value:"zh-CN",label:"Chinese (Simplified)"},{value:"zh-TW",label:"Chinese (Traditional)"},{value:"co",label:"Corsican"},{value:"hr",label:"Croatian"},{value:"cs",label:"Czech"},{value:"da",label:"Danish"},{value:"dv",label:"Dhivehi"},{value:"doi",label:"Dogri"},{value:"nl",label:"Dutch"},{value:"en",label:"English"},{value:"eo",label:"Esperanto"},{value:"et",label:"Estonian"},{value:"ee",label:"Ewe"},{value:"tl",label:"Filipino"},{value:"fi",label:"Finnish"},{value:"fr",label:"French"},{value:"fy",label:"Frisian"},{value:"gl",label:"Galician"},{value:"ka",label:"Georgian"},{value:"de",label:"German"},{value:"el",label:"Greek"},{value:"gn",label:"Guarani"},{value:"gu",label:"Gujarati"},{value:"ht",label:"Haitian Creole"},{value:"ha",label:"Hausa"},{value:"haw",label:"Hawaiian"},{value:"iw",label:"Hebrew"},{value:"hi",label:"Hindi"},{value:"hmn",label:"Hmong"},{value:"hu",label:"Hungarian"},{value:"is",label:"Icelandic"},{value:"ig",label:"Igbo"},{value:"ilo",label:"Ilocano"},{value:"id",label:"Indonesian"},{value:"ga",label:"Irish"},{value:"it",label:"Italian"},{value:"ja",label:"Japanese"},{value:"jw",label:"Javanese"},{value:"kn",label:"Kannada"},{value:"kk",label:"Kazakh"},{value:"km",label:"Khmer"},{value:"rw",label:"Kinyarwanda"},{value:"gom",label:"Konkani"},{value:"ko",label:"Korean"},{value:"kri",label:"Krio"},{value:"ku",label:"Kurdish (Kurmanji)"},{value:"ckb",label:"Kurdish (Sorani)"},{value:"ky",label:"Kyrgyz"},{value:"lo",label:"Lao"},{value:"la",label:"Latin"},{value:"lv",label:"Latvian"},{value:"ln",label:"Lingala"},{value:"lt",label:"Lithuanian"},{value:"lg",label:"Luganda"},{value:"lb",label:"Luxembourgish"},{value:"mk",label:"Macedonian"},{value:"mai",label:"Maithili"},{value:"mg",label:"Malagasy"},{value:"ms",label:"Malay"},{value:"ml",label:"Malayalam"},{value:"mt",label:"Maltese"},{value:"mi",label:"Maori"},{value:"mr",label:"Marathi"},{value:"mni-Mtei",label:"Meiteilon (Manipuri)"},{value:"lus",label:"Mizo"},{value:"mn",label:"Mongolian"},{value:"my",label:"Myanmar (Burmese)"},{value:"ne",label:"Nepali"},{value:"no",label:"Norwegian"},{value:"or",label:"Odia (Oriya)"},{value:"om",label:"Oromo"},{value:"ps",label:"Pashto"},{value:"fa",label:"Persian"},{value:"pl",label:"Polish"},{value:"pt",label:"Portuguese"},{value:"pa",label:"Punjabi"},{value:"qu",label:"Quechua"},{value:"ro",label:"Romanian"},{value:"ru",label:"Russian"},{value:"sm",label:"Samoan"},{value:"sa",label:"Sanskrit"},{value:"gd",label:"Scots Gaelic"},{value:"nso",label:"Sepedi"},{value:"sr",label:"Serbian"},{value:"st",label:"Sesotho"},{value:"sn",label:"Shona"},{value:"sd",label:"Sindhi"},{value:"si",label:"Sinhala"},{value:"sk",label:"Slovak"},{value:"sl",label:"Slovenian"},{value:"so",label:"Somali"},{value:"es",label:"Spanish"},{value:"su",label:"Sundanese"},{value:"sw",label:"Swahili"},{value:"sv",label:"Swedish"},{value:"tg",label:"Tajik"},{value:"ta",label:"Tamil"},{value:"tt",label:"Tatar"},{value:"te",label:"Telugu"},{value:"th",label:"Thai"},{value:"ti",label:"Tigrinya"},{value:"ts",label:"Tsonga"},{value:"tr",label:"Turkish"},{value:"tk",label:"Turkmen"},{value:"ak",label:"Twi"},{value:"uk",label:"Ukrainian"},{value:"ur",label:"Urdu"},{value:"ug",label:"Uyghur"},{value:"uz",label:"Uzbek"},{value:"vi",label:"Vietnamese"},{value:"cy",label:"Welsh"},{value:"xh",label:"Xhosa"},{value:"yi",label:"Yiddish"},{value:"yo",label:"Yoruba"},{value:"zu",label:"Zulu"}];function j(){u.cjceSendFrameCommand({method:"bmCstClickDomElement",value:'c-wiz[data-view-instance-id="/history-V1"] c-wiz > div:first-child > div:first-child + div button[data-idom-class]'},o)}function p(e){i.openTab(v+e)}function _(e,a){p(a.newTabUrl)}function f(e){p(cjBasics.urlParams.create({op:"translate",sl:"auto",tl:"auto",text:e}))}function w(e){var a=h[l=e];t.cjceSetBackState("home"!==e),t.cjceSetPageLabel(a.label),s.hidden="history"!==e,c.cjceSelectedId=e}function S(e){var a=e[0],e=e[1];(a||e)&&u.cjceSendFrameCommand({method:"translatePrefillText",value:{selection:a,url:e}},o)}function B(){u.cjceSendFrameCommand({method:"translateFocus"},o)}function y(e){var a=h[e];a.external?(i.openTab(a.newTabUrl),c.cjceSelectedId=l):(cjBasics.urlParams.attach(a.newTabUrl,d)&&u.cjceSendFrameCommand({method:"bmCstUpdateState",value:cjBasics.urlParams.attach(a.newTabUrl,d)+"#view="+e},o),w(e))}function T(){a="/pages/translate/cs-selection.js";var a,e="popup"===i.environment&&(e=C.scripting||C.tabs)&&e.executeScript?C.scripting?C.tabs.query({active:!0,currentWindow:!0}).then(function(e){e=e[0].id;return C.scripting.executeScript({target:{tabId:e,allFrames:!0},files:[a]})}).then(function(e){return e.map(function(e){return e.result}).filter(Boolean).join(" ")}).catch(function(){return""}):new Promise(function(l){C.tabs.executeScript({allFrames:!0,file:a,runAt:"document_start"},function(e){var a="";Array.isArray(e)?a=e.filter(Boolean).join(" "):"string"==typeof e&&(a=e),l(a)})}):Promise.resolve(""),l=cjBasics.navigator.getActionableUrl().then(function(e){if(e)return e.url});return Promise.all([e,l])}function k(){t=cjce.createElement("bm-ogb",{loading:!0,drawer:!0,serviceIcon:"translate",serviceLabel:cjBasics.lang.i18n("cj_i18n_00440","Translate"),pageLabel:cjBasics.lang.i18n("cj_i18n_00291","Home"),bmApis:i,onNewTab:function(){u.cjceSendFrameRequest({method:"translateSubmitAndGetState"},o).then(function(e){e=cjBasics.cleanBmUrl(o+e);i.openTab(e)})},onBack:function(){y("home")}}),n.appendChild(t),(s=cjce.createElement("ccbm-button",{outline:!0,label:cjBasics.lang.i18n("cj_i18n_07194","Clear all history"),onClick:j})).hidden=!0,t.cjceAppendChild(s);var l,e=t.cjceDrawerEl,a=(l=e,c=cjce.createElement("bm-navlist",{isSelector:!0,selectedId:"home",items:h,onChange:y,onNewTab:_}),l.appendChild(c),I.then(function(e){var a=cjce.createElement("bm-drawerdropdown",{iconName:"__mdi:language",label:cjBasics.lang.i18n("cj_i18n_07193","Default source language"),items:g,selectedId:e||"bm_lastused",onChange:function(){var e=a.cjceSelectedId;browserStorage.sync.setItem("bm_pref__translate__defaultsl",e)}});l.appendChild(a)}),cjBasics.webRequest.handleIframeHeaders([o+"/*bm_iid="+m+"*",b+"/*bm_iid="+m+"*",b+"/*bm_iid%3D"+m+"*"],{disableOgs:o,handleFirefoxInject:!0,handleSecVariables:!0,handleSwCache:!0}),T());I.then(function(e){e&&"bm_lastused"!==e?d.sl=e:delete d.sl;e=cjBasics.urlParams.attach(v,d);u=cjce.createElement("bm-iframe",{solid:!0,src:e,onLoad:function(){t.cjceSetLoading(!1),a.then(S),i.setOnPageDisplayHandler(B)},onMessage:function(e){var a=e.bm_method,e=e.bm_value;"translateUpdateView"===a?w(e):"translateOpenCommunity"===a?p("contribute"):"translateOpenUrlTranslator"===a&&(a=e,a=cjBasics.urlParams.attach(o+"/translate",{u:e,authuser:r}),i.openTab(a))}}),n.appendChild(u)})}e?(t=cjce.createElement("bm-ogb",{serviceIcon:"translate",serviceLabel:cjBasics.lang.i18n("cj_i18n_00440","Translate"),pageLabel:cjBasics.lang.i18n("cj_i18n_01167","Links"),bmApis:i,searchbox:{onSubmit:f,submitInNewTab:!0},onNewTab:function(){_(0,h.home)}}),n.appendChild(t),i.setOnPageDisplayHandler(t.cjceSearchboxEl.select),a=cjce.createElement("cjmd-container",{scrollable:!0,shadow:"thinOnScroll"}),e=cjce.createElement("bm-navlist",{items:h,onClick:_,onNewTab:_}),a.appendChild(e),n.appendChild(a)):k()})}();