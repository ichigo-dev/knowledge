"use strict";cjce.registerTemplate("bm-p-passwords",function(e,n){var a,c=!cjBasics.webRequest.wrifSupported,i="https://passwords.google.com",s=i+"/",t=("0"!==n.account.authuser&&(s+="u/"+n.account.authuser+"/"),n.account.pageId&&(s+="b/"+n.account.pageId+"/"),cjBasics.uniqueId.generate()),o={bm_iid:t,bm_cid:"passwords",bm_cst:"2",bm_wiz:"1",hl:cjBasics.lang.current};function r(e){var c=s,e=(e&&"home"!==e&&(c+=e),cjBasics.urlParams.attach(c,o));a.cjceSendFrameCommand({method:"bmCstUpdateState",value:e},i)}var l=cjce.createElement("bm-ogb",{loading:!0,onBack:function(){a.cjceSendFrameCommand({method:"bmCstNavigateBack"},i)},drawer:!0,serviceIcon:"password_manager",serviceLabel:cjBasics.lang.i18n("cj_i18n_07071","Password Manager"),pageLabel:cjBasics.lang.i18n("cj_i18n_00291","Home"),bmApis:n,onNewTab:function(){a.cjceGetCleanUrl(i).then(function(e){e=e||s;n.openTab(e)})}}),d=(e.appendChild(l),cjce.createElement("ccbm-iconbutton",{label:cjBasics.lang.i18n("cj_i18n_00085","Search"),iconName:"__mdi:search",onClick:function(){r("search")}})),m=(l.cjceAppendChild(d),[{id:"home",label:cjBasics.lang.i18n("cj_i18n_00291","Home"),iconName:"__mdi:home",newTabUrl:""},{id:"checkup",label:cjBasics.lang.i18n("cj_i18n_07072","Password checkup"),iconName:"__mdi:verified_user",newTabUrl:"checkup/start"},{id:"options",label:cjBasics.lang.i18n("cj_i18n_00298","Settings"),iconName:"__mdi:settings",newTabUrl:"options"},{header:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01539","Related apps")},{id:"account",iconName:"__mdi:account_circle",label:cjBasics.lang.i18n("cj_i18n_01506","Account"),shortcutId:"79"}]);function u(e,c){c=c.newTabUrl||cjgShortcuts.getUrl(c.shortcutId,n.account);n.openTab(c)}function j(e){l.cjceSetBackState("home"!==e),h.cjceSelectedId=e,d.hidden="search"===e;e=function(e){if(e.startsWith("search"))return cjBasics.lang.i18n("cj_i18n_00085","Search");if(e.startsWith("checkup"))return cjBasics.lang.i18n("cj_i18n_07072","Password checkup");if(e.startsWith("settings"))return cjBasics.lang.i18n("cj_i18n_00298","Settings");return cjBasics.lang.i18n("cj_i18n_00291","Home")}(e);l.cjceSetPageLabel(e)}var h=cjce.createElement("bm-navlist",{selectedId:"passwords",items:m,onClick:function(e){"account"===e?n.pageManager.navigate(e):r(e)},onNewTab:u});l.cjceDrawerEl.appendChild(h),c?(c=cjce.createElement("cjmd-container",{scrollable:!0,shadow:"thinOnScroll"}),m=cjce.createElement("bm-navlist",{items:m,onClick:u,onNewTab:u}),c.appendChild(m),e.appendChild(c)):(cjBasics.webRequest.handleIframeHeaders([i+"/*bm_iid="+t+"*"],{disableOgs:i,handleFirefoxInject:!0,handleSecVariables:!0}),cjBasics.webRequest.catchAndStop(["https://accounts.google.com/signin/*passwords.google.com*"],function(e){n.openTab(e)}),a=cjce.createElement("bm-iframe",{src:cjBasics.urlParams.attach(s,o),solid:"#fff",onLoad:function(){l.cjceSetLoading(!1)},onMessage:function(e){var c,a=e.bm_method,e=e.bm_value;"bmCstOpenUrl"===a?(c=cjBasics.cleanBmUrl(e),n.openTab(c)):"passwordsUpdatePath"===a&&j(e.split("/")[1]||"home")}}),e.appendChild(a))});