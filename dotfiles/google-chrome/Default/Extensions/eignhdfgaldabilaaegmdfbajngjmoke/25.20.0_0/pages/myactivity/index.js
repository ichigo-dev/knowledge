"use strict";cjce.registerTemplate("bm-p-myactivity",function(e,t){var l,c=!cjBasics.webRequest.wrifSupported||!t.account.validSession,n="https://myactivity.google.com",o=n+"/"+t.wizPath,a=o+"myactivity",i=cjBasics.uniqueId.generate(),m={bm_iid:i,bm_cid:"myactivity",bm_cst:"2",bm_wiz:"1",hl:cjBasics.lang.current,color_scheme:t.darkMode?"dark":"light",bm_udm:t.darkMode?"1":null};var s,d,r,b,_,j,h,g,u,v,y=cjBasics.lang.i18n("cj_i18n_07143","Activity"),p=cjce.createElement("bm-ogb",{drawer:!c,loading:!c,serviceIcon:"security_shield",serviceLabel:cjBasics.lang.i18n("cj_i18n_00689","My Activity"),pageLabel:cjBasics.lang.i18n("cj_i18n_00291","Home"),bmApis:t,onNewTab:function(){c?t.openTab(a):v.cjceGetCleanUrl(n).then(function(e){t.openTab(e||a)})},onBack:function(){v.cjceSendFrameCommand({method:"bmCstNavigateBack"},n)}}),C=(e.appendChild(p),[{label:cjBasics.lang.i18n("cj_i18n_00291","Home"),iconName:"__mdi:home",id:"myactivity",newTabUrl:!0},{label:cjBasics.lang.i18n("cj_i18n_07133","Other Google activity"),iconName:"__mdi:dashboard",id:"more-activity",newTabUrl:!0},{label:cjBasics.lang.i18n("cj_i18n_06365","Activity controls"),iconName:"__mdi:toggle_on",id:"activitycontrols",newTabUrl:!0},{header:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_00835","Products")},{label:cjBasics.lang.i18n("cj_i18n_01365","Google Search"),iconName:"__mdi:saved_search",id:"product/search",newTabUrl:!0},{label:cjBasics.lang.i18n("cj_i18n_01010","Google Pay"),iconName:"__mdi:gpay",id:"product/gpay",newTabUrl:!0},{label:cjBasics.lang.i18n("cj_i18n_00445","YouTube"),iconName:"__mdi:video_youtube",id:"product/youtube",newTabUrl:!0},{header:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01539","Related apps")},{id:"myaccount",iconName:"__mdi:account_circle",label:cjBasics.lang.i18n("cj_i18n_01506","Account"),newTabUrl:!0},{id:"adssettings",iconName:"__mdi:ad",label:cjBasics.lang.i18n("cj_i18n_00745","Ads Settings"),newTabUrl:!0,external:!0}]);function w(e,c){var a,i=o+e;"adssettings"===e&&(a="https://adssettings.google.com/",i=t.account.validSession?a+t.wizPath+"authenticated":a+"anonymous"),"myaccount"===e&&(i="https://myaccount.google.com/"+t.wizPath),t.openTab(i)}c?(s=cjce.createElement("cjmd-container",{scrollable:!0,shadow:"thinOnScroll"}),u=cjce.createElement("bm-navlist",{items:C,onClick:function(e,c){"myaccount"===e?t.pageManager.navigate(e):w(e)},onNewTab:w}),s.appendChild(u),e.appendChild(s)):(d=cjce.createElement("ccbm-iconbutton",{iconName:"__mdi:delete",label:cjBasics.lang.i18n("cj_i18n_07142","Remove activity"),onClick:function(){v.cjceSendFrameCommand({method:"bmCstClickDomElement",value:"nav > a ~ a:nth-child(4)"},n)}}),p.cjceAppendChild(d),r=cjce.createElement("ccbm-iconbutton",{label:cjBasics.lang.i18n("cj_i18n_00106","Change view"),iconName:"__mdi:view_module",onClick:function(){v.cjceSendFrameCommand({method:"bmCstClickDomElement",value:'nav > a[href*="myactivity"]'},n)}}),r.hidden=!0,p.cjceAppendChild(r),b=cjce.createElement("ccbm-iconbutton",{label:cjBasics.lang.i18n("cj_i18n_00106","Change view"),iconName:"__mdi:view_list",onClick:function(){v.cjceSendFrameCommand({method:"bmCstClickDomElement",value:'nav > a[href*="item"]'},n)}}),p.cjceAppendChild(b),_=!1,j="myactivity",h=cjce.createElement("bm-navlist",{selectedId:j,items:C,isSelector:!0,onChange:function(e,c){var a,i;"myaccount"===e?(t.pageManager.navigate(e),h.cjceSelectedId=j):(j=e,a=cjBasics.urlParams.attach("/"+e,m),i=_,_=e.startsWith("product/"),p.cjceSetPageLabel(c.label),i||_?(p.cjceSetLoading(!0),v.src=n+a):v.cjceSendFrameCommand({method:"bmCstUpdateState",value:a},n))},onNewTab:w}),p.cjceDrawerEl.appendChild(h),cjBasics.webRequest.handleIframeHeaders([n+"/*bm_iid="+i+"*"],{disableOgs:n,handleFirefoxInject:!0,handleSecVariables:!0,handleSwCache:!0}),g=["/activity","/activity/","/home","/item","/myactivity","/myactivity/"],u=cjBasics.urlParams.attach(a,m),v=cjce.createElement("bm-iframe",{sandbox:"allow-scripts allow-forms allow-same-origin",src:u,onMessage:function(e){var c,a,i,n=e.bm_method,e=e.bm_value;"bmCstOpenUrl"===n?(c=cjBasics.cleanBmUrl(e),t.openTab(c)):"myactivityUpdatePath"===n&&(c=-1===g.indexOf(e),a=c?e.slice(1):"myactivity",l=e.startsWith("/item"),r.hidden=c||!l,b.hidden=c||l,d.hidden=c,p.cjceSetBackState(c),h.cjceSelectedId=a,i=y,C.forEach(function(e){e.id===a&&(i=e.label)}),p.cjceSetPageLabel(i))},onLoad:function(){p.cjceSetLoading(!1)}}),e.appendChild(v))});