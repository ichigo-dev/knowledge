"use strict";!function(){var j="undefined"!=typeof chrome&&chrome||{};cjce.registerTemplate("bm-p-pagestateupdate",function(c,e){var i=e.instanceParameters,n=i.discontinued,a=i.unsupported,o=i.brandAccountUnsupported,t=i.signinRequired,l=i.missingPermissions,s=i.contentBlocking,m=i.workspaceOnly,r=i.productId,b=e.servicesDatabase[r]||{},d=b.shortcutId,_=b.label;function p(){var c=cjgShortcuts.getUrl(d,e.account);e.openTab(c)}var u,g,h=t?(h=cjce.createElement("ccbm-button",{fill:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01915","Sign in with Google"),onClick:function(){cjgApis.account.signin(e.account)}}),cjce.applyTemplate(h,"append-bm-signin-g"),h):o?cjce.createElement("ccbm-button",{fill:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01543","Switch account"),onClick:function(){e.pageManager.navigate("accountchooser")}}):l?cjce.createElement("ccbm-button",{fill:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01178","Continue"),onClick:function(){j.permissions.request({origins:["*bm_cid=aboutme*","*bm_cid=albumarchive*","*bm_cid=alerts*","*bm_cid=artsandculture*","*bm_cid=assignmentswithwebapp*","*bm_cid=calendarirender*","*bm_cid=calendarwithcompanion*","*bm_cid=chatwithcompanion*","*bm_cid=chatwithwebapp*","*bm_cid=classroomwithhybrid*","*bm_cid=classroomwithwebapp*","*bm_cid=cloudconsolewithwebapp*","*bm_cid=cloudsearch*","*bm_cid=collectionswithwebapp*","*bm_cid=companiongate*","*bm_cid=contactswithwebapp*","*bm_cid=contentblocking*","*bm_cid=covid19info*","*bm_cid=covid19map*","*bm_cid=covid19mobility*","*bm_cid=covid19self*","*bm_cid=currentshybrid*","*bm_cid=drivewithwebapp*","*bm_cid=duowithwebapp*","*bm_cid=find*","*bm_cid=fonts*","*bm_cid=myaccount*","*bm_cid=gasuite*","*bm_cid=googletravel*","*bm_cid=groupswithlegacy*","*bm_cid=gws*","*bm_cid=gws-images*","*bm_cid=gws-jobs*","*bm_cid=hangouts*","*bm_cid=keepwithcompanion*","*bm_cid=keepwithwebapp*","*bm_cid=mailcompose*","*bm_cid=mapswithcompanion*","*bm_cid=mapswithpwa*","*bm_cid=marketplace*","*bm_cid=meet*","*bm_cid=messages*","*bm_cid=mybusiness*","*bm_cid=one*","*bm_cid=oz-webapp*","*bm_cid=passwords*","*bm_cid=patents*","*bm_cid=photoswithwebapp*","*bm_cid=play*","*bm_cid=podcasts*","*bm_cid=reminderswithwebapp*","*bm_cid=reserve*","*bm_cid=searchcentral*","*bm_cid=searchconsole*","*bm_cid=shoplistwithwebapp*","*bm_cid=shoppinglist*","*bm_cid=surveys*","*bm_cid=taskswithcompanion*","*bm_cid=translate*","*bm_cid=voicewithwebapp*","*bm_cid=webrequestcheck*","*bm_cst=*","*bm_iid=*","*bm_pid=covid19*","*bm_pid=finance*","*bm_pid=sports*","*bm_wiz=1*","*familylink*","accounts/SetOSID*bm_mail*","cjg-apis/*","cjg-auth/*","cjg-proxy/*","embed/*","mail/mu/*mui=bm_mail*","mail/u/0/g*","travel*","u/?/embed/*","u/?/travel*","webchat/*","*"].map(function(c){return"https://*.google.com/"+c})},function(){setTimeout(function(){location.reload()})})}}):s?cjce.createElement("ccbm-button",{fill:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01178","Continue"),onClick:function(){var c=j.runtime.getURL("pages/contentblocking/index.html");"gmail"===s&&(c+="?subdomain=mail"),e.openTab(c)}}):((h=document.createElement("div")).classList.add("bm-p-pagestateupdate-tools"),i.learnMoreUrl&&h.appendChild(cjce.createElement("ccbm-button",{outline:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01351","Learn more"),onClick:function(){e.openTab(i.learnMoreUrl)}})),d&&(a||"google"!==n&&!i.learnMoreUrl&&!m)&&h.appendChild(cjce.createElement("ccbm-button",{fill:a,outline:n,color:!0,label:cjBasics.lang.i18n("cj_i18n_01541","Launch in new tab"),onClick:p})),n&&("bookmarks"===r&&(g=cjce.createElement("ccbm-button",{fill:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01251","Export bookmarks"),onClick:function(){u.then(function(c){var e,i,n,c=cjBasics.download.createBlobUrlFromJson(c,!0);e=(n=new Date).getFullYear(),1===(i=(n.getMonth()+1).toString()).length&&(i="0"+i),n=n.getDate(),cjBasics.download.downloadLink(c,"bookmarks-"+(e+"-"+i+"-"+n)+".txt")})}}),h.appendChild(g),u=cjgApis.cache.getItem(e.account,"bm_cache_v32__bookmarks__bookmarks").then(function(c){if(c)return c;g.remove()})),e.userServices.contains(r))&&h.appendChild(cjce.createElement("ccbm-button",{outline:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01164","Remove from menu"),onClick:function(){e.userServices.remove(r),e.pageManager.navigate(null)}})),h),_=cjce.createElement("bm-fulldialog",{bmApis:e,onNewTab:d&&p,lockup:{label:_||(n?cjBasics.lang.i18n("cj_i18n_01748","No longer available"):a?cjBasics.lang.i18n("cj_i18n_06382","Unsupported"):cjBasics.lang.i18n("cj_i18n_01765","Almost there"))},iconName:"gmail"===s?"gmail":b.iconName||(s?"black_menu_for_google":"googleg"),message:(b=_||cjBasics.lang.i18n("cj_i18n_01729","This service"),(t?cjBasics.lang.i18n("cj_i18n_01557","To use this app, please sign in to your Google Account"):"gmail"===s?cjBasics.lang.i18n("cj_i18n_01925","Black Menu for Google needs to be added as an exception for content blocking for basic functioning of the Gmail page"):s?cjBasics.lang.i18n("cj_i18n_06430","In order for the basic functionality of this app to work, Black Menu for Google needs an exception for content blocking."):l?cjBasics.lang.i18n("cj_i18n_06429","In order for the basic functionality of this app to work, Black Menu for Google needs some additional permissions."):m?cjBasics.lang.i18n("cj_i18n_01773","__product_name__ is only available for G Suite accounts.").replace("G Suite",cjBasics.lang.i18n("cj_i18n_06682","Workspace")):o?cjBasics.lang.i18n("cj_i18n_01558","This app doesn't support Brand accounts, please switch to a different account"):a?cjBasics.lang.i18n("cj_i18n_06381","__product_name__ is currently not supported within Black Menu for Google in your browser specifically."):"google"===n?cjBasics.lang.i18n("cj_i18n_01750","__product_name__ has been discontinued by Google and is therefore no longer available in Black Menu for Google. We are very sorry."):n?cjBasics.lang.i18n("cj_i18n_01749","__product_name__ in Black Menu for Google is no longer available. We are very sorry."):"").replace("__product_name__",b)),messageAlign:"google"===n&&"left",additionalFragment:h});c.appendChild(_)})}();