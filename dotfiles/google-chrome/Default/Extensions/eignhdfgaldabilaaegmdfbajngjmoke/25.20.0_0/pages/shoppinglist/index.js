"use strict";cjce.registerTemplate("bm-p-shoppinglist",function(e,n){var i="https://shoppinglist.google.com",c=i+"/u/"+n.account.authuser+"/lists/default";var a,t=cjce.createElement("bm-ogb",{loading:!0,serviceIcon:"shoppinglist",serviceLabel:cjBasics.lang.i18n("cj_i18n_01028","Shopping List"),pageLabel:cjBasics.lang.i18n("cj_i18n_01359","My shopping list"),navigator:{onClick:function(){r.cjceSendFrameCommand({method:"bmCstClickDomElement",value:'.menuButton, div[aria-label="Main menu"][role="button"]'},i)}},bmApis:n,onNewTab:m}),l=(e.appendChild(t),a=cjce.createElement("bm-ogb",{displayBack:!0,floating:!0,bmApis:n,onNewTab:m,pageLabel:cjBasics.lang.i18n("cj_i18n_01362","Share list"),serviceLabel:cjBasics.lang.i18n("cj_i18n_01028","Shopping List"),onBack:function(){a.hidden=!0,d()}}),o=cjce.createElement("ccbm-button",{color:!0,fill:!0,label:cjBasics.lang.i18n("cj_i18n_01363","Save"),onClick:function(){a.hidden=!0,r.cjceSendFrameCommand({method:"bmCstClickDomElement",value:".saveButton"},i),setTimeout(d,200)}}),a.cjceAppendChild(o),a),o=(l.hidden=!0,e.appendChild(l),cjce.createElement("ccbm-iconbutton",{iconName:"__mdi:person_add",label:cjBasics.lang.i18n("cj_i18n_01360","Share"),onClick:function(){r.cjceSendFrameCommand({method:"bmCstClickDomElement",value:'.headerControl[routerlink*="/share"]'},i),l.hidden=!1}})),o=(t.cjceAppendChild(o),cjBasics.uniqueId.generate()),s=cjBasics.urlParams.attach(c,{bm_cid:"shoppinglist",bm_cst:"1",bm_wiz:"1",bm_iid:o,hl:cjBasics.lang.current});function m(){r.cjceGetCleanUrl(i).then(function(e){n.openTab(e||c)})}function d(){r.cjceSendFrameCommand({method:"bmCstClickDomElement",value:".backButton"},i)}cjBasics.webRequest.handleIframeHeaders([i+"/*bm_iid="+o+"*","https://shopping.google.com/*bm_iid="+o+"*"],{handleFirefoxInject:!0,handleSecVariables:!0,useMobileUserAgent:!0});var r=cjce.createElement("bm-iframe",{src:s,solid:"#fff",shadow:!0,onLoad:function(){t.cjceSetLoading(!1)},onMessage:function(e){var n=e.bm_method,e=e.bm_value;"shoppinglistPageTitle"===n?t.cjceSetPageLabel(e):"shoppinglistShareOpen"===n&&(l.hidden=!1)}});e.appendChild(r)});