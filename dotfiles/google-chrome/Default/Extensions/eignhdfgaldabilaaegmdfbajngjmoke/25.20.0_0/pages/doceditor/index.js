"use strict";cjce.registerTemplate("bm-p-doceditor",function(n,t){var o,l,s,r,e,a,d,_,m,c=cjgApis.docEditors,u=t.instanceParameters.productId||"doceditor",g=c[u]||{},c=g.mimeTypes||[],A=0===c.length?"(mimeType != 'application/vnd.google-apps.folder')":"(mimeType = '"+c.join("' or mimeType = '")+"')",D=g.entityName,j=g.iconName||"editors",q=g.emptyStateIcon,p="bm_pref__"+u+"__",c=g.serviceLabel,b=c||cjBasics.lang.i18n("cj_i18n_01289","Docs Suite"),i=g.portalLabel||b,c=g.pageLabel||c||cjBasics.lang.i18n("cj_i18n_02703","All files"),h=g.listview,v=!1,w=g.primaryColor,B=(w&&n.style.setProperty("--ccc-accent-color",w),g.noNewFile),f=g.docPath,N="all",y="lastOpenedByMe",T=!1,I="",x=!0,w=cjgApis.auth.requireToken(t.account,["https://www.googleapis.com/auth/drive"]).catch(function(e){return x=!1,e}),S="https://datastudio.google.com",C=S+"/u/"+t.account.authuser+"/",M={all:null,owned:"'me' in owners",shared:"sharedWithMe"},O={name:"name",lastModified:"modifiedTime desc",lastModifiedByMe:"modifiedByMeTime desc",lastOpenedByMe:"viewedByMeTime desc"},F="https://script.google.com/"+t.wizPath+"home/",U="script"===u;function E(){var a;x&&(s.cjceSetLoading(!0),a=["trashed = false",A],M[N]&&a.push(M[N]),T&&a.push("fullText contains '"+I+"'"),t.requirePage("doclist").then(function(){var e=cjce.createElement("cjg-doclist",{darkMode:t.darkMode,gAccount:t.account,noNewFile:B,noFabs:v,onLoadingChange:function(e){s.cjceSetLoading(e)},openInNew:t.openTab,listview:h,entityName:D,emptyStateIcon:q,searching:T,cachingId:T?null:"bm_cache_v33__"+u+"__doclist__"+N,shadow:"thinOnScroll",orderBy:T?null:O[y],q:a.join(" and ")});cjce.replaceChild(n,e,o),o=e}))}function P(e,a){return cjBasics.urlParams.attach(F+e,a||{})}function R(e){T!==e&&(T=e,l.hidden=e,E())}function L(e){var a=U?P("search",{q:e}):(a=t.account.authuser,(f?"https://docs.google.com/"+f+"/u/"+a+"/?q=":"atari"===u?cjBasics.urlParams.attach("https://sites.google.com/new",{authuser:"0"===a?null:a,q:""}):"datastudio"===u?"https://datastudio.google.com/u/"+a+"/navigation/reporting/search/":"jamboard"===u?"https://jamboard.google.com/u/"+a+"/?q=":void 0)+encodeURIComponent(e));t.openTab(a)}function G(e){g.noExternalSearch||x?R(I=e):L(e)}function H(){a=a||u,e=t.account.authuser;var e,a="datastudio"===a?"https://datastudio.google.com/u/"+e+"/reporting/":"mymaps"===a?cjBasics.urlParams.attach("https://www.google.com/maps/d/u/"+e+"/drive",{state:JSON.stringify({action:"create",userId:t.account.obfuscatedId})}):"atari"===a?"https://sites.google.com/create?authuser="+e:"script"===a?"https://script.google.com/create?authuser="+e:"jamboard"===a?"https://jamboard.google.com/create?authuser="+e:f?"https://docs.google.com/"+f+"/create?authuser="+e:void 0;t.openTab(a)}function z(){var e=J()+"?ftv=1";t.openTab(e)}function k(a){return cjce.createElement("ccbm-fab",{mini:!0,color:!0,label:a.label,iconName:a.iconName,onClick:function(){var e=C+a.urlPath;t.openTab(e)}})}function J(){return f?"https://docs.google.com/"+f+"/u/"+t.account.authuser+"/":cjgShortcuts.getUrl(g.mainShortcutId,t.account)}s=cjce.createElement("bm-ogb",{drawer:{color:!1},loading:!0,serviceIcon:j,serviceLabel:i,pageLabel:c,searchbox:{color:!0,onClear:function(){R(!1)},onSubmit:G,onMetaSubmit:g.noExternalSearch?null:L},bmApis:t,onNewTab:function(){var e;T?L(I):U?(e=P("all"===N||"shared"===N?N:"my"),t.openTab(e)):(e=J(),t.openTab(e))}}),n.appendChild(s),t.setOnPageDisplayHandler(s.cjceSearchboxEl.select),"datastudio"===u&&cjce.applyTemplate(s,"append-g-marketing-toggle",{cjgShortcuts:cjgShortcuts,bmApis:t,selectedId:"datastudio"}),i=s.cjceDrawerEl,a=cjce.createElement("bm-navlist",{selectedId:u,compact:"datastudio"===u,items:"atari"===u?{atari:{label:cjBasics.lang.i18n("cj_i18n_00112","Sites"),iconName:"__mdi:atari_site",color:"#3e50b4",colorIcon:!0,shortcutId:"405",divider:!0},relatedHeader:{header:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01539","Related apps")},sites:{label:cjBasics.lang.i18n("cj_i18n_00111","Classic Sites"),iconName:"__mdi:drive_site",shortcutId:"130"},drive:{label:cjBasics.lang.i18n("cj_i18n_00390","Drive"),iconName:"__mdi:drive",shortcutId:"48"}}:U?{starred:{label:cjBasics.lang.i18n("cj_i18n_01295","Starred projects"),iconName:"__mdi:star_outline",newTabUrl:P("starred"),external:!0},my:{label:cjBasics.lang.i18n("cj_i18n_01296","My projects"),iconName:"__mdi:folder",newTabUrl:P("my"),external:!0},all:{label:cjBasics.lang.i18n("cj_i18n_01297","All projects"),iconName:"__mdi:folder",newTabUrl:P("all"),external:!0},shared:{label:cjBasics.lang.i18n("cj_i18n_00002","Shared with me"),iconName:"__mdi:people",newTabUrl:P("shared"),external:!0},trash:{label:cjBasics.lang.i18n("cj_i18n_00005","Bin"),iconName:"__mdi:delete",newTabUrl:P("trash"),divider:!0,external:!0},executions:{label:cjBasics.lang.i18n("cj_i18n_01298","My executions"),iconName:"__mdi:settings_ethernet",newTabUrl:P("executions"),external:!0},triggers:{label:cjBasics.lang.i18n("cj_i18n_01710","My triggers"),iconName:"__mdi:alarm",newTabUrl:P("triggers"),divider:!0,external:!0},start:{label:cjBasics.lang.i18n("cj_i18n_01711","Getting started"),iconName:"__mdi:play_circle_outline",newTabUrl:P("start"),external:!0},usersettings:{label:cjBasics.lang.i18n("cj_i18n_00298","Settings"),iconName:"__mdi:settings",newTabUrl:P("usersettings"),external:!0}}:"datastudio"===u?(a="https://support.google.com/datastudio/answer/",e="0"===t.account.authuser?"":"?authuser="+t.account.authuser,{datastudio:{color:"#1a73e8",iconName:"__mdi:cj_gmp_data_studio_report",label:cjBasics.lang.i18n("cj_i18n_01299","Reports"),newTabUrl:C+"navigation/reporting"},sources:{iconName:"__mdi:cj_gmp_data_studio_source",label:cjBasics.lang.i18n("cj_i18n_01300","Data sources"),newTabUrl:C+"navigation/datasources",external:!0},explorer:{iconName:"__mdi:cj_gmp_data_studio_explore",label:cjBasics.lang.i18n("cj_i18n_01301","Explorer"),newTabUrl:C+"navigation/explorer",external:!0,divider:!0},productoverview:{iconName:"__mdi:web_asset",label:cjBasics.lang.i18n("cj_i18n_01302","Product overview"),newTabUrl:S+"/overview",external:!0},gallery:{iconName:"__mdi:view_quilt",label:cjBasics.lang.i18n("cj_i18n_01303","Report gallery"),newTabUrl:S+"/gallery",external:!0},connect:{iconName:"__mdi:compare_arrows",label:cjBasics.lang.i18n("cj_i18n_01304","Connect to data"),newTabUrl:S+"/data",external:!0,divider:!0},newfeatures:{iconName:"__mdi:new_releases",label:cjBasics.lang.i18n("cj_i18n_01305","New features"),newTabUrl:a+"6311467"+e,external:!0},tutorials:{iconName:"__mdi:video_youtube",label:cjBasics.lang.i18n("cj_i18n_01306","Video tutorials"),newTabUrl:a+"6390659"+e,external:!0}}):"jamboard"===u?{jamboard:{label:cjBasics.lang.i18n("cj_i18n_01290","Jams"),iconName:"__mdi:cj_jam_drive",color:"#fb8c00",colorIcon:!0,shortcutId:"740"},adminconsole:{label:cjBasics.lang.i18n("cj_i18n_01292","Admin Console"),iconName:"__mdi:cjg_admin_console",newTabUrl:"https://admin.google.com/"+t.wizPath+"ac/jamboards",external:!0,divider:!0},relatedHeader:{header:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01539","Related apps")},drive:{label:cjBasics.lang.i18n("cj_i18n_00390","Drive"),iconName:"__mdi:drive",shortcutId:"48"}}:"mymaps"===u?{mymaps:{label:cjBasics.lang.i18n("cj_i18n_00410","My Maps"),iconName:"__mdi:file_map",color:"#ea4335",colorIcon:!0,shortcutId:"167",divider:!0},relatedHeader:{header:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01539","Related apps")},drive:{label:cjBasics.lang.i18n("cj_i18n_00390","Drive"),iconName:"__mdi:drive",shortcutId:"48"},maps:{label:cjBasics.lang.i18n("cj_i18n_00423","Maps"),iconName:"__mdi:maps",shortcutId:"101"}}:{docs:{label:cjBasics.lang.i18n("cj_i18n_00391","Docs"),iconName:"__mdi:drive_document",color:"#4285f4",colorIcon:!0,shortcutId:"46"},sheets:{label:cjBasics.lang.i18n("cj_i18n_00393","Sheets"),iconName:"__mdi:drive_spreadsheet",color:"#34a853",colorIcon:!0,shortcutId:"128"},slides:{label:cjBasics.lang.i18n("cj_i18n_00407","Slides"),iconName:"__mdi:drive_presentation",color:"#f5a900",colorIcon:!0,shortcutId:"133"},forms:{label:cjBasics.lang.i18n("cj_i18n_00408","Forms"),iconName:"__mdi:drive_form",color:"#673ab7",colorIcon:!0,shortcutId:"57"},drawings:{label:cjBasics.lang.i18n("cj_i18n_00409","Drawings"),iconName:"__mdi:drive_drawing",color:"#ea4335",colorIcon:!0,shortcutId:"47",divider:!0},drive:{label:cjBasics.lang.i18n("cj_i18n_00390","Drive"),iconName:"__mdi:drive",shortcutId:"48"}},onClick:function(e){t.pageManager.navigate(e)},onNewTab:function(e,a){var c=a.newTabUrl;a.shortcutId&&(c=cjgShortcuts.getUrl(a.shortcutId,t.account)),t.openTab(c)}}),i.appendChild(a),(c=B||!u?null:(e=g.newFileLabel||cjBasics.lang.i18n("cj_i18n_00090","New file"),e=cjce.createElement("gmd-fab",{label:e,onClick:H}),"datastudio"===u?[e,k({label:cjBasics.lang.i18n("cj_i18n_06217","New report"),iconName:"__mdi:cj_gmp_data_studio_report",urlPath:"reporting/"}),k({label:cjBasics.lang.i18n("cj_i18n_06218","New data source"),iconName:"__mdi:cj_gmp_data_studio_source",urlPath:"datasources/create"}),k({label:cjBasics.lang.i18n("cj_i18n_06219","New explorer"),iconName:"__mdi:cj_gmp_data_studio_explore",urlPath:"explorer/temp"})]:g.hasTemplates?[e,cjce.createElement("ccbm-fab",{mini:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_06216","From template"),iconName:"__mdi:category",onClick:z})]:[e]))&&0<c.length?(c=cjce.createElement("ccbm-fabgroup",{items:c}),n.appendChild(c)):v=!0,d=p+"thumbs",_=p+"filter",m=p+"order",browserStorage.sync.get([d,_,m]).then(function(e){var a,c,i=e[d],i=("boolean"==typeof i&&(h=!i),e[_]),i=("string"==typeof i&&(N=i),e[m]);function n(e){h=!h,a.hidden=h,c.hidden=!h,E(),browserStorage.sync.setItem(p+"thumbs",!h)}"string"==typeof i&&(y=i),e=cjce.createElement("cjmd-appbar",{secondary:!0}),i=cjce.createElement("ccbm-tabs",{items:{all:cjBasics.lang.i18n("cj_i18n_00107","All"),owned:cjBasics.lang.i18n("cj_i18n_00108","Owned by me"),shared:cjBasics.lang.i18n("cj_i18n_00002","Shared with me")},onChange:function(e){N=e,browserStorage.sync.setItem(p+"filter",e),E()},selectedId:N}),e.appendChild(i),l=cjce.createElement("ccbm-iconbuttonmenu",{open:"end",label:cjBasics.lang.i18n("cj_i18n_00096","Order by"),iconName:"__mdi:cj_sort_by_alpha",items:{name:cjBasics.lang.i18n("cj_i18n_01990","Name"),lastModified:cjBasics.lang.i18n("cj_i18n_00093","Last modified"),lastModifiedByMe:cjBasics.lang.i18n("cj_i18n_00094","Last modified by me"),lastOpenedByMe:cjBasics.lang.i18n("cj_i18n_00095","Last opened by me")},selectedId:y,isSelector:!0,onChange:function(e){y=e,E(),browserStorage.sync.setItem("bm_pref__drive__order",e)}}),e.appendChild(l),g.noViewToggle||((a=cjce.createElement("ccbm-iconbutton",{label:cjBasics.lang.i18n("cj_i18n_00106","Change view"),iconName:"__mdi:view_list",onClick:n})).hidden=h,e.appendChild(a),(c=cjce.createElement("ccbm-iconbutton",{label:cjBasics.lang.i18n("cj_i18n_00106","Change view"),iconName:"__mdi:view_module",onClick:n})).hidden=!h,e.appendChild(c)),r=e,s.appendChild(r),E()}),w.then(function(i){x||setTimeout(function(){var e,a,c;e=i,s.cjceSetLoading(!1),cjgApis.cache.remove(t.account,["bm_cache_v33__"+u+"__doclist__"+N]),r&&r.remove(),a=cjce.createElement("cjmd-container",{shadow:"thin"}),c=cjce.createElement("bm-fulldialog",{inline:!0,lockup:{label:b},iconName:j,message:cjBasics.lang.i18n("cj_i18n_00089","Before you can use this page, you need to give the extension access to Google Drive"),actionLabel:cjBasics.lang.i18n("cj_i18n_01916","Continue with Google"),actionG:!0,action:function(){cjgApis.auth.requestPermissions(t.account,e.cjg_missing_scopes)}}),a.appendChild(c),cjce.replaceChild(n,a,o)})})});