"use strict";!function(){var t,e=window,n=e.location,i="undefined"!=typeof chrome&&chrome||{};function x(t,e){t=e.lastIndexOf(t);return e.slice(0,Math.max(0,t))}function a(){for(var f,p=n.pathname,h=-1!==p.indexOf("/room/"),m=[],v="",g=document.body.textContent.split("AF_initDataCallback("),t=function(){try{var t=[],e=(e=g[b]).split(");<\/script>")[0];c=" data:",d=(u=e).indexOf(c),e=x("sideChannel:",e=u.slice(Math.max(0,d+c.length))),e=x("]",e)+"]";for(var n=JSON.parse(e)[1],i=n[1][1],r=(f=i[0],i[2]),a=2;a<n.length;a++)try{var o=n[a][3],s=o[0],l=o[1][0];t.push({id:"list/"+s,label:l})}catch(t){}if(0===t.length)return"continue";m=t.sort(function(t,e){var n=t.id,i=e.id,a=r.indexOf(n),o=r.indexOf(i);return-1!==a&&-1!==o?a<o?-1:1:(a=t.label,o=e.label,(t=a.toLowerCase())!==(e=o.toLowerCase())?t<e?-1:1:a!==o?a<o?-1:1:n<i?-1:1)})}catch(t){return"continue"}var c,u,d;return f&&(v="list/"+f),h?v="room/"+p.split("/room/")[1].split("/")[0]:-1!==p.indexOf("/list/")&&(i=p.split("/list/")[1].split("/")[0])&&(v="list/"+i),{v:{tasklists:h?[]:m,activeView:v}}},b=0;b<g.length;b++){var e=t();if("continue"!==e&&"object"==typeof e)return e.v}return{tasklists:h?[]:m,activeView:v}}e.top!==e.self&&"https://tasks.google.com"===n.origin&&(t=i.runtime.getURL("PATH/").replace("/PATH/",""),"object"!=typeof(i=n.ancestorOrigins)||1===i.length&&i[0]===t)&&e.addEventListener("DOMContentLoaded",function(){e.parent.postMessage({bm_method:"taskswithcompanionData",bm_value:a()},t)})}();