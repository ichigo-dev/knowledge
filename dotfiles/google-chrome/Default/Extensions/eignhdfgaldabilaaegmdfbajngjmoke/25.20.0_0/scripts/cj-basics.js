"use strict";!function(){var r=window,M=r.location,a=document,c="undefined"!=typeof chrome&&chrome||{},u=c.storage;if(!u)throw new Error("Please add storage to the list of permissions in manifest.json");var e=c.runtime.getURL("PATH/").replace("/PATH/","").startsWith("moz-extension://"),U="sync"in u,e=e||!U,l="__sync_storage__",o="__sync_fallback__",n=f("local","get"),A=f("local","set"),i=f("local","remove"),s=f("sync","set");function t(){return Promise.reject(new Error("Method not supported for this storage type"))}function W(){return Promise.resolve({})}function B(){return Promise.resolve(-1)}function D(){return Promise.resolve()}function f(a,s){return function(e){return new Promise(function(n,r){function t(e,t){t=t||c.runtime.lastError;"getBytesInUse"===s?n(t||"number"!=typeof e?-1:e):"get"===s?n(e||{}):t?r(t):n(e)}var o=u[a],i=e||null;try{"clear"===s?o[s](t):o[s](i,t)}catch(e){("clear"===s?o[s]():u[a][s](i)).then(t,function(e){t(void 0,e)})}})}}function N(e){return function(t){return v[e].get(t).then(function(e){return e[t]})}}function F(r){return function(e,t){var n={};return n[e]=t,v[r].set(n)}}function z(e){return u.storageType&&"function"==typeof u.storageType.getBytesInUse?f(e,"getBytesInUse"):B}var d,p,h,m,g,v={managed:{get:(b=(b=u&&u.managed)&&"function"==typeof b.get)?f("managed","get"):W,getBytesInUse:z("managed"),getItem:b?F("managed"):D,clear:t,remove:t,set:t,setItem:t},local:(b={getBytesInUse:z("local"),getItem:N("local"),set:A,setItem:F("local"),remove:i},e?(b.get=function(e){return e?n(e):n().then(function(e){for(var t in e)t!==o&&!t.startsWith(l)||delete e[t];return e})},b.clear=function(){return n().then(function(e){var t,n=[];for(t in e)t===o||t.startsWith(l)||n.push(t);return n}).then(i)}):(b.get=n,b.clear=f("local","clear")),b),sync:(p={getBytesInUse:z("sync"),getItem:N("sync"),setItem:F("sync")},h=f("sync","remove"),m=f("sync","clear"),g=f("sync","get"),e?(d=U?new Promise(function(t){u.sync.get("someStorageKey",function(){var e;c.runtime.lastError?t(!1):(e=n(o).then(function(e){return!e.__sync_fallback__||n(null).then(function(t){var n=[o],r={};return Object.keys(t).forEach(function(e){e.startsWith(l)&&(n.push(e),r[e.replace(l,"")]=t[e])}),Promise.all([s(r),i(n)])}).then(function(){return!0})}),t(e))})}):Promise.resolve(!1),p.get=function(c){return d.then(function(e){return e?g(c):n().then(function(e){var t={},n=Object.keys(e);if(c)for(var r="string"==typeof c?[c]:c,o=0;o<r.length;o++){var i=r[o];t[i]=e[l+i]}else for(var a=0;a<n.length;a++){var s=n[a];s.startsWith(l)&&(t[s.replace(l,"")]=e[s])}return t})})},p.set=function(n){return d.then(function(e){var t;return e?s(n):(t={__sync_fallback__:!0},Object.keys(n).forEach(function(e){t[l+e]=n[e]}),A(t))})},p.remove=function(t){return d.then(function(e){return e?h(t):(e="string"==typeof t?l+t:t.map(function(e){return l+e}),i(e))})},p.clear=function(){return d.then(function(e){return e?m():n().then(function(e){return Object.keys(e).filter(function(e){return e.startsWith(l)})}).then(i)})},d.then(function(e){e&&(p.get=g,p.set=s,p.remove=h,p.clear=m)})):(p.get=g,p.remove=h,p.clear=m,p.set=s),p)},J={},K={};function V(e,t,n){var r=t;if("function"==typeof t||(r=J[t]))return r(e,n||{});throw new Error("Template "+t+" is not registered")}function Y(e,t){var n=K[e]||"function"==typeof e&&e.cjceDefaultTagName||"div";return V(n="fragment"===n?a.createDocumentFragment():"svg"===n||"path"===n?a.createElementNS("http://www.w3.org/2000/svg",n):a.createElement(n),e,t),n}var b=Object.freeze({__proto__:null,applyTemplate:V,createElement:Y,registerTemplate:function(e,t,n){J[e]=t,n&&(K[e]=n)},replaceChild:function(e,t,n){n&&n.parentNode===e?e.replaceChild(t,n):e.appendChild(t)}}),G=null;var X=c.runtime.getURL("PATH/").replace("/PATH/","").startsWith("safari-web-extension://");function Q(e){e=new Blob([e],{type:"octet/stream"});return URL.createObjectURL(e)}var e=Object.freeze({__proto__:null,createBlobUrl:Q,createBlobUrlFromJson:function(e,t){return Q(JSON.stringify(e,null,t?2:null))},downloadLink:function(e,t){var n;X?r.open(e,"_blank","noopener"):((n=a.createElement("a")).rel="noopener",n.download=t||!0,n.href=e,n.style.cssText="all:initial !important;visibility: hidden !important;opacity:0 !important;pointer-events: none !important;position: fixed !important;",n.textContent="Download",a.body.appendChild(n),n.click(),setTimeout(function(){n.remove()},1e4))}}),Z=-1!==navigator.platform.toLowerCase().indexOf("mac")?"metaKey":"ctrlKey";var $,U=Object.freeze({__proto__:null,defaultPrevented:function(e){return e.getPreventDefault&&e.getPreventDefault()||e.defaultPrevented},hasMeta:function(e){return e[Z]||1===e.button},hasModifier:function(e){return e.altKey||e.shiftKey||e.metaKey||e.ctrlKey}});var ee=Object.freeze({__proto__:null,isUsaCheck:function(){var e;return"boolean"!=typeof $&&(e=(new Date).getTimezoneOffset(),$=!(e<150||500<e)&&(e=navigator.language+"@",navigator.languages&&(e+=navigator.languages.join("@")),-1!==(e=e.toLowerCase().replace(/_/g,"-")).indexOf("-us")||"en"===navigator.language&&-1===e.indexOf("-ca"))),$}});var te=Object.freeze({__proto__:null,dec2hex:function(e){for(var t=e.toString().split(""),n=[],r=[];0<t.length;)for(var o=+t.shift(),i=0;o||i<n.length;i++)n[i]=(o+=10*(n[i]||0))%16,o=(o-n[i])/16;for(;0<n.length;)r.push(n.pop().toString(16));return r.join("")},hex2dec:function(e){function r(e,t){var n=0,r=[];for(e=e.split("").map(Number),t=t.split("").map(Number);0<e.length||0<t.length;){var o=(e.pop()||0)+(t.pop()||0)+n;r.unshift(o<10?o:o-10),n=o<10?0:1}return n&&r.unshift(n),r.join("")}var o="0";return e.split("").forEach(function(e){for(var t=parseInt(e,16),n=8;n;n>>=1)o=r(o,o),t&n&&(o=r(o,"1"))}),o}}),ne={},re={};var oe=Object.freeze({__proto__:null,loadScript:function(r){var e;return re[r]||((e=a.createElement("link")).as="script",e.rel="preload",e.href=r,a.head.appendChild(e),re[r]=new Promise(function(e,t){var n=a.createElement("script");n.src=r,n.async=!0,n.addEventListener("load",e),n.addEventListener("error",t),a.head.appendChild(n)})),re[r]},loadStyle:function(i){var e;return ne[i]||((e=a.createElement("link")).as="style",e.rel="preload",e.href=i,a.head.appendChild(e),ne[i]=new Promise(function(e,t){var n=a.createElement("link");function r(){n.removeEventListener("error",o),e()}function o(){n.removeEventListener("load",r),t(new Error("Loading failed"))}n.rel="stylesheet",n.href=i,n.addEventListener("load",r,{once:!0}),n.addEventListener("error",o,{once:!0}),a.head.appendChild(n)})),ne[i]}});var ie=Object.freeze({__proto__:null,generate:function(){return(Date.now()+Math.random()).toString(36).replace(".","_")}});function ae(n){var r=new URLSearchParams;return Object.keys(n).forEach(function(t){var e=n[t];null!=e&&(Array.isArray(n[t])?n[t].forEach(function(e){r.append(t,e)}):r.append(t,e))}),r}var se,_,ce,ue=Object.freeze({__proto__:null,attach:function(e,t,n){var t=ae(t).toString(),r=e;return t&&(r=r+(-1===e.indexOf("?")?"?":"&")+t),n&&(r+="#"+n),r},create:ae}),y=(r.browserStorage=v,r.cjce=b,"object"==typeof c.i18n&&"function"==typeof c.i18n.getMessage&&c.i18n),j=c.runtime.getURL("PATH/").replace("/PATH/",""),le=j+M.pathname,b=navigator.userAgent,fe=-1!==navigator.platform.toLowerCase().indexOf("mac"),de=/\bCrOS\b/.test(b),pe=/Edge?\/\d+/.test(b),w=-1!==b.indexOf("OPR"),he=-1!==b.indexOf("Whale"),me=-1!==b.indexOf("Vivaldi"),x=-1!==b.indexOf("Chrome"),O=j.startsWith("moz-extension://"),R=j.startsWith("safari-web-extension://"),b=/mobile/i.test(b),ge=O&&b,E=(b=c.tabs&&c.tabs.TAB_ID_NONE||-1,_=b,ce=new Promise(function(t){"object"==typeof c.tabs&&c.tabs.getCurrent?(setTimeout(t,2e3),c.tabs.getCurrent(function(e){"object"==typeof e&&"number"==typeof e.id&&(_=e.id),t(_)})):t(_)}),{mac:fe,chromeOS:de,chromeLike:!O&&!w,firefox:O,safari:R,firefoxMobile:ge,opera:w,preferNativeScrollbar:!1,mobileUserAgent:"Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.149 Mobile Safari/537.36",getActionableUrl:function(){return se=se||ve()},getTabId:function(){return ce},noTabId:b,getEnvironment:function(){return ge?"Firefox Mobile":O?"Firefox":de?"Chrome OS":me?"Vivaldi":pe?"Edge":w?"Opera":he?"Whale":"Chrome"}});function ve(){return"object"==typeof c.tabs&&c.tabs.query?new Promise(function(t){c.tabs.query({currentWindow:!0,active:!0},function(e){t(e[0])})}).then(function(e){var t=e&&e.url;if(t&&(e.id!==_&&t!==M.href&&(t.startsWith("https://")||t.startsWith("http://"))))return{title:e.title,url:t}}):Promise.resolve(null)}xe="bm_pref__webrequestcheck__wrifissue",T=E.noTabId,q=!(Re=Oe=!0),Ee=c.declarativeNetRequest&&"updateSessionRules"in c.declarativeNetRequest,L=me||!(O||R||w||de||pe||he)&&x,Se=[],Te=0,qe=Math.abs(Date.now()%21474836470|0),Le={type:"modifyHeaders",responseHeaders:[{header:"x-frame-options",operation:"remove"},{header:"report-to",operation:"remove"},{header:"content-security-policy-report-only",operation:"remove"},{header:"content-security-policy",operation:"remove"}]},Me(),be=E.getTabId().then(function(e){(T=e)!==E.noTabId&&(L=!1)}),ye=(R?Promise.resolve(!1):new Promise(function(n){c.permissions.contains({permissions:["webRequestBlocking"]},function(e){var t=c.runtime.lastError;n(!t&&!0===e)})}).catch(function(){return!1})).then(function(e){q=e}),je=Ue(),we=v.local.getItem(xe).then(function(e){S=!e}),Ce(),Be(),ke();var S,be,_e,ye,je,we,xe,T,Oe,Re,q,Ee,L,Se,Te,qe,Le,fe={addListener:P,catchAndStop:De,handleIframeHeaders:function(e,t){var t=t||{},e=e.filter(function(e){return new URL(e).origin.endsWith(".google.com")}),n=[];Ne(e,0,T,["sub_frame"],n),(t.useMobileUserAgent||t.handleSecVariables)&&function(e,o,i,n,r){var t=Ae();if(t){var a=[],s=(o.useMobileUserAgent&&a.push({header:"user-agent",operation:"set",value:i}),o.handleSecVariables&&a.push({header:"sec-fetch-dest",operation:"set",value:"document"}),{requestHeaders:a,type:"modifyHeaders"});if(e.forEach(function(e){var t=We();r.push({id:t,action:s,condition:{resourceTypes:n,urlFilter:e}})}),"both"!==t)return}P("onBeforeSendHeaders",function(e){for(var t=e.requestHeaders,n=0;n<t.length;n++){var r=t[n].name.toLowerCase();o.useMobileUserAgent&&"user-agent"===r&&(t[n].value=i),o.handleSecVariables&&"sec-fetch-dest"===r&&(t[n].value="document")}return{requestHeaders:t}},{types:n,urls:e},["blocking","requestHeaders"])}(e,t,cjBasics.navigator.mobileUserAgent,["sub_frame"],n),t.handleSwCache&&Ne(e,0,T,["xmlhttprequest"],n),0<n.length&&c.declarativeNetRequest.updateSessionRules({addRules:n}),t.disableOgs&&t.disableOgs.endsWith(".google.com")&&De(["https://ogs.google.com/*idget/app*"+encodeURIComponent(t.disableOgs)+"*usegapi=1*","https://ogs.google.com/*idget/account*"+encodeURIComponent(t.disableOgs)+"*"])},restoreWrifSupported:Ce,wrifSupported:!0,hasFirefoxContentBlocking:!1};function Pe(){return Promise.all([ye,be]).then(function(){if(!Ee){var e=c.webRequest&&(!L||S)&&q;if(!e)return we.then(function(){S||(cjBasics.webRequest.wrifSupported=!1)})}})}function ke(){Promise.all([be,je,we]).then(function(){T===E.noTabId&&c.webRequest&&q&&new Promise(function(t){var n,r,e="https://pay.google.com/webrequestcheck_"+cjBasics.uniqueId.generate()+"?bm_cid=webrequestcheck";function o(e){t(e),n.remove(),r.removeListener()}r=P("onBeforeRequest",function(){return o(L=!1),{cancel:!0}},{types:["sub_frame"],urls:[e]},["blocking"]),setTimeout(function(){n=Y("basic-iframe",{hidden:!0,src:e,sandbox:"allow-same-origin allow-scripts",onMessage:function(e){"webrequestcheck"===e.bm_method&&o(!0)}}),a.body.appendChild(n)})}).then(function(e){e!==S&&v.local.setItem(xe,e)})})}function Ce(){return _e=_e||Pe()}function Ie(t){return new Promise(function(e){a.addEventListener("click",e,{once:!0})}).then(function(){var e;return e=t,new Promise(function(n){c.permissions.request({permissions:e},function(e){var t=c.runtime.lastError;n(e&&!t)})}).catch(function(){return!1})})}function He(e){if(c.webRequest){var t=c.webRequest[e];if(t)for(var n in t)if("extraHeaders"===t[n])return!0}return!1}function Me(){Oe=He("OnBeforeSendHeadersOptions"),Re=He("OnHeadersReceivedOptions")}function Ue(){var e,t=[];return R||(e=ye.then(function(){return!!q||Ie(["webRequestBlocking"]).then(function(e){e&&(q=!0)})}),t.push(e)),c.webRequest?Me():(e=Ie(["webRequest"]).then(function(){Me()}),t.push(e)),Promise.all(t)}function Ae(){return!!Ee&&(!c.webRequest||!q||!!L&&(!!S||"both"))}function We(){var e=qe+(Te+=1);return Se.push(e),e}function Be(){var e;!c.declarativeNetRequest||1!==(e=c.extension.getViews()).length&&(2<e.length||-1===e[0].location.href.indexOf("background")&&-1===e[1].location.href.indexOf("background"))||c.declarativeNetRequest.getSessionRules(function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n].id;-1===Se.indexOf(r)&&t.push(r)}c.declarativeNetRequest.updateSessionRules({removeRuleIds:t})})}function P(e,t,n,r){var o;return"object"!=typeof c.webRequest?{removeListener:function(){}}:((n=n||{}).tabId!==E.noTabId&&(n.tabId=T),r&&(q||-1!==(o=r.indexOf("blocking"))&&r.splice(o,1),o=!0,"onHeadersReceived"===e?o=!Oe:"onBeforeSendHeaders"===e&&(o=!Re),o)&&-1!==(o=r.indexOf("extraHeaders"))&&r.splice(o,1),c.webRequest[e].addListener(i,n,r),{removeListener:function(){setTimeout(function(){c.webRequest[e].removeListener(i)},100)}});function i(e){if(!e.documentUrl||e.documentUrl.split("?")[0].split("#")[0]===le)return t(e)}}function De(e,t,n){var r=P("onBeforeRequest",function(e){return t&&t(e.url),n&&r.removeListener(),{cancel:!0}},{types:["sub_frame"],urls:e},["blocking"]);return r}function Ne(e,t,n,r,o){var i=Ae();i&&(e.forEach(function(e){e={id:We(),action:Le,condition:{resourceTypes:r,tabIds:[T],urlFilter:e}};o.push(e)}),"both"!==i)||P("onHeadersReceived",function(e){return{responseHeaders:e.responseHeaders.filter(function(e){var t,n=e.name.toLowerCase();return"content-security-policy"===n?(t=(e.value||"").split(/,+ ?/).map(function(e){var o=["frame-ancestors "+j];return e.split(/;+ ?/).forEach(function(e){var t=e.split(/ +/),n=t.shift();if("report-uri"!==n&&"report-to"!==n&&"frame-ancestors"!==n){if(O&&("script-src"===n||"script-src-elem"===n)){var r=!1;if(-1===t.indexOf("'report-sample'")&&(r=!0,t.push("'report-sample'")),r)return void o.push(n+" "+t.join(" "))}o.push(e)}}),o.join("; ")}).join(", "),e.value=t,!0):"report-to"!==n&&"x-frame-options"!==n&&"content-security-policy-report-only"!==n})}},{tabId:n,types:r,urls:e},["blocking","responseHeaders","extraHeaders"])}C=navigator.language,b=y&&y.getUILanguage().replace("_","-"),x=!1,(C="und"===(C=-1!==b.indexOf("-")||C.split("-")[0]!==b?b:C)?null:C)&&(x="en"===(b=C.split("-")[0].split("_")[0])||"zh"===b);var k,C,I,b=I={current:C,i18n:Fe,overwriteLanguage:function(t){if("en"===t||"eo"===t){if("en"!==t)return cjBasics.ajax("/_locales/"+t+"/messages.json",{fetchAs:"json"}).then(function(e){e&&(I.i18n=Je,C=t,I.current=C,k=e)});I.i18n=ze,C=t,I.current=C}},shortLang:x};function Fe(e,t){return e&&y&&y.getMessage(e)||t||""}function ze(e,t){return t||e&&y&&y.getMessage(e)||""}function Je(e,t){return e&&k&&k[e]&&k[e].message||Fe(e,t)}x={copy:function(e){navigator.clipboard?navigator.clipboard.writeText(e).then(function(){},function(){Ke(e)}):Ke(e)}};function Ke(e){try{if(a.queryCommandSupported&&a.queryCommandSupported("copy")){var t=a.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",t.style.opacity="0.01",a.body.appendChild(t),t.focus(),t.select();try{a.execCommand("copy")}catch(e){}a.body.removeChild(t)}}catch(e){}try{"object"==typeof clipboardData&&r.clipboardData.setData&&r.clipboardData.setData("Text",e)}catch(e){}}H=new Date,Ve=H.getFullYear(),Ye=H.getMonth(),Ge=H.getDate(),Xe=[b.i18n("cj_i18n_06255","Jan"),b.i18n("cj_i18n_06256","Feb"),b.i18n("cj_i18n_06257","Mar"),b.i18n("cj_i18n_06258","Apr"),b.i18n("cj_i18n_06259","May"),b.i18n("cj_i18n_06260","Jun"),b.i18n("cj_i18n_06261","Jul"),b.i18n("cj_i18n_06262","Aug"),b.i18n("cj_i18n_06263","Sep"),b.i18n("cj_i18n_06264","Oct"),b.i18n("cj_i18n_06265","Nov"),b.i18n("cj_i18n_06266","Dec")],H=[b.i18n("cj_i18n_00165","January"),b.i18n("cj_i18n_00166","February"),b.i18n("cj_i18n_00167","March"),b.i18n("cj_i18n_00168","April"),b.i18n("cj_i18n_00169","May"),b.i18n("cj_i18n_00170","June"),b.i18n("cj_i18n_00171","July"),b.i18n("cj_i18n_00172","August"),b.i18n("cj_i18n_00173","September"),b.i18n("cj_i18n_00174","October"),b.i18n("cj_i18n_00175","November"),b.i18n("cj_i18n_00176","December")],Qe=[b.i18n("cj_i18n_06254","Sun"),b.i18n("cj_i18n_06248","Mon"),b.i18n("cj_i18n_06249","Tue"),b.i18n("cj_i18n_06250","Wed"),b.i18n("cj_i18n_06251","Thu"),b.i18n("cj_i18n_06252","Fri"),b.i18n("cj_i18n_06253","Sat")],Ze=b.i18n("cj_i18n_01253","Today"),$e=b.i18n("cj_i18n_00226","Yesterday"),et=b.i18n("cj_i18n_06247","Tomorrow");var Ve,Ye,Ge,Xe,Qe,Ze,$e,et,H={printDateString:function(e,t){var t=t||{},n=function(e,t){var n=e.getFullYear(),r=e.getMonth(),o=e.getDate();if(n===Ve&&r===Ye){if(o===Ge)return Ze;if(Ge-o==1)return $e;if(Ge-o==-1)return et}return r=Xe[r]+" "+o,n&&(n!==Ve||t.alwaysYear)?r+", "+n:t.weekday?Qe[e.getDay()]+", "+r:r}(e=new Date(e),t);return t.time?n+(", "+tt((t=e).getHours())+":"+tt(t.getMinutes())):n},fullMonthNames:H,shortWeekdayNames:Qe};function tt(e){return e?9<e?e.toString():"0"+e.toString():"00"}r.cjBasics={ajax:function(e,t){var i=t||{},a=i.fetchAs||"text";return new Promise(function(n,r){var o;return"undefined"==typeof XMLHttpRequest?fetch(e,{method:i.method||"GET",body:i.body}).then(function(e){var t=e.status;return t<200||299<t?e.text().then(function(e){throw{status:t,body:e}}):"json"===a?e.json():e.text()}):((o=new XMLHttpRequest).open(i.method||"GET",e),o.addEventListener("load",function(){var e=o.status,t=o.responseText;if(e<200||299<e)r({status:e,body:t});else if("json"===a)try{n(JSON.parse(t))}catch(e){r(e)}else"xml"===a||"html"===a?(G=G||new DOMParser,n(G.parseFromString(t,"xml"===a?"text/xml":"text/html"))):n(t)}),o.addEventListener("error",function(){var e=o.status,t=o.responseText;r({status:e,body:t})}),i.credentials&&"include"===i.credentials&&(o.withCredentials=!0),i.headers&&Object.keys(i.headers).forEach(function(e){var t=i.headers[e];null!=t&&o.setRequestHeader(e,t)}),"json"===a&&o.overrideMimeType("application/json"),o.send(i.body),o)})},cleanBmUrl:function(e){var t=(e=new URL(e)).origin+e.pathname,n=e.search.replace("?","").split("&").filter(function(e){return!(e.startsWith("bm_")||e.startsWith("shell=")||e.startsWith("hl=")||e.startsWith("forcehl="))}).join("&");return 2<n.length&&(t+="?"+n),1<(n=(n=e.hash).startsWith("#")?n.replace("#",""):n).length&&(t+="#"+n),t=t.endsWith("?undefined")?t.replace("?undefined",""):t},clipboard:x,datetime:H,download:e,events:U,geo:ee,htmlToFragment:function(e){for(var t,n=a.createDocumentFragment(),r=e.replace(/<i>|<\/i>/g,"").split(/<b>|<\/b>/g),o=0;o<r.length;o++)o%2?((t=a.createElement("b")).textContent=r[o],n.appendChild(t)):n.appendChild(a.createTextNode(r[o]));return n},lang:b,navigator:E,numbers:te,resources:oe,uniqueId:ie,urlParams:ue,webRequest:fe}}();